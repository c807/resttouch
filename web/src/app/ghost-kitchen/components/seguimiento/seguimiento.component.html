<table mat-table [dataSource]="ordenesgk" multiTemplateDataRows class="mat-elevation-z8">
    <ng-container matColumnDef="orden_gk">
        <th mat-header-cell *matHeaderCellDef>No.</th>
        <td mat-cell *matCellDef="let element">{{element.orden_gk}} </td>
    </ng-container>
    <ng-container matColumnDef="comanda_origen">
        <th mat-header-cell *matHeaderCellDef>Origen</th>
        <td mat-cell *matCellDef="let element">{{element.comanda_origen.descripcion || ''}}</td>
    </ng-container>
    <ng-container matColumnDef="fhcreacion">
        <th mat-header-cell *matHeaderCellDef>Fecha/Hora</th>
        <td mat-cell *matCellDef="let element">{{(element.fhcreacion | date:'dd/MM/yyyy HH:mm:ss') || ''}}</td>
    </ng-container>
    <ng-container matColumnDef="numero_orden">
        <th mat-header-cell *matHeaderCellDef>Pedido</th>
        <td mat-cell *matCellDef="let element">{{element.numero_orden}}</td>
    </ng-container>
    <ng-container matColumnDef="estatus_orden_gk">
        <th mat-header-cell *matHeaderCellDef>Estatus</th>
        <td mat-cell *matCellDef="let element">{{element.estatus_orden_gk.descripcion}}</td>
    </ng-container>
    <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Total</th>
        <td mat-cell *matCellDef="let element">{{element.orden_rt.total_orden | number:'1.2-2'}}</td>
    </ng-container>        
    <!-- <ng-container matColumnDef="imprimir">
        <th mat-header-cell *matHeaderCellDef style="width: 10%;">Imprimir</th>
        <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">
            <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="imprimir(element)">
                Imprimir
            </button>
        </td>
    </ng-container>
    <ng-container matColumnDef="cancelar">
        <th mat-header-cell *matHeaderCellDef style="width: 10%;">Cancelar</th>
        <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">
            <button mat-flat-button type="button" class="btnCelSize" color="accent"
                (click)="cancelarPedido(element)">
                Cancelar
            </button>
        </td>
    </ng-container>
    <ng-container matColumnDef="facturar">
        <th mat-header-cell *matHeaderCellDef style="width: 10%;">Facturar</th>
        <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">
            <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="firmar(element)">
                Facturar
            </button>
        </td>
    </ng-container> -->

    <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
    <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
            <div class="example-element-detail" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                <table style="width: 100%; background-color:#f5f5f5; table-layout: fixed;">
                    <caption>
                        <h5>Detalle del pedido #{{element.numero_orden}}</h5>                        
                    </caption>
                    <thead>
                        <th class="ltxt atiende-style">Atiende</th>                        
                        <th class="ctxt num-width">Cantidad</th>
                        <th class="ltxt articulo-style">Art√≠culo</th>
                        <th class="rtxt num-width">Precio</th>
                        <th class="rtxt num-width">Descuento</th>
                        <th class="rtxt num-width">Total</th>
                    </thead>
                    <tbody>                        
                        <ng-container *ngFor="let det of element.orden_rt.articulos">
                            <tr>
                                <td class="atiende-style">{{det.atiende.nombre}}</td>
                                <td class="ctxt num-width">{{det.cantidad}}</td>
                                <td class="articulo-style">{{det.descripcion}}</td>
                                <td class="rtxt num-width">{{det.precio | number:'1.2-2'}}</td>
                                <td class="rtxt num-width">{{det.descuento | number:'1.2-2'}}</td>
                                <td class="rtxt num-width">{{det.total | number:'1.2-2'}}</td>                                
                            </tr>    
                        </ng-container>
                    </tbody>
                </table>
            </div>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"
        [class.example-expanded-row]="expandedElement === element"
        (click)="expandedElement = expandedElement === element ? null : element">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
</table>
