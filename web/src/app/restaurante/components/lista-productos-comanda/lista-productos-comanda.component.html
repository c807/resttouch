<mat-list class="fullWidth" [style.height]="listHeight">
    <mat-list-item *ngFor="let p of listaProductos; let i = index;" [ngClass]="{'noImpreso': +p.impreso === 0}" [style.height]="p.itemListHeight">
        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">
            <div class="row">
                <div class="col m6 s12">
                    <span>{{p.cantidad}}&nbsp;{{p.nombre}}</span>
                </div>
                <div class="col m6 s12" align="end">
                    <!--<span class="spacer"></span>-->
                    <span>{{(p.cantidad * p.precio) | number: '1.2-2'}}</span>&nbsp;
                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 0">
                        <eco-fab-speed-dial-trigger>
                            <button mat-fab>
                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>
                            </button>
                        </eco-fab-speed-dial-trigger>
                        <eco-fab-speed-dial-actions>
                            <button mat-mini-fab (click)="deleteProductoFromList(p, i)" color="warn" [disabled]="bloqueoBotones">
                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>
                            </button>
                            <button mat-mini-fab (click)="removeProducto(p, i)" color="warn" [disabled]="bloqueoBotones">
                                <mat-icon style="font-size: 16pt !important;">remove_circle</mat-icon>
                            </button>
                            <button mat-mini-fab (click)="toggleShowInputNotas(p)" color="accent" [disabled]="bloqueoBotones">
                                <mat-icon style="font-size: 16pt !important;">notes</mat-icon>
                            </button>
                        </eco-fab-speed-dial-actions>
                    </eco-fab-speed-dial>
                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 1">
                        <eco-fab-speed-dial-trigger>
                            <button mat-fab>
                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>
                            </button>
                        </eco-fab-speed-dial-trigger>
                        <eco-fab-speed-dial-actions>
                            <button mat-mini-fab (click)="deleteProductoFromListAfterPrinted(p, i)" color="warn" [disabled]="bloqueoBotones">
                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>
                            </button>
                        </eco-fab-speed-dial-actions>
                    </eco-fab-speed-dial>
                </div>
            </div>
        </div>
        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">
            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && esMovil">
                <input matInput placeholder="Notas de producto" [(ngModel)]="p.notas"
                    (keyup.enter)="toggleShowInputNotas(p)">
            </mat-form-field>
            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && !esMovil">
                <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric"
                    ng-virtual-keyboard-placeholder="Notas de producto" placeholder="Notas de producto"
                    [(ngModel)]="p.notas" (keyup.enter)="toggleShowInputNotas(p)">
            </mat-form-field>
        </div>
    </mat-list-item>
</mat-list>