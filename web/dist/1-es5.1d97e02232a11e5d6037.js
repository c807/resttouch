!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1,9],{"3e6T":function(t,n,i){"use strict";i.d(n,"a",function(){return d});var c=i("sKxO"),a=i("R5jZ"),r=i("un/a"),l=i("JIr8"),s=i("Qyje"),u=i("fXoL"),b=i("tk/3"),d=function(){var t=function(){function t(o){e(this,t),this.http=o,this.srvcErrHndl=new a.a}return o(t,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(c.a.urlCatalogos,"/get_tipo_movimiento?").concat(s.stringify(e))).pipe(Object(r.a)(c.a.reintentos),Object(l.a)(this.srvcErrHndl.errorHandler))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Xb(b.b))},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},FHMA:function(t,n,i){"use strict";i.d(n,"a",function(){return d});var c=i("tk/3"),a=i("sKxO"),r=i("R5jZ"),l=i("un/a"),s=i("JIr8"),u=i("fXoL"),b=i("FY0D"),d=function(){var t=function(){function t(o,n){e(this,t),this.http=o,this.ls=n,this.usrToken=null,this.httpOptions={responseType:"blob"},this.srvcErrHndl=new r.a,this.usrToken=this.ls.get(a.a.usrTokenVar)?this.ls.get(a.a.usrTokenVar).token:null,this.httpOptions.headers=new c.d({Authorization:this.usrToken,Accept:"application/pdf"})}return o(t,[{key:"getReporteCaja",value:function(e){return this.http.post("".concat(a.a.urlAppRestaurante,"/reporte/caja"),e,this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getReporteExistencia",value:function(e){return this.httpOptions.params=e,this.http.get("".concat(a.a.urlWms,"/reporte/existencia"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getReporteValorizado",value:function(e){return this.httpOptions.params=e,this.http.get("".concat(a.a.urlWms,"/reporte/valorizado"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"imprimirInventarioFisico",value:function(e,t){return this.httpOptions.params=t,this.http.get("".concat(a.a.urlWms,"/fisico/imprimir/").concat(e),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"imprimirReceta",value:function(e){return this.http.get("".concat(a.a.urlMantenimientos,"/articulo/imprimir_receta/").concat(e),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getReporteKardex",value:function(e){return this.httpOptions.params=e,this.http.get("".concat(a.a.urlWms,"/reporte/kardex"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getReporteFactura",value:function(e){return this.httpOptions.params=e,this.http.get("".concat(a.a.urlAppRestaurante,"/reporte/factura"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getReportePropina",value:function(e){return this.httpOptions.params=e,this.http.get("".concat(a.a.urlAppRestaurante,"/reporte/distribucion_propina"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}},{key:"getComanda",value:function(e){return this.http.get("".concat(a.a.urlAppRestaurante,"/comanda/imprimir/").concat(e,"/1"),this.httpOptions).pipe(Object(l.a)(a.a.reintentos),Object(s.a)(this.srvcErrHndl.errorHandler))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Xb(c.b),u.Xb(b.a))},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},IJgu:function(t,n,i){"use strict";i.d(n,"b",function(){return S}),i.d(n,"a",function(){return T});var c=i("0IaG"),a=i("fXoL"),r=i("ofXK"),l=i("bTqV"),s=i("kmnG"),u=i("d3UM"),b=i("3Pt+"),d=i("FKr1"),f=i("qFsG");function g(e,t){if(1&e&&(a.Tb(0,"mat-option",11),a.Dc(1),a.Sb()),2&e){var o=t.$implicit,n=a.fc(2).$implicit;a.lc("value",o[n.id]),a.Cb(1),a.Fc(" ",o[n.descripcion]," ")}}var m=function(){return{standalone:!0}};function p(e,t){if(1&e){var o=a.Ub();a.Tb(0,"mat-form-field",8),a.Tb(1,"mat-label"),a.Dc(2),a.Sb(),a.Tb(3,"mat-select",9),a.bc("ngModelChange",function(e){return a.wc(o),a.fc().$implicit.valor=e}),a.Cc(4,g,2,2,"mat-option",10),a.Sb(),a.Sb()}if(2&e){var n=a.fc().$implicit;a.Cb(2),a.Ec(n.label),a.Cb(1),a.lc("ngModel",n.valor)("ngModelOptions",a.nc(5,m))("required",n.requerido),a.Cb(1),a.lc("ngForOf",n.datos)}}function h(e,t){if(1&e){var o=a.Ub();a.Tb(0,"mat-form-field",8),a.Tb(1,"input",12),a.bc("ngModelChange",function(e){return a.wc(o),a.fc().$implicit.valor=e}),a.Sb(),a.Sb()}if(2&e){var n=a.fc().$implicit;a.Cb(1),a.lc("placeholder",n.label)("name",n.label)("ngModel",n.valor)("required",n.requerido)}}function v(e,t){if(1&e&&(a.Tb(0,"p"),a.Cc(1,p,5,6,"mat-form-field",7),a.Cc(2,h,2,4,"mat-form-field",7),a.Sb()),2&e){var o=t.$implicit;a.Cb(1),a.lc("ngIf",o.select),a.Cb(1),a.lc("ngIf",!o.select)}}function C(e,t){if(1&e&&(a.Tb(0,"div"),a.Cc(1,v,3,2,"p",6),a.Sb()),2&e){var o=a.fc();a.Cb(1),a.lc("ngForOf",o.config.input)}}var S=function t(o,n,i,c){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e(this,t),this.title=o,this.message=n,this.lblBtnConfirm=i,this.lblBtnDeny=c,this.config=a},T=function(){var t=function(){function t(o,n){e(this,t),this.dialogRef=o,this.data=n,this.title=n.title,this.message=n.message,this.lblBtnConfirm=n.lblBtnConfirm,this.lblBtnDeny=n.lblBtnDeny,this.config=n.config}return o(t,[{key:"ngOnInit",value:function(){}},{key:"onConfirm",value:function(){this.dialogRef.close(null===this.config||{resultado:!0,config:this.config})}},{key:"onDismiss",value:function(){this.dialogRef.close(null!==this.config&&{resultado:!1,config:this.config})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Nb(c.f),a.Nb(c.a))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","","align","center"],["mat-raised-button","",1,"btnConfig",3,"click"],["mat-raised-button","","color","accent",1,"btnConfig",3,"click"],[4,"ngFor","ngForOf"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["name","input.label",3,"ngModel","ngModelOptions","required","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text",3,"placeholder","name","ngModel","required","ngModelChange"]],template:function(e,t){1&e&&(a.Tb(0,"h1",0),a.Dc(1),a.Sb(),a.Tb(2,"div",1),a.Tb(3,"p"),a.Dc(4),a.Sb(),a.Cc(5,C,2,1,"div",2),a.Sb(),a.Tb(6,"div",3),a.Tb(7,"button",4),a.bc("click",function(){return t.onDismiss()}),a.Dc(8),a.Sb(),a.Tb(9,"button",5),a.bc("click",function(){return t.onConfirm()}),a.Dc(10),a.Sb(),a.Sb()),2&e&&(a.Cb(1),a.Fc(" ",t.title,"\n"),a.Cb(3),a.Ec(t.message),a.Cb(1),a.lc("ngIf",t.config&&t.config.input),a.Cb(3),a.Ec(t.lblBtnDeny),a.Cb(2),a.Ec(t.lblBtnConfirm))},directives:[c.g,c.d,r.m,c.c,l.a,r.l,s.b,s.e,u.a,b.k,b.n,b.p,d.k,f.b,b.c],styles:[".btnConfig[_ngcontent-%COMP%]{width:70px;height:48px}"]}),t}()},Iab2:function(e,t,o){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,c,a){var r=i.URL||i.webkitURL,l=document.createElement("a");l.download=c=c||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):o(l.href)?t(e,c,a):n(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,c){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,c),i);else if(o(e))t(e,i,c);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){n(a)})}}:function(e,o,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,o,n);var r="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&l||c)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var b=i.URL||i.webkitURL,d=b.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){b.revokeObjectURL(d)},4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?n.apply(t,[]):n)||(e.exports=i)},NU9O:function(t,n,i){"use strict";i.d(n,"a",function(){return b});var c=i("fXoL"),a=i("ofXK"),r=i("bTqV");function l(e,t){if(1&e){var o=c.Ub();c.Tb(0,"button",3),c.bc("click",function(){return c.wc(o),c.fc().onHtmlClick()}),c.Dc(1," Generar "),c.Sb()}if(2&e){var n=c.fc();c.lc("disabled",n.configuracion.isHtmlDisabled)}}function s(e,t){if(1&e){var o=c.Ub();c.Tb(0,"button",3),c.bc("click",function(){return c.wc(o),c.fc().onPdfClick()}),c.Dc(1," PDF "),c.Sb()}if(2&e){var n=c.fc();c.lc("disabled",n.configuracion.isPdfDisabled)}}function u(e,t){if(1&e){var o=c.Ub();c.Tb(0,"button",3),c.bc("click",function(){return c.wc(o),c.fc().onExcelClick()}),c.Dc(1," Excel "),c.Sb()}if(2&e){var n=c.fc();c.lc("disabled",n.configuracion.isExcelDisabled)}}var b=function(){var t=function(){function t(){var o=this;e(this,t),this.htmlClick=new c.o,this.pdfClick=new c.o,this.excelClick=new c.o,this.resetParamsClick=new c.o,this.configuracion={isHtmlDisabled:!1,isPdfDisabled:!1,isExcelDisabled:!1,showHtml:!0,showPdf:!0,showExcel:!0},this.onHtmlClick=function(){return o.htmlClick.emit()},this.onPdfClick=function(){return o.pdfClick.emit()},this.onExcelClick=function(){return o.excelClick.emit()},this.onResetParamsClick=function(){return o.resetParamsClick.emit()}}return o(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["app-rpt-botones"]],inputs:{configuracion:"configuracion"},outputs:{htmlClick:"htmlClick",pdfClick:"pdfClick",excelClick:"excelClick",resetParamsClick:"resetParamsClick"},decls:6,vars:3,consts:[["align","end"],["mat-raised-button","","type","button","class","btnAccion","color","accent",3,"disabled","click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"disabled","click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Cc(1,l,2,1,"button",1),c.Cc(2,s,2,1,"button",1),c.Cc(3,u,2,1,"button",1),c.Tb(4,"button",2),c.bc("click",function(){return t.onResetParamsClick()}),c.Dc(5," Restaurar "),c.Sb(),c.Sb()),2&e&&(c.Cb(1),c.lc("ngIf",t.configuracion.showHtml),c.Cb(1),c.lc("ngIf",t.configuracion.showPdf),c.Cb(1),c.lc("ngIf",t.configuracion.showExcel))},directives:[a.m,r.a],styles:[""]}),t}()},TOq3:function(t,n,i){"use strict";i.d(n,"a",function(){return a});var c=i("fXoL"),a=function(){var t=function(){function t(){e(this,t),this.configuracion={w:150,h:150,align:"center",size:100}}return o(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["app-cargando"]],inputs:{configuracion:"configuracion"},decls:2,vars:7,consts:[[3,"align"],["id","imgCargando","src","/assets/img/loading.gif","alt","Cargando..."]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Ob(1,"img",1),c.Sb()),2&e&&(c.zc("width",t.configuracion.size,"%"),c.lc("align",t.configuracion.align),c.Cb(1),c.zc("width",t.configuracion.w,"px")("height",t.configuracion.h,"px"))},styles:[""]}),t}()},vtFA:function(t,n,i){"use strict";i.r(n),i.d(n,"WmsModule",function(){return wc});var c,a=i("ofXK"),r=i("tk/3"),l=i("3Pt+"),s=i("PCNd"),u=i("MutI"),b=i("NFeN"),d=i("kmnG"),f=i("qFsG"),g=i("Wp6s"),m=i("f0Cb"),p=i("wZkO"),h=i("+0xr"),v=i("d3UM"),C=i("bSwM"),S=i("bTqV"),T=i("dNgK"),D=i("/t3+"),M=i("STbY"),I=i("zkoq"),w=i("M9IT"),k=i("0IaG"),_=i("XhcP"),y=i("8yBR"),O=i("/1cH"),F=i("tyNb"),x=i("0T/Q"),E=i("sKxO"),A=i("wd/R"),P=i("fXoL"),B=i("FY0D"),R=i("R5jZ"),U=i("un/a"),N=i("JIr8"),H=i("Qyje"),j=((c=function(){function t(o){e(this,t),this.http=o,this.ingresoUrl="ingreso",this.srvcErrHndl=new R.a}return o(t,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(E.a.urlWms,"/").concat(this.ingresoUrl,"/buscar_ingreso?").concat(H.stringify(e))).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"save",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.ingresoUrl,"/guardar").concat(+e.ingreso>0?"/"+e.ingreso:""),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"getDetalle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.get("".concat(E.a.urlWms,"/").concat(this.ingresoUrl,"/buscar_detalle/").concat(e,"?").concat(H.stringify(t))).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"saveDetalle",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.ingresoUrl,"/guardar_detalle/").concat(e.ingreso).concat(+e.ingreso_detalle>0?"/"+e.ingreso_detalle:""),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}}]),t}()).\u0275fac=function(e){return new(e||c)(P.Xb(r.b))},c.\u0275prov=P.Jb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),z=i("FKr1");function G(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-list-item",5),P.bc("click",function(){P.wc(o);var e=t.$implicit;return P.fc().getIngreso(e)}),P.Tb(1,"mat-icon",6),P.Dc(2,"trending_up"),P.Sb(),P.Tb(3,"h5",7),P.Dc(4),P.Sb(),P.Ob(5,"br"),P.Tb(6,"p",7),P.Dc(7),P.gc(8,"date"),P.Ob(9,"br"),P.Dc(10),P.Ob(11,"br"),P.Sb(),P.Tb(12,"p",7),P.Dc(13),P.Sb(),P.Sb()}if(2&e){var n=t.$implicit;P.Cb(4),P.Fc("No. ",n.ingreso,""),P.Cb(3),P.Fc(" Fecha: ",P.ic(8,4,n.fecha,"dd/MM/yyyy"),""),P.Cb(3),P.Fc(" Bodega: ",n.bodega.descripcion,""),P.Cb(3),P.Fc(" Proveedor: ",n.proveedor.razon_social," ")}}var q,$=function(){return{standalone:!0}},W=((q=function(){function t(o){var n=this;e(this,t),this.ingresoSrvc=o,this.getIngresoEv=new P.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadIngresos=function(){n.ingresoSrvc.get().subscribe(function(e){e&&e.length>0&&(n.lstIngresos=e,n.applyFilter())})},this.getIngreso=function(e){n.getIngresoEv.emit({ingreso:e.ingreso,tipo_movimiento:e.tipo_movimiento.tipo_movimiento,fecha:e.fecha,bodega_origen:e.bodega_origen&&e.bodega_origen.bodega?e.bodega_origen.bodega:null,bodega:e.bodega.bodega,usuario:e.usuario.usuario,comentario:e.comentario,proveedor:e.proveedor.proveedor})},this.pageChange=function(e){n.pageSize=e.pageSize,n.pageIndex=e.pageIndex,n.applyFilter()}}return o(t,[{key:"ngOnInit",value:function(){this.loadIngresos()}},{key:"applyFilter",value:function(){if(this.txtFiltro.length>0){var e=Object(E.b)(this.lstIngresos,this.txtFiltro);this.length=e.length,this.lstIngresosPaged=Object(E.c)(e,this.pageSize,this.pageIndex+1)}else this.length=this.lstIngresos.length,this.lstIngresosPaged=Object(E.c)(this.lstIngresos,this.pageSize,this.pageIndex+1)}}]),t}()).\u0275fac=function(e){return new(e||q)(P.Nb(j))},q.\u0275cmp=P.Hb({type:q,selectors:[["app-lista-ingreso"]],outputs:{getIngresoEv:"getIngresoEv"},decls:7,vars:7,consts:[[1,"mat-elevation-z4","fullWidth",2,"height","100% important"],[1,"fullWidth"],["matInput","","placeholder","Buscar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(e,t){1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-content"),P.Tb(2,"mat-form-field",1),P.Tb(3,"input",2),P.bc("keyup",function(){return t.applyFilter()})("ngModelChange",function(e){return t.txtFiltro=e}),P.Sb(),P.Sb(),P.Tb(4,"mat-nav-list"),P.Cc(5,G,14,7,"mat-list-item",3),P.Sb(),P.Tb(6,"mat-paginator",4),P.bc("page",function(e){return t.pageChange(e)}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(3),P.lc("ngModel",t.txtFiltro)("ngModelOptions",P.nc(6,$)),P.Cb(2),P.lc("ngForOf",t.lstIngresosPaged),P.Cb(1),P.lc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[g.a,g.c,d.b,f.b,l.c,l.k,l.n,u.e,a.l,w.a,u.c,b.a,u.b,z.h],pipes:[a.e],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),q),L=i("50cD"),V=i("3e6T"),Q=i("u5dX"),X=i("NGYs"),K=i("C5NV");function J(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showIngresoForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function Z(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showIngresoForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function Y(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.tipo_movimiento),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function ee(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Tipo de movimiento"),P.Sb(),P.Tb(3,"mat-select",17),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).ingreso.tipo_movimiento=e}),P.Cc(4,Y,2,2,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.ingreso.tipo_movimiento),P.Cb(1),P.lc("ngForOf",n.tiposMovimiento)}}function te(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function oe(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function ne(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",21),P.bc("click",function(){return P.wc(o),P.fc(3).ingreso.bodega_origen=void 0}),P.Tb(1,"mat-icon",6),P.Dc(2,"close"),P.Sb(),P.Sb()}}function ie(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Bodega de origen"),P.Sb(),P.Tb(3,"mat-select",19),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).ingreso.bodega_origen=e}),P.Cc(4,oe,2,2,"mat-option",13),P.Sb(),P.Cc(5,ne,3,0,"button",20),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.ingreso.bodega_origen),P.Cb(1),P.lc("ngForOf",n.bodegas),P.Cb(1),P.lc("ngIf",n.ingreso.bodega_origen)}}function ce(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Gc(" (",o.nit,") ",o.razon_social," ")}}var ae=function(){return{standalone:!0}};function re(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Proveedor"),P.Sb(),P.Tb(3,"input",22),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtProveedorSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarProveedores(e.txtProveedorSelected)}),P.Sb(),P.Tb(4,"mat-autocomplete",23,24),P.Cc(6,ce,2,3,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.tc(5),i=P.fc(2);P.Cb(3),P.lc("ngModel",i.txtProveedorSelected)("ngModelOptions",P.nc(5,ae))("matAutocomplete",n),P.Cb(1),P.lc("displayWith",i.displayProveedor),P.Cb(2),P.lc("ngForOf",i.filteredProveedores)}}function le(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",25),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).ingreso.comentario=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.ingreso.comentario)}}function se(e,t){if(1&e&&(P.Tb(0,"button",26),P.Dc(1," Guardar "),P.Sb()),2&e){P.fc();var o=P.tc(1),n=P.fc();P.lc("disabled",!o.form.valid||n.bloqueoBotones)}}function ue(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",27),P.bc("click",function(){return P.wc(o),P.fc(2).resetIngreso()}),P.Dc(1," Nuevo "),P.Sb()}}function be(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,8),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc();return e.form.valid&&t.onSubmit()}),P.Cc(2,ee,5,2,"mat-form-field",9),P.Tb(3,"mat-form-field",10),P.Tb(4,"input",11),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().ingreso.fecha=e}),P.Sb(),P.Sb(),P.Tb(5,"mat-form-field",10),P.Tb(6,"mat-label"),P.Dc(7,"Bodega"),P.Sb(),P.Tb(8,"mat-select",12),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().ingreso.bodega=e}),P.Cc(9,te,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Cc(10,ie,6,3,"mat-form-field",9),P.Cc(11,re,7,6,"mat-form-field",9),P.Cc(12,le,2,1,"mat-form-field",9),P.Tb(13,"div",14),P.Cc(14,se,2,1,"button",15),P.Cc(15,ue,2,0,"button",16),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(2),P.lc("ngIf",n.saveToDB),P.Cb(2),P.lc("ngModel",n.ingreso.fecha),P.Cb(4),P.lc("ngModel",n.ingreso.bodega),P.Cb(1),P.lc("ngForOf",n.bodegas),P.Cb(1),P.lc("ngIf",n.saveToDB),P.Cb(1),P.lc("ngIf",n.saveToDB),P.Cb(1),P.lc("ngIf",n.esMovil),P.Cb(2),P.lc("ngIf",n.saveToDB),P.Cb(1),P.lc("ngIf",n.ingreso.ingreso)}}function de(e,t){1&e&&P.Ob(0,"hr")}function fe(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleIngresoForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function ge(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleIngresoForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function me(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function pe(e,t){if(1&e&&(P.Tb(0,"mat-option",18),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.presentacion),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function he(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",36),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).detalleIngreso.cantidad=e})("change",function(){P.wc(o);var e=P.fc(3);return e.detalleIngreso.precio_total=+e.detalleIngreso.precio_unitario*+e.detalleIngreso.cantidad}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.detalleIngreso.cantidad)}}function ve(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",37),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).detalleIngreso.precio_unitario=e})("change",function(){P.wc(o);var e=P.fc(3);return e.detalleIngreso.precio_total=+e.detalleIngreso.precio_unitario*+e.detalleIngreso.cantidad}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.detalleIngreso.precio_unitario)}}function Ce(e,t){if(1&e&&(P.Tb(0,"button",26),P.Dc(1," Guardar "),P.Sb()),2&e){P.fc();var o=P.tc(1),n=P.fc(2);P.lc("disabled",!o.form.valid||n.bloqueoBotones)}}var Se=function(){return[2,3]};function Te(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",38),P.bc("click",function(){return P.wc(o),P.fc(3).addToDetail()}),P.Dc(1," Nuevo "),P.Sb()}if(2&e){P.fc();var n=P.tc(1),i=P.fc(2);P.lc("disabled",!n.form.valid||P.nc(1,Se).indexOf(+i.ingreso.estatus_movimiento)>=0)}}function De(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",27),P.bc("click",function(){return P.wc(o),P.fc(3).resetDetalleIngreso()}),P.Dc(1," Nuevo "),P.Sb()}}function Me(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,30),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc(2);return e.form.valid&&t.onSubmitDetail()}),P.Tb(2,"mat-form-field",10),P.Tb(3,"mat-label"),P.Dc(4,"Art\xedculo"),P.Sb(),P.Tb(5,"input",31),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtArticuloSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarArticulos(e.txtArticuloSelected)}),P.Sb(),P.Tb(6,"mat-autocomplete",32,33),P.bc("optionSelected",function(){return P.wc(o),P.fc(2).setPresentaciones()}),P.Cc(8,me,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Tb(9,"mat-form-field",10),P.Tb(10,"mat-label"),P.Dc(11,"Presentaci\xf3n"),P.Sb(),P.Tb(12,"mat-select",34),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).detalleIngreso.presentacion=e}),P.Cc(13,pe,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Cc(14,he,2,1,"mat-form-field",9),P.Cc(15,ve,2,1,"mat-form-field",9),P.Tb(16,"div",14),P.Cc(17,Ce,2,1,"button",15),P.Cc(18,Te,2,2,"button",35),P.Cc(19,De,2,0,"button",16),P.Sb(),P.Sb()}if(2&e){var n=P.tc(7),i=P.fc(2);P.Cb(5),P.lc("ngModel",i.txtArticuloSelected)("ngModelOptions",P.nc(12,ae))("matAutocomplete",n),P.Cb(1),P.lc("displayWith",i.displayArticulo),P.Cb(2),P.lc("ngForOf",i.filteredArticulos),P.Cb(4),P.lc("ngModel",i.detalleIngreso.presentacion),P.Cb(1),P.lc("ngForOf",i.fltrPresentaciones),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(1),P.lc("ngIf",i.esMovil&&i.saveToDB),P.Cb(2),P.lc("ngIf",i.saveToDB),P.Cb(1),P.lc("ngIf",!i.saveToDB),P.Cb(1),P.lc("ngIf",i.detalleIngreso.ingreso_detalle)}}function Ie(e,t){1&e&&P.Ob(0,"hr")}function we(e,t){1&e&&(P.Tb(0,"th",52),P.Dc(1,"Art\xedculo"),P.Sb())}function ke(e,t){if(1&e&&(P.Tb(0,"td",53),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.articulo.descripcion:n.getDescripcionArticulo(o.articulo),"")}}function _e(e,t){1&e&&(P.Tb(0,"th",52),P.Dc(1,"Presentaci\xf3n"),P.Sb())}function ye(e,t){if(1&e&&(P.Tb(0,"td",53),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.presentacion.descripcion:n.getDescripcionPresentacion(o.presentacion)," ")}}function Oe(e,t){1&e&&(P.Tb(0,"th",54),P.Dc(1,"Cantidad"),P.Sb())}function Fe(e,t){if(1&e&&(P.Tb(0,"td",55),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.cantidad,"1.2-2"))}}function xe(e,t){1&e&&(P.Tb(0,"th",54),P.Dc(1,"Costo Unitario Con IVA"),P.Sb())}function Ee(e,t){if(1&e&&(P.Tb(0,"td",55),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Fc("",P.ic(2,1,o.precio_unitario,"1.2-2")," ")}}function Ae(e,t){1&e&&(P.Tb(0,"th",54),P.Dc(1,"Costo Total con IVA"),P.Sb())}function Pe(e,t){if(1&e&&(P.Tb(0,"td",55),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.precio_total,"1.2-2"))}}function Be(e,t){1&e&&(P.Tb(0,"th",52),P.Dc(1,"\xa0"),P.Sb())}function Re(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",38),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).getDetalleIngreso(e.ingreso,e.ingreso_detalle)}),P.Dc(1," Editar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",n.bloqueoBotones)}}function Ue(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",38),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).removeFromDetail(e.articulo)}),P.Dc(1," Editar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",P.nc(1,Se).indexOf(+n.ingreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function Ne(e,t){if(1&e&&(P.Tb(0,"td",53),P.Cc(1,Re,2,1,"button",35),P.Cc(2,Ue,2,2,"button",35),P.Sb()),2&e){var o=P.fc(3);P.Cb(1),P.lc("ngIf",o.saveToDB),P.Cb(1),P.lc("ngIf",!o.saveToDB)}}function He(e,t){1&e&&P.Ob(0,"tr",56)}function je(e,t){1&e&&P.Ob(0,"tr",57)}function ze(e,t){if(1&e&&(P.Tb(0,"table",39),P.Rb(1,40),P.Cc(2,we,2,0,"th",41),P.Cc(3,ke,2,1,"td",42),P.Qb(),P.Rb(4,43),P.Cc(5,_e,2,0,"th",41),P.Cc(6,ye,2,1,"td",42),P.Qb(),P.Rb(7,44),P.Cc(8,Oe,2,0,"th",45),P.Cc(9,Fe,3,4,"td",46),P.Qb(),P.Rb(10,47),P.Cc(11,xe,2,0,"th",45),P.Cc(12,Ee,3,4,"td",46),P.Qb(),P.Rb(13,48),P.Cc(14,Ae,2,0,"th",45),P.Cc(15,Pe,3,4,"td",46),P.Qb(),P.Rb(16,49),P.Cc(17,Be,2,0,"th",41),P.Cc(18,Ne,3,2,"td",42),P.Qb(),P.Cc(19,He,1,0,"tr",50),P.Cc(20,je,1,0,"tr",51),P.Sb()),2&e){var o=P.fc(2);P.lc("dataSource",o.dataSource),P.Cb(19),P.lc("matHeaderRowDef",o.displayedColumns),P.Cb(1),P.lc("matRowDefColumns",o.displayedColumns)}}function Ge(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,fe,3,0,"button",1),P.Cc(5,ge,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,Me,20,13,"form",2),P.Cc(8,Ie,1,0,"hr",3),P.Tb(9,"mat-form-field",10),P.Tb(10,"input",28),P.bc("keyup",function(e){return P.wc(o),P.fc().applyFilter(e.target.value)}),P.Sb(),P.Sb(),P.Cc(11,ze,21,3,"table",29),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(3),P.Gc(" Detalle del ingreso ",n.saveToDB?"No.":""," ",n.ingreso.ingreso," "),P.Cb(1),P.lc("ngIf",!n.showDetalleIngresoForm),P.Cb(1),P.lc("ngIf",n.showDetalleIngresoForm),P.Cb(2),P.lc("ngIf",n.showDetalleIngresoForm),P.Cb(1),P.lc("ngIf",n.detallesIngreso.length>0),P.Cb(3),P.lc("ngIf",n.detallesIngreso.length>0)}}var qe,$e,We,Le=((qe=function(){function t(o,n,i,c,a,r,l,s){var u=this;e(this,t),this.snackBar=o,this.ls=n,this.ingresoSrvc=i,this.proveedorSrvc=c,this.tipoMovimientoSrvc=a,this.bodegaSrvc=r,this.articuloSrvc=l,this.presentacinSrvc=s,this.saveToDB=!0,this.ingresoSavedEv=new P.o,this.showIngresoForm=!0,this.showDetalleIngresoForm=!0,this.detallesIngreso=[],this.displayedColumns=["articulo","presentacion","cantidad","costo_unitario","costo_total","deleteItem"],this.tiposMovimiento=[],this.proveedores=[],this.filteredProveedores=[],this.bodegas=[],this.articulos=[],this.filteredArticulos=[],this.presentaciones=[],this.fltrPresentaciones=[],this.esMovil=!1,this.bloqueoBotones=!1,this.txtArticuloSelected=void 0,this.txtProveedorSelected=void 0,this.loadTiposMovimiento=function(){u.tipoMovimientoSrvc.get({ingreso:1}).subscribe(function(e){e&&(u.tiposMovimiento=e)})},this.loadProveedores=function(){u.proveedorSrvc.get().subscribe(function(e){e&&(u.proveedores=e)})},this.loadBodegas=function(){u.bodegaSrvc.get({sede:+u.ls.get(E.a.usrTokenVar).sede||0}).subscribe(function(e){e&&(u.bodegas=e)})},this.loadPresentaciones=function(){u.presentacinSrvc.get().subscribe(function(e){e&&(u.presentaciones=e)})},this.resetIngreso=function(){u.ingreso={ingreso:null,tipo_movimiento:null,fecha:A().format(E.a.dbDateFormat),bodega:null,usuario:u.ls.get(E.a.usrTokenVar).idusr||0,comentario:null,proveedor:null,estatus_movimiento:1},u.resetDetalleIngreso(),u.detallesIngreso=[],u.updateTableDataSource(),u.txtProveedorSelected=void 0},this.onSubmit=function(){u.bloqueoBotones=!0,u.ingresoSrvc.save(u.ingreso).subscribe(function(e){u.resetIngreso(),e.exito&&(u.ingreso=e.ingreso,u.setProveedor(+u.ingreso.proveedor)),u.ingresoSavedEv.emit(),u.bloqueoBotones=!1})},this.loadArticulos=function(){u.articuloSrvc.getArticulosIngreso().subscribe(function(e){e&&(u.articulos=e)})},this.resetDetalleIngreso=function(){u.detalleIngreso={ingreso_detalle:null,ingreso:u.ingreso.ingreso?u.ingreso.ingreso:null,articulo:null,cantidad:null,precio_unitario:null,precio_total:null,presentacion:0},u.txtArticuloSelected=void 0},this.loadDetalleIngreso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+u.ingreso.ingreso;u.ingresoSrvc.getDetalle(e,{ingreso:e}).subscribe(function(e){e&&(u.detallesIngreso=e,u.updateTableDataSource())})},this.getDetalleIngreso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+u.ingreso.ingreso,t=arguments.length>1?arguments[1]:void 0;u.ingresoSrvc.getDetalle(e,{ingreso_detalle:t}).subscribe(function(e){e&&(u.detalleIngreso={ingreso_detalle:e[0].ingreso_detalle,ingreso:e[0].ingreso,articulo:e[0].articulo.articulo,cantidad:+e[0].cantidad,precio_unitario:+e[0].precio_unitario,precio_total:+e[0].precio_total,presentacion:e[0].presentacion.presentacion},u.setPresentaciones(),u.txtArticuloSelected=e[0].articulo,u.showDetalleIngresoForm=!0)})},this.onSubmitDetail=function(){u.bloqueoBotones=!0,u.detalleIngreso.ingreso=u.ingreso.ingreso,u.detalleIngreso.precio_total=+u.detalleIngreso.cantidad*+u.detalleIngreso.precio_unitario,u.ingresoSrvc.saveDetalle(u.detalleIngreso).subscribe(function(e){e&&(u.loadDetalleIngreso(),u.resetDetalleIngreso()),u.bloqueoBotones=!1})},this.addToDetail=function(){u.detallesIngreso.push(u.detalleIngreso),u.resetDetalleIngreso(),u.updateTableDataSource()},this.removeFromDetail=function(e){return u.detallesIngreso.splice(u.detallesIngreso.findIndex(function(t){return+t.articulo==+e}),1)},this.getDescripcionArticulo=function(e){return u.articulos.find(function(t){return+t.articulo==+e}).descripcion||""},this.getDescripcionPresentacion=function(e){return u.presentaciones.find(function(t){return+t.presentacion==+e}).descripcion||""},this.updateTableDataSource=function(){u.dataSource=new h.k(u.detallesIngreso),u.dataSource.filterPredicate=function(e,t){return e.articulo.descripcion.toLowerCase().includes(t)}},this.eliminarArticulo=function(e){u.detallesIngreso.splice(u.detallesIngreso.findIndex(function(t){return t.ingreso_detalle===e.ingreso_detalle}),1),u.updateTableDataSource()},this.filtrarArticulos=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase();u.filteredArticulos=u.articulos.filter(function(e){return e.descripcion.toLowerCase().includes(t)})}else u.filteredArticulos=u.articulos},this.displayArticulo=function(e){if(e)return u.detalleIngreso.articulo=e.articulo,e.descripcion},this.filtrarProveedores=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase();u.filteredProveedores=u.proveedores.filter(function(e){return e.razon_social.toLowerCase().includes(t)||e.nit.toLowerCase().includes(t)})}else u.filteredProveedores=u.proveedores},this.displayProveedor=function(e){if(e)return u.ingreso.proveedor=e.proveedor,"(".concat(e.nit,") ").concat(e.razon_social)},this.setPresentaciones=function(){u.fltrPresentaciones=[];var e=u.articulos.findIndex(function(e){return+e.articulo==+u.detalleIngreso.articulo}),t=u.articulos[e];u.fltrPresentaciones=u.presentaciones.filter(function(e){return+e.medida.medida==+t.presentacion.medida})},this.setProveedor=function(e){return u.txtProveedorSelected=u.proveedores.find(function(t){return+t.proveedor===e})},this.applyFilter=function(e){u.dataSource.filter=e.toLocaleLowerCase()}}return o(t,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(E.a.usrTokenVar).enmovil||!1,this.resetIngreso(),this.loadTiposMovimiento(),this.loadProveedores(),this.loadBodegas(),this.loadArticulos(),this.loadPresentaciones()}}]),t}()).\u0275fac=function(e){return new(e||qe)(P.Nb(T.a),P.Nb(B.a),P.Nb(j),P.Nb(L.a),P.Nb(V.a),P.Nb(Q.a),P.Nb(X.a),P.Nb(K.a))},qe.\u0275cmp=P.Hb({type:qe,selectors:[["app-form-ingreso"]],inputs:{ingreso:"ingreso",saveToDB:"saveToDB"},outputs:{ingresoSavedEv:"ingresoSavedEv"},decls:10,vars:6,consts:[[1,"mat-elevation-z4","fullWidth"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmIngreso","ngForm"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["matInput","","type","date","placeholder","Fecha","name","fecha","required","",3,"ngModel","ngModelChange"],["name","bodega","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","type","submit","color","accent","class","btnAccion",3,"disabled",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],["name","tipo_movimiento","required","",3,"ngModel","ngModelChange"],[3,"value"],["name","bodega_origen",3,"ngModel","ngModelChange"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","text","placeholder","Proveedor","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith"],["autoProveedores","matAutocomplete"],["matInput","","placeholder","Comentarios","name","comentario",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","placeholder","Buscar",3,"keyup"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleIngreso","ngForm"],["type","text","placeholder","Art\xedculo","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith","optionSelected"],["autoArticulos","matAutocomplete"],["name","presentacion","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",3,"disabled","click",4,"ngIf"],["matInput","","placeholder","Cantidad","name","cantidad","required","",3,"ngModel","ngModelChange","change"],["matInput","","placeholder","Costo unitario Con IVA","name","precio_unitario","required","",3,"ngModel","ngModelChange","change"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","presentacion"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","costo_unitario"],["matColumnDef","costo_total"],["matColumnDef","deleteItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,J,3,0,"button",1),P.Cc(5,Z,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,be,16,9,"form",2),P.Sb(),P.Sb(),P.Cc(8,de,1,0,"hr",3),P.Cc(9,Ge,12,7,"mat-card",4)),2&e&&(P.Cb(3),P.Fc(" Ingreso",t.ingreso.ingreso?" No. "+t.ingreso.ingreso:""," "),P.Cb(1),P.lc("ngIf",!t.showIngresoForm),P.Cb(1),P.lc("ngIf",t.showIngresoForm),P.Cb(2),P.lc("ngIf",t.showIngresoForm),P.Cb(1),P.lc("ngIf",t.ingreso.ingreso||!t.saveToDB),P.Cb(1),P.lc("ngIf",t.ingreso.ingreso||!t.saveToDB))},directives:[g.a,g.h,a.m,g.c,S.a,b.a,l.r,l.l,l.m,d.b,f.b,l.c,l.p,l.k,l.n,d.e,v.a,a.l,z.k,d.f,O.c,O.a,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,h.f,h.h],pipes:[a.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),qe),Ve=["lstIngreso"],Qe=["frmIngreso"],Xe=((We=function(){function t(o){var n=this;e(this,t),this.ls=o,this.breakpoint=2,this.onWindowResize=function(e){n.breakpoint=e.target.innerWidth<=360?1:2},this.setIngreso=function(e){n.ingreso=e,n.frmIngreso.setProveedor(+n.ingreso.proveedor),n.frmIngreso.loadDetalleIngreso(+n.ingreso.ingreso),n.frmIngreso.resetDetalleIngreso()},this.refreshIngresoList=function(){n.lstIngresoComponent.loadIngresos()},this.ingreso={ingreso:null,tipo_movimiento:null,fecha:A().format(E.a.dbDateFormat),bodega:null,usuario:this.ls.get(E.a.usrTokenVar).idusr||0,comentario:null,proveedor:null}}return o(t,[{key:"ngOnInit",value:function(){this.breakpoint=window.innerWidth<=360?1:2}}]),t}()).\u0275fac=function(e){return new(e||We)(P.Nb(B.a))},We.\u0275cmp=P.Hb({type:We,selectors:[["app-ingreso"]],viewQuery:function(e,t){var o;1&e&&(P.Ic(Ve,1),P.Ic(Qe,1)),2&e&&(P.sc(o=P.cc())&&(t.lstIngresoComponent=o.first),P.sc(o=P.cc())&&(t.frmIngreso=o.first))},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getIngresoEv"],["lstIngreso",""],[1,"col","m7","s12"],[3,"ingreso","ingresoSavedEv"],["frmIngreso",""]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"app-lista-ingreso",2,3),P.bc("getIngresoEv",function(e){return t.setIngreso(e)}),P.Sb(),P.Sb(),P.Tb(4,"div",4),P.Tb(5,"app-form-ingreso",5,6),P.bc("ingresoSavedEv",function(){return t.refreshIngresoList()}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(5),P.lc("ingreso",t.ingreso))},directives:[W,Le],styles:[""]}),We),Ke=(($e=function(){function t(o){e(this,t),this.http=o,this.egresoUrl="egreso",this.srvcErrHndl=new R.a}return o(t,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(E.a.urlWms,"/").concat(this.egresoUrl,"/buscar_egreso?").concat(H.stringify(e))).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"save",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.egresoUrl,"/guardar").concat(+e.egreso>0?"/"+e.egreso:""),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"getDetalle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.get("".concat(E.a.urlWms,"/").concat(this.egresoUrl,"/buscar_detalle/").concat(e,"?").concat(H.stringify(t))).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"saveDetalle",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.egresoUrl,"/guardar_detalle/").concat(e.egreso).concat(+e.egreso_detalle>0?"/"+e.egreso_detalle:""),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}}]),t}()).\u0275fac=function(e){return new(e||$e)(P.Xb(r.b))},$e.\u0275prov=P.Jb({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e);function Je(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-list-item",5),P.bc("click",function(){P.wc(o);var e=t.$implicit;return P.fc().getEgreso(e)}),P.Tb(1,"mat-icon",6),P.Dc(2,"trending_down"),P.Sb(),P.Tb(3,"h5",7),P.Dc(4),P.Sb(),P.Ob(5,"br"),P.Tb(6,"p",7),P.Dc(7),P.gc(8,"date"),P.Ob(9,"br"),P.Dc(10),P.Ob(11,"br"),P.Sb(),P.Sb()}if(2&e){var n=t.$implicit;P.Cb(4),P.Fc("No. ",n.egreso,""),P.Cb(3),P.Fc(" Fecha: ",P.ic(8,3,n.fecha,"dd/MM/yyyy"),""),P.Cb(3),P.Fc(" Bodega: ",n.bodega.descripcion,"")}}var Ze,Ye,et=function(){return{standalone:!0}},tt=((Ye=function(){function t(o){var n=this;e(this,t),this.egresoSrvc=o,this.getEgresoEv=new P.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadEgresos=function(){n.egresoSrvc.get().subscribe(function(e){e&&e.length>0&&(n.lstEgresos=e,n.applyFilter())})},this.getEgreso=function(e){n.getEgresoEv.emit({egreso:e.egreso,tipo_movimiento:e.tipo_movimiento.tipo_movimiento,bodega:e.bodega.bodega,fecha:e.fecha,usuario:e.usuario.usuario,estatus_movimiento:e.estatus_movimiento||1,traslado:e.traslado||0})},this.pageChange=function(e){n.pageSize=e.pageSize,n.pageIndex=e.pageIndex,n.applyFilter()}}return o(t,[{key:"ngOnInit",value:function(){this.loadEgresos()}},{key:"applyFilter",value:function(){if(this.txtFiltro.length>0){var e=Object(E.b)(this.lstEgresos,this.txtFiltro);this.length=e.length,this.lstEgresosPaged=Object(E.c)(e,this.pageSize,this.pageIndex+1)}else this.length=this.lstEgresos.length,this.lstEgresosPaged=Object(E.c)(this.lstEgresos,this.pageSize,this.pageIndex+1)}}]),t}()).\u0275fac=function(e){return new(e||Ye)(P.Nb(Ke))},Ye.\u0275cmp=P.Hb({type:Ye,selectors:[["app-lista-egreso"]],outputs:{getEgresoEv:"getEgresoEv"},decls:7,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","placeholder","Buscar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(e,t){1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-content"),P.Tb(2,"mat-form-field",1),P.Tb(3,"input",2),P.bc("keyup",function(){return t.applyFilter()})("ngModelChange",function(e){return t.txtFiltro=e}),P.Sb(),P.Sb(),P.Tb(4,"mat-nav-list"),P.Cc(5,Je,12,6,"mat-list-item",3),P.Sb(),P.Tb(6,"mat-paginator",4),P.bc("page",function(e){return t.pageChange(e)}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(3),P.lc("ngModel",t.txtFiltro)("ngModelOptions",P.nc(6,et)),P.Cb(2),P.lc("ngForOf",t.lstEgresosPaged),P.Cb(1),P.lc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[g.a,g.c,d.b,f.b,l.c,l.k,l.n,u.e,a.l,w.a,u.c,b.a,u.b,z.h],pipes:[a.e],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),Ye),ot=((Ze=function(){function t(o){e(this,t),this.http=o,this.conversorUrl="conversor",this.srvcErrHndl=new R.a}return o(t,[{key:"transformar",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.conversorUrl,"/transformar"),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"producir",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.conversorUrl,"/producir"),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}}]),t}()).\u0275fac=function(e){return new(e||Ze)(P.Xb(r.b))},Ze.\u0275prov=P.Jb({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze);function nt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showEgresoForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function it(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showEgresoForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function ct(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.tipo_movimiento),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function at(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Tipo de movimiento"),P.Sb(),P.Tb(3,"mat-select",19),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).egreso.tipo_movimiento=e}),P.Cc(4,ct,2,2,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.egreso.tipo_movimiento),P.Cb(1),P.lc("ngForOf",n.tiposMovimiento)}}function rt(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function lt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-checkbox",21),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc(2).egreso.traslado=e)}),P.Dc(1,"\xbfEs traslado entre bodegas de la misma sede? "),P.Sb()}if(2&e){var n=P.fc(2);P.lc("ngModel",+n.egreso.traslado)}}function st(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function ut(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Bodega destino"),P.Sb(),P.Tb(3,"mat-select",22),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).egreso.bodega_destino=e}),P.Cc(4,st,2,2,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.egreso.bodega_destino)("required",1==+n.egreso.traslado),P.Cb(1),P.lc("ngForOf",n.bodegas)}}function bt(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.tipo_movimiento),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function dt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Tipo de movimiento destino"),P.Sb(),P.Tb(3,"mat-select",23),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).egreso.tipo_movimiento_destino=e}),P.Cc(4,bt,2,2,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.egreso.tipo_movimiento_destino)("required",1==+n.egreso.traslado),P.Cb(1),P.lc("ngForOf",n.tiposMovimientoIngreso)}}function ft(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Gc(" (",o.nit,") ",o.razon_social," ")}}var gt=function(){return{standalone:!0}};function mt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"mat-label"),P.Dc(2,"Proveedor"),P.Sb(),P.Tb(3,"input",24),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtProveedorSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarProveedores(e.txtProveedorSelected)}),P.Sb(),P.Tb(4,"mat-autocomplete",25,26),P.Cc(6,ft,2,3,"mat-option",13),P.Sb(),P.Sb()}if(2&e){var n=P.tc(5),i=P.fc(2);P.Cb(3),P.lc("ngModel",i.txtProveedorSelected)("ngModelOptions",P.nc(5,gt))("matAutocomplete",n),P.Cb(1),P.lc("displayWith",i.displayProveedor),P.Cb(2),P.lc("ngForOf",i.filteredProveedores)}}var pt=function(){return[2,3]};function ht(e,t){if(1&e&&(P.Tb(0,"button",27),P.Dc(1," Guardar "),P.Sb()),2&e){P.fc();var o=P.tc(1),n=P.fc();P.lc("disabled",!o.form.valid||P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function vt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",28),P.bc("click",function(){return P.wc(o),P.fc(2).confirmarEgreso()}),P.Dc(1," Confirmar "),P.Sb()}if(2&e){P.fc();var n=P.tc(1),i=P.fc();P.lc("disabled",!n.form.valid||P.nc(1,pt).indexOf(+i.egreso.estatus_movimiento)>=0)}}function Ct(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",29),P.bc("click",function(){return P.wc(o),P.fc(2).resetEgreso()}),P.Dc(1," Nuevo "),P.Sb()}}function St(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,8),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc();return e.form.valid&&t.onSubmit()}),P.Cc(2,at,5,2,"mat-form-field",9),P.Tb(3,"mat-form-field",10),P.Tb(4,"input",11),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().egreso.fecha=e}),P.Sb(),P.Sb(),P.Tb(5,"mat-form-field",10),P.Tb(6,"mat-label"),P.Dc(7,"Bodega"),P.Sb(),P.Tb(8,"mat-select",12),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().egreso.bodega=e}),P.Cc(9,rt,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Cc(10,lt,2,1,"mat-checkbox",14),P.Cc(11,ut,5,3,"mat-form-field",9),P.Cc(12,dt,5,3,"mat-form-field",9),P.Cc(13,mt,7,6,"mat-form-field",9),P.Tb(14,"div",15),P.Cc(15,ht,2,2,"button",16),P.Cc(16,vt,2,2,"button",17),P.Cc(17,Ct,2,0,"button",18),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(2),P.lc("ngIf",n.saveToDB),P.Cb(2),P.lc("ngModel",n.egreso.fecha),P.Cb(4),P.lc("ngModel",n.egreso.bodega),P.Cb(1),P.lc("ngForOf",n.bodegas),P.Cb(1),P.lc("ngIf",n.saveToDB),P.Cb(1),P.lc("ngIf",1==+n.egreso.traslado&&P.nc(11,pt).indexOf(+n.egreso.estatus_movimiento)<0),P.Cb(1),P.lc("ngIf",1==+n.egreso.traslado&&P.nc(12,pt).indexOf(+n.egreso.estatus_movimiento)<0),P.Cb(1),P.lc("ngIf",1==+n.egreso.traslado&&P.nc(13,pt).indexOf(+n.egreso.estatus_movimiento)<0),P.Cb(2),P.lc("ngIf",n.saveToDB),P.Cb(1),P.lc("ngIf",n.egreso.egreso&&n.detallesEgreso.length>0),P.Cb(1),P.lc("ngIf",n.egreso.egreso)}}function Tt(e,t){1&e&&P.Ob(0,"hr")}function Dt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleEgresoForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function Mt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleEgresoForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function It(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function wt(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.presentacion),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function kt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",38),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).detalleEgreso.cantidad=e})("change",function(){P.wc(o);var e=P.fc(3);return e.detalleEgreso.precio_total=+e.detalleEgreso.precio_unitario*+e.detalleEgreso.cantidad}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.detalleEgreso.cantidad)}}function _t(e,t){if(1&e&&(P.Tb(0,"button",27),P.Dc(1," Guardar "),P.Sb()),2&e){P.fc();var o=P.tc(1),n=P.fc(2);P.lc("disabled",!o.form.valid||P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function yt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",39),P.bc("click",function(){return P.wc(o),P.fc(3).addToDetail()}),P.Dc(1," Nuevo "),P.Sb()}if(2&e){P.fc();var n=P.tc(1),i=P.fc(2);P.lc("disabled",!n.form.valid||P.nc(1,pt).indexOf(+i.egreso.estatus_movimiento)>=0)}}function Ot(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",29),P.bc("click",function(){return P.wc(o),P.fc(3).resetDetalleEgreso()}),P.Dc(1," Nuevo "),P.Sb()}}function Ft(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,32),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc(2);return e.form.valid&&t.onSubmitDetail()}),P.Tb(2,"mat-form-field",10),P.Tb(3,"mat-label"),P.Dc(4,"Art\xedculo"),P.Sb(),P.Tb(5,"input",33),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtArticuloSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarArticulos(e.txtArticuloSelected)}),P.Sb(),P.Tb(6,"mat-autocomplete",34,35),P.bc("optionSelected",function(){return P.wc(o),P.fc(2).setPresentaciones()}),P.Cc(8,It,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Tb(9,"mat-form-field",10),P.Tb(10,"mat-label"),P.Dc(11,"Presentaci\xf3n"),P.Sb(),P.Tb(12,"mat-select",36),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).detalleEgreso.presentacion=e}),P.Cc(13,wt,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Cc(14,kt,2,1,"mat-form-field",9),P.Tb(15,"div",15),P.Cc(16,_t,2,2,"button",16),P.Cc(17,yt,2,2,"button",37),P.Cc(18,Ot,2,0,"button",18),P.Sb(),P.Sb()}if(2&e){var n=P.tc(7),i=P.fc(2);P.Cb(5),P.lc("ngModel",i.txtArticuloSelected)("ngModelOptions",P.nc(11,gt))("matAutocomplete",n),P.Cb(1),P.lc("displayWith",i.displayArticulo),P.Cb(2),P.lc("ngForOf",i.filteredArticulos),P.Cb(4),P.lc("ngModel",i.detalleEgreso.presentacion),P.Cb(1),P.lc("ngForOf",i.fltrPresentaciones),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(2),P.lc("ngIf",i.saveToDB),P.Cb(1),P.lc("ngIf",!i.saveToDB),P.Cb(1),P.lc("ngIf",i.detalleEgreso.egreso_detalle)}}function xt(e,t){1&e&&P.Ob(0,"hr")}function Et(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"Art\xedculo"),P.Sb())}function At(e,t){if(1&e&&(P.Tb(0,"td",54),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.articulo.descripcion:n.getDescripcionArticulo(o.articulo),"")}}function Pt(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"Presentaci\xf3n"),P.Sb())}function Bt(e,t){if(1&e&&(P.Tb(0,"td",54),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.presentacion.descripcion:n.getDescripcionPresentacion(o.presentacion)," ")}}function Rt(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Cantidad"),P.Sb())}function Ut(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.cantidad,"1.2-2"))}}function Nt(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Costo Unitario"),P.Sb())}function Ht(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Fc("",P.ic(2,1,o.precio_unitario,"1.2-2")," ")}}function jt(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Costo Total"),P.Sb())}function zt(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.precio_total,"1.2-2"))}}function Gt(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"\xa0"),P.Sb())}function qt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",28),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).getDetalleEgreso(e.egreso,e.egreso_detalle)}),P.Dc(1," Editar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function $t(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",39),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).removeFromDetail(e.articulo)}),P.Dc(1," Eliminar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function Wt(e,t){if(1&e&&(P.Tb(0,"td",54),P.Cc(1,qt,2,2,"button",17),P.Cc(2,$t,2,2,"button",37),P.Sb()),2&e){var o=P.fc(3);P.Cb(1),P.lc("ngIf",o.saveToDB),P.Cb(1),P.lc("ngIf",!o.saveToDB)}}function Lt(e,t){1&e&&P.Ob(0,"tr",57)}function Vt(e,t){1&e&&P.Ob(0,"tr",58)}function Qt(e,t){if(1&e&&(P.Tb(0,"table",40),P.Rb(1,41),P.Cc(2,Et,2,0,"th",42),P.Cc(3,At,2,1,"td",43),P.Qb(),P.Rb(4,44),P.Cc(5,Pt,2,0,"th",42),P.Cc(6,Bt,2,1,"td",43),P.Qb(),P.Rb(7,45),P.Cc(8,Rt,2,0,"th",46),P.Cc(9,Ut,3,4,"td",47),P.Qb(),P.Rb(10,48),P.Cc(11,Nt,2,0,"th",46),P.Cc(12,Ht,3,4,"td",47),P.Qb(),P.Rb(13,49),P.Cc(14,jt,2,0,"th",46),P.Cc(15,zt,3,4,"td",47),P.Qb(),P.Rb(16,50),P.Cc(17,Gt,2,0,"th",42),P.Cc(18,Wt,3,2,"td",43),P.Qb(),P.Cc(19,Lt,1,0,"tr",51),P.Cc(20,Vt,1,0,"tr",52),P.Sb()),2&e){var o=P.fc(2);P.lc("dataSource",o.dataSource),P.Cb(19),P.lc("matHeaderRowDef",o.displayedColumns),P.Cb(1),P.lc("matRowDefColumns",o.displayedColumns)}}function Xt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,Dt,3,0,"button",1),P.Cc(5,Mt,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,Ft,19,12,"form",2),P.Cc(8,xt,1,0,"hr",3),P.Tb(9,"mat-form-field",10),P.Tb(10,"input",30),P.bc("keyup",function(e){return P.wc(o),P.fc().applyFilter(e.target.value)}),P.Sb(),P.Sb(),P.Cc(11,Qt,21,3,"table",31),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(3),P.Gc(" Detalle del egreso ",n.saveToDB?"No.":""," ",n.egreso.egreso," "),P.Cb(1),P.lc("ngIf",!n.showDetalleEgresoForm),P.Cb(1),P.lc("ngIf",n.showDetalleEgresoForm),P.Cb(2),P.lc("ngIf",n.showDetalleEgresoForm),P.Cb(1),P.lc("ngIf",n.detallesEgreso.length>0),P.Cb(3),P.lc("ngIf",n.detallesEgreso.length>0)}}function Kt(e,t){1&e&&P.Ob(0,"hr")}function Jt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleEgresoForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function Zt(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleEgresoForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function Yt(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function eo(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.presentacion),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function to(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",38),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).detalleMerma.cantidad=e})("change",function(){P.wc(o);var e=P.fc(3);return e.detalleMerma.precio_total=+e.detalleMerma.precio_unitario*+e.detalleMerma.cantidad}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.detalleMerma.cantidad)}}function oo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",60),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).detalleMerma.precio_unitario=e})("change",function(){P.wc(o);var e=P.fc(3);return e.detalleMerma.precio_total=+e.detalleMerma.precio_unitario*+e.detalleMerma.cantidad}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.detalleMerma.precio_unitario)}}function no(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",39),P.bc("click",function(){return P.wc(o),P.fc(3).addToDetailMerma()}),P.Dc(1," Nuevo "),P.Sb()}if(2&e){P.fc();var n=P.tc(1),i=P.fc(2);P.lc("disabled",!n.form.valid||P.nc(1,pt).indexOf(+i.egreso.estatus_movimiento)>=0)}}function io(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,59),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc(2);return e.form.valid&&t.onSubmitDetail()}),P.Tb(2,"mat-form-field",10),P.Tb(3,"mat-label"),P.Dc(4,"Art\xedculo"),P.Sb(),P.Tb(5,"input",33),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtArticuloSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarArticulos(e.txtArticuloSelected)}),P.Sb(),P.Tb(6,"mat-autocomplete",34,35),P.bc("optionSelected",function(){return P.wc(o),P.fc(2).setPresentacionesMerma()}),P.Cc(8,Yt,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Tb(9,"mat-form-field",10),P.Tb(10,"mat-label"),P.Dc(11,"Presentaci\xf3n"),P.Sb(),P.Tb(12,"mat-select",36),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).detalleMerma.presentacion=e}),P.Cc(13,eo,2,2,"mat-option",13),P.Sb(),P.Sb(),P.Cc(14,to,2,1,"mat-form-field",9),P.Cc(15,oo,2,1,"mat-form-field",9),P.Tb(16,"div",15),P.Cc(17,no,2,2,"button",37),P.Sb(),P.Sb()}if(2&e){var n=P.tc(7),i=P.fc(2);P.Cb(5),P.lc("ngModel",i.txtArticuloSelected)("ngModelOptions",P.nc(10,gt))("matAutocomplete",n),P.Cb(1),P.lc("displayWith",i.displayArticuloMerma),P.Cb(2),P.lc("ngForOf",i.filteredArticulos),P.Cb(4),P.lc("ngModel",i.detalleMerma.presentacion),P.Cb(1),P.lc("ngForOf",i.fltrPresentacionesMerma),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(2),P.lc("ngIf",!i.saveToDB)}}function co(e,t){1&e&&P.Ob(0,"hr")}function ao(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"Art\xedculo"),P.Sb())}function ro(e,t){if(1&e&&(P.Tb(0,"td",54),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.articulo.descripcion:n.getDescripcionArticulo(o.articulo),"")}}function lo(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"Presentaci\xf3n"),P.Sb())}function so(e,t){if(1&e&&(P.Tb(0,"td",54),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc(3);P.Cb(1),P.Fc(" ",n.saveToDB?o.presentacion.descripcion:n.getDescripcionPresentacion(o.presentacion)," ")}}function uo(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Cantidad"),P.Sb())}function bo(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.cantidad,"1.2-2"))}}function fo(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Costo Unitario"),P.Sb())}function go(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Fc("",P.ic(2,1,o.precio_unitario,"1.2-2")," ")}}function mo(e,t){1&e&&(P.Tb(0,"th",55),P.Dc(1,"Costo Total"),P.Sb())}function po(e,t){if(1&e&&(P.Tb(0,"td",56),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.precio_total,"1.2-2"))}}function ho(e,t){1&e&&(P.Tb(0,"th",53),P.Dc(1,"\xa0"),P.Sb())}function vo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",28),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).getDetalleEgreso(e.egreso,e.egreso_detalle)}),P.Dc(1," Editar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function Co(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",39),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc(3).removeFromDetail(e.articulo)}),P.Dc(1," Eliminar "),P.Sb()}if(2&e){var n=P.fc(4);P.lc("disabled",P.nc(1,pt).indexOf(+n.egreso.estatus_movimiento)>=0||n.bloqueoBotones)}}function So(e,t){if(1&e&&(P.Tb(0,"td",54),P.Cc(1,vo,2,2,"button",17),P.Cc(2,Co,2,2,"button",37),P.Sb()),2&e){var o=P.fc(3);P.Cb(1),P.lc("ngIf",o.saveToDB),P.Cb(1),P.lc("ngIf",!o.saveToDB)}}function To(e,t){1&e&&P.Ob(0,"tr",57)}function Do(e,t){1&e&&P.Ob(0,"tr",58)}function Mo(e,t){if(1&e&&(P.Tb(0,"table",40),P.Rb(1,41),P.Cc(2,ao,2,0,"th",42),P.Cc(3,ro,2,1,"td",43),P.Qb(),P.Rb(4,44),P.Cc(5,lo,2,0,"th",42),P.Cc(6,so,2,1,"td",43),P.Qb(),P.Rb(7,45),P.Cc(8,uo,2,0,"th",46),P.Cc(9,bo,3,4,"td",47),P.Qb(),P.Rb(10,48),P.Cc(11,fo,2,0,"th",46),P.Cc(12,go,3,4,"td",47),P.Qb(),P.Rb(13,49),P.Cc(14,mo,2,0,"th",46),P.Cc(15,po,3,4,"td",47),P.Qb(),P.Rb(16,50),P.Cc(17,ho,2,0,"th",42),P.Cc(18,So,3,2,"td",43),P.Qb(),P.Cc(19,To,1,0,"tr",51),P.Cc(20,Do,1,0,"tr",52),P.Sb()),2&e){var o=P.fc(2);P.lc("dataSource",o.dataSource),P.Cb(19),P.lc("matHeaderRowDef",o.displayedColumns),P.Cb(1),P.lc("matRowDefColumns",o.displayedColumns)}}function Io(e,t){if(1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,Jt,3,0,"button",1),P.Cc(5,Zt,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,io,18,11,"form",2),P.Cc(8,co,1,0,"hr",3),P.Cc(9,Mo,21,3,"table",31),P.Sb(),P.Sb()),2&e){var o=P.fc();P.Cb(3),P.Gc(" Merma ",o.saveToDB?"No.":""," ",o.egreso.egreso," "),P.Cb(1),P.lc("ngIf",!o.showDetalleEgresoForm),P.Cb(1),P.lc("ngIf",o.showDetalleEgresoForm),P.Cb(2),P.lc("ngIf",o.showDetalleEgresoForm),P.Cb(1),P.lc("ngIf",o.detallesMerma.length>0),P.Cb(1),P.lc("ngIf",o.detallesMerma.length>0)}}var wo,ko,_o=((wo=function(){function t(o,n,i,c,a,r,l,s,u){var b=this;e(this,t),this.snackBar=o,this.ls=n,this.egresoSrvc=i,this.tipoMovimientoSrvc=c,this.bodegaSrvc=a,this.articuloSrvc=r,this.proveedorSrvc=l,this.transformacionSrvc=s,this.presentacionSrvc=u,this.saveToDB=!0,this.egresoSavedEv=new P.o,this.showEgresoForm=!0,this.showDetalleEgresoForm=!0,this.detallesEgreso=[],this.detallesMerma=[],this.displayedColumns=["articulo","presentacion","cantidad","precio_unitario","precio_total","editItem"],this.tiposMovimiento=[],this.tiposMovimientoIngreso=[],this.bodegas=[],this.articulos=[],this.filteredArticulos=[],this.proveedores=[],this.filteredProveedores=[],this.presentaciones=[],this.fltrPresentaciones=[],this.fltrPresentacionesMerma=[],this.esMovil=!1,this.bloqueoBotones=!1,this.txtArticuloSelected=void 0,this.txtProveedorSelected=void 0,this.loadTiposMovimiento=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];b.tipoMovimientoSrvc.get(e?{egreso:1}:{ingreso:1}).subscribe(function(t){t&&(e?b.tiposMovimiento=t:b.tiposMovimientoIngreso=t)})},this.loadBodegas=function(){b.bodegaSrvc.get({sede:b.ls.get(E.a.usrTokenVar).sede||0}).subscribe(function(e){e&&(b.bodegas=e)})},this.loadProveedores=function(){b.proveedorSrvc.get().subscribe(function(e){e&&(b.proveedores=e)})},this.loadPresentaciones=function(){b.presentacionSrvc.get().subscribe(function(e){e&&(b.presentaciones=e)})},this.resetEgreso=function(){b.egreso={egreso:null,tipo_movimiento:null,bodega:null,fecha:A().format(E.a.dbDateFormat),usuario:b.ls.get(E.a.usrTokenVar).idusr||0,estatus_movimiento:1,traslado:0},b.resetDetalleEgreso(),b.updateTableDataSource(),b.resetDetalleMerma(),b.updateTableDataSourceM()},this.onSubmit=function(){b.bloqueoBotones=!0,b.egresoSrvc.save(b.egreso).subscribe(function(e){e.exito&&(b.egresoSavedEv.emit(),b.resetEgreso(),b.egreso={egreso:e.egreso.egreso,tipo_movimiento:e.egreso.tipo_movimiento,fecha:e.egreso.fecha,bodega:e.egreso.bodega,creacion:e.egreso.creacion,usuario:e.egreso.usuario,estatus_movimiento:e.egreso.estatus_movimiento,traslado:e.egreso.traslado},b.loadDetalleEgreso(b.egreso.egreso)),b.bloqueoBotones=!1})},this.confirmarEgreso=function(){b.egreso.estatus_movimiento=2,b.onSubmit()},this.loadArticulos=function(){b.articuloSrvc.getArticulosIngreso().subscribe(function(e){e&&(b.articulos=e)})},this.resetDetalleEgreso=function(){b.detalleEgreso={egreso_detalle:null,egreso:b.egreso.egreso?b.egreso.egreso:null,articulo:null,cantidad:null,precio_unitario:null,precio_total:null,presentacion:0},b.txtArticuloSelected=void 0},this.resetDetalleMerma=function(){return b.detalleMerma={egreso_detalle:null,egreso:b.egreso.egreso?b.egreso.egreso:null,articulo:null,cantidad:null,precio_unitario:null,precio_total:null,presentacion:0}},this.loadDetalleEgreso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+b.egreso.egreso;b.egresoSrvc.getDetalle(e,{egreso:e}).subscribe(function(e){e&&(b.detallesEgreso=e,b.updateTableDataSource())})},this.getDetalleEgreso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+b.egreso.egreso,t=arguments.length>1?arguments[1]:void 0;b.egresoSrvc.getDetalle(e,{egreso_detalle:t}).subscribe(function(e){e&&(b.detalleEgreso={egreso_detalle:e[0].egreso_detalle,egreso:e[0].egreso,articulo:e[0].articulo.articulo,cantidad:+e[0].cantidad,precio_unitario:+e[0].precio_unitario,precio_total:+e[0].precio_total,presentacion:e[0].presentacion.presentacion},b.setPresentaciones(),b.saveToDB||b.setPresentacionesMerma(),b.txtArticuloSelected=e[0].articulo,b.showDetalleEgresoForm=!0)})},this.onSubmitDetail=function(){b.bloqueoBotones=!0,b.detalleEgreso.egreso=b.egreso.egreso,b.egresoSrvc.saveDetalle(b.detalleEgreso).subscribe(function(e){e.exito?(b.loadDetalleEgreso(),b.resetDetalleEgreso(),b.snackBar.open("Egreso guardado con \xe9xito...","Egreso",{duration:3e3})):b.snackBar.open("ERROR: ".concat(e.mensaje),"Egreso",{duration:3e3}),b.bloqueoBotones=!1})},this.addToDetail=function(){b.detallesEgreso.push(b.detalleEgreso),b.resetDetalleEgreso(),b.updateTableDataSource()},this.addToDetailMerma=function(){b.detallesMerma.push(b.detalleMerma),b.resetDetalleMerma(),b.updateTableDataSourceM()},this.removeFromDetail=function(e){return b.detallesEgreso.splice(b.detallesEgreso.findIndex(function(t){return+t.articulo==+e}),1)},this.getDescripcionArticulo=function(e){return b.articulos.find(function(t){return+t.articulo==+e}).descripcion||""},this.getDescripcionPresentacion=function(e){return b.presentaciones.find(function(t){return+t.presentacion==+e}).descripcion||""},this.updateTableDataSource=function(){b.dataSource=new h.k(b.detallesEgreso),b.dataSource.filterPredicate=function(e,t){return e.articulo.descripcion.toLowerCase().includes(t)}},this.updateTableDataSourceM=function(){return b.dataSource=new h.k(b.detallesMerma)},this.filtrarArticulos=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase();b.filteredArticulos=b.articulos.filter(function(e){return e.descripcion.toLowerCase().includes(t)})}else b.filteredArticulos=b.articulos},this.setPresentaciones=function(){b.fltrPresentaciones=[];var e=b.articulos.findIndex(function(e){return+e.articulo==+b.detalleEgreso.articulo}),t=b.articulos[e];b.fltrPresentaciones=b.presentaciones.filter(function(e){return+e.medida.medida==+t.presentacion.medida})},this.setPresentacionesMerma=function(){b.fltrPresentacionesMerma=[];var e=b.articulos.findIndex(function(e){return+e.articulo==+b.detalleMerma.articulo}),t=b.articulos[e];b.fltrPresentacionesMerma=b.presentaciones.filter(function(e){return+e.medida.medida==+t.presentacion.medida})},this.displayArticulo=function(e){if(e)return b.detalleEgreso.articulo=e.articulo,e.descripcion},this.displayArticuloMerma=function(e){if(e)return b.detalleMerma.articulo=e.articulo,e.descripcion},this.filtrarProveedores=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase();b.filteredProveedores=b.proveedores.filter(function(e){return e.razon_social.toLowerCase().includes(t)||e.nit.toLowerCase().includes(t)})}else b.filteredProveedores=b.proveedores},this.displayProveedor=function(e){if(e)return b.egreso.proveedor=e.proveedor,"(".concat(e.nit,") ").concat(e.razon_social)},this.applyFilter=function(e){b.dataSource.filter=e}}return o(t,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(E.a.usrTokenVar).enmovil||!1,this.resetEgreso(),this.loadTiposMovimiento(),this.loadTiposMovimiento(!1),this.loadBodegas(),this.loadArticulos(),this.loadProveedores(),this.loadPresentaciones()}}]),t}()).\u0275fac=function(e){return new(e||wo)(P.Nb(T.a),P.Nb(B.a),P.Nb(Ke),P.Nb(V.a),P.Nb(Q.a),P.Nb(X.a),P.Nb(L.a),P.Nb(ot),P.Nb(K.a))},wo.\u0275cmp=P.Hb({type:wo,selectors:[["app-form-egreso"]],inputs:{egreso:"egreso",saveToDB:"saveToDB"},outputs:{egresoSavedEv:"egresoSavedEv"},decls:12,vars:8,consts:[[1,"mat-elevation-z4","fullWidth"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmEgreso","ngForm"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["matInput","","type","date","placeholder","Fecha","name","fecha","required","",3,"ngModel","ngModelChange"],["name","bodega","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","traslado","class","fullWidth",3,"ngModel","ngModelChange",4,"ngIf"],["align","end"],["mat-raised-button","","type","submit","color","accent","class","btnAccion",3,"disabled",4,"ngIf"],["mat-raised-button","","type","button","color","accent","class","btnAccion",3,"disabled","click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],["name","tipo_movimiento","required","",3,"ngModel","ngModelChange"],[3,"value"],["name","traslado",1,"fullWidth",3,"ngModel","ngModelChange"],["name","bodega_destino",3,"ngModel","required","ngModelChange"],["name","tipo_movimiento_destino",3,"ngModel","required","ngModelChange"],["type","text","placeholder","Proveedor","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith"],["autoProveedores","matAutocomplete"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"disabled","click"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","placeholder","Buscar",3,"keyup"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleEgreso","ngForm"],["type","text","placeholder","Art\xedculo","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith","optionSelected"],["autoArticulos","matAutocomplete"],["name","presentacion","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",3,"disabled","click",4,"ngIf"],["matInput","","placeholder","Cantidad","name","cantidad","required","",3,"ngModel","ngModelChange","change"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","presentacion"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","precio_unitario"],["matColumnDef","precio_total"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-row",""],["mat-row",""],["frmMerma","ngForm"],["matInput","","placeholder","Costo unitario","name","precio_unitario","required","",3,"ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,nt,3,0,"button",1),P.Cc(5,it,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,St,18,14,"form",2),P.Sb(),P.Sb(),P.Cc(8,Tt,1,0,"hr",3),P.Cc(9,Xt,12,7,"mat-card",4),P.Cc(10,Kt,1,0,"hr",3),P.Cc(11,Io,10,7,"mat-card",4)),2&e&&(P.Cb(3),P.Fc(" Egreso",t.egreso.egreso?" No. "+t.egreso.egreso:""," "),P.Cb(1),P.lc("ngIf",!t.showEgresoForm),P.Cb(1),P.lc("ngIf",t.showEgresoForm),P.Cb(2),P.lc("ngIf",t.showEgresoForm),P.Cb(1),P.lc("ngIf",t.egreso.egreso||!t.saveToDB),P.Cb(1),P.lc("ngIf",t.egreso.egreso||!t.saveToDB),P.Cb(1),P.lc("ngIf",t.egreso.egreso||!t.saveToDB),P.Cb(1),P.lc("ngIf",!t.saveToDB))},directives:[g.a,g.h,a.m,g.c,S.a,b.a,l.r,l.l,l.m,d.b,f.b,l.c,l.p,l.k,l.n,d.e,v.a,a.l,z.k,C.a,O.c,O.a,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,h.f,h.h],pipes:[a.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),wo),yo=["lstEgreso"],Oo=["frmEgreso"],Fo=((ko=function(){function t(o){var n=this;e(this,t),this.ls=o,this.setEgreso=function(e){n.egreso=e,n.frmEgreso.resetDetalleEgreso(),n.frmEgreso.loadDetalleEgreso(+n.egreso.egreso)},this.refreshEgresoList=function(){n.lstEgresoComponent.loadEgresos()},this.egreso={egreso:null,tipo_movimiento:null,bodega:null,fecha:A().format(E.a.dbDateFormat),usuario:this.ls.get(E.a.usrTokenVar).idusr||0,estatus_movimiento:1,traslado:0}}return o(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||ko)(P.Nb(B.a))},ko.\u0275cmp=P.Hb({type:ko,selectors:[["app-egreso"]],viewQuery:function(e,t){var o;1&e&&(P.Ic(yo,1),P.Ic(Oo,1)),2&e&&(P.sc(o=P.cc())&&(t.lstEgresoComponent=o.first),P.sc(o=P.cc())&&(t.frmEgreso=o.first))},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getEgresoEv"],["lstEgreso",""],[1,"col","m7","s12"],[3,"egreso","egresoSavedEv"],["frmEgreso",""]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"app-lista-egreso",2,3),P.bc("getEgresoEv",function(e){return t.setEgreso(e)}),P.Sb(),P.Sb(),P.Tb(4,"div",4),P.Tb(5,"app-form-egreso",5,6),P.bc("egresoSavedEv",function(){return t.refreshEgresoList()}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(5),P.lc("egreso",t.egreso))},directives:[tt,_o],styles:[""]}),ko);function xo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"div"),P.Tb(1,"div",1),P.Tb(2,"button",2),P.bc("click",function(){P.wc(o);var e=P.fc();return e.showCategoriasForm=!0,e.resetCategoria()}),P.Tb(3,"mat-icon",3),P.Dc(4,"expand_more"),P.Sb(),P.Dc(5,"\xa0Categor\xedas y sub-categor\xedas "),P.Sb(),P.Sb(),P.Sb()}}function Eo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"div"),P.Tb(1,"div",1),P.Tb(2,"button",2),P.bc("click",function(){P.wc(o);var e=P.fc();return e.showCategoriasForm=!1,e.resetCategoria()}),P.Tb(3,"mat-icon",3),P.Dc(4,"expand_less"),P.Sb(),P.Dc(5,"\xa0Categor\xedas y sub-categor\xedas "),P.Sb(),P.Sb(),P.Sb()}}function Ao(e,t){if(1&e&&(P.Tb(0,"mat-option",12),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Po(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",13),P.bc("click",function(){return P.wc(o),P.fc(3).editCategoriaMode=!0}),P.Dc(1," Editar "),P.Sb()}}function Bo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",14),P.bc("click",function(){P.wc(o);var e=P.fc(3);return e.resetCategoria(),e.editCategoriaMode=!0}),P.Dc(1," Nueva "),P.Sb()}}function Ro(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"mat-label"),P.Dc(2,"Categor\xeda"),P.Sb(),P.Tb(3,"mat-select",8),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoria=e})("selectionChange",function(e){return P.wc(o),P.fc(2).onCategoriaSelected(e)}),P.Cc(4,Ao,2,2,"mat-option",9),P.Sb(),P.Cc(5,Po,2,0,"button",10),P.Cc(6,Bo,2,0,"button",11),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.categoria),P.Cb(1),P.lc("ngForOf",n.categorias),P.Cb(1),P.lc("ngIf",!n.editCategoriaMode&&+n.categoria.categoria>0),P.Cb(1),P.lc("ngIf",!n.editCategoriaMode)}}function Uo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",18),P.bc("click",function(){return P.wc(o),P.fc(3).onSubmitCategoria()}),P.Dc(1," Guardar "),P.Sb()}if(2&e){P.fc(2);var n=P.tc(3);P.lc("disabled",!n.form.valid)}}function No(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",19),P.bc("click",function(){return P.wc(o),P.fc(3).resetCategoria()}),P.Dc(1," Cancelar "),P.Sb()}}function Ho(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"input",15),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoria.descripcion=e}),P.Sb(),P.Cc(2,Uo,2,1,"button",16),P.Cc(3,No,2,0,"button",17),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.categoria.descripcion)("required",n.editCategoriaMode),P.Cb(1),P.lc("ngIf",n.editCategoriaMode),P.Cb(1),P.lc("ngIf",n.editCategoriaMode)}}function jo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",18),P.bc("click",function(){return P.wc(o),P.fc(3).onSubmitCategoria()}),P.Dc(1," Guardar "),P.Sb()}if(2&e){P.fc(2);var n=P.tc(3);P.lc("disabled",!n.form.valid)}}function zo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",19),P.bc("click",function(){return P.wc(o),P.fc(3).resetCategoria()}),P.Dc(1," Cancelar "),P.Sb()}}function Go(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"input",20),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoria.descripcion=e}),P.Sb(),P.Cc(2,jo,2,1,"button",16),P.Cc(3,zo,2,0,"button",17),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.categoria.descripcion)("required",n.editCategoriaMode),P.Cb(1),P.lc("ngIf",n.editCategoriaMode),P.Cb(1),P.lc("ngIf",n.editCategoriaMode)}}function qo(e,t){if(1&e&&(P.Tb(0,"div"),P.Tb(1,"div"),P.Tb(2,"form",4,5),P.Cc(4,Ro,7,4,"mat-form-field",6),P.Cc(5,Ho,4,4,"mat-form-field",6),P.Cc(6,Go,4,4,"mat-form-field",6),P.Sb(),P.Sb(),P.Sb()),2&e){var o=P.fc();P.Cb(4),P.lc("ngIf",!o.editCategoriaMode),P.Cb(1),P.lc("ngIf",o.esMovil&&o.editCategoriaMode),P.Cb(1),P.lc("ngIf",!o.esMovil&&o.editCategoriaMode)}}function $o(e,t){if(1&e&&(P.Tb(0,"mat-option",12),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.categoria_grupo),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Wo(e,t){if(1&e&&(P.Tb(0,"mat-option",12),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Lo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",13),P.bc("click",function(){return P.wc(o),P.fc(3).editSubCategoriaMode=!0}),P.Dc(1," Editar "),P.Sb()}}function Vo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",14),P.bc("click",function(){P.wc(o);var e=P.fc(3);return e.resetCategoriaGrupo(),e.editSubCategoriaMode=!0}),P.Dc(1," Nueva "),P.Sb()}}function Qo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"mat-label"),P.Dc(2,"Sub-categor\xeda"),P.Sb(),P.Tb(3,"mat-select",24),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoriaGrupo=e})("selectionChange",function(e){return P.wc(o),P.fc(2).onSubCategoriaSelected(e)}),P.Cc(4,Wo,2,2,"mat-option",9),P.Sb(),P.Cc(5,Lo,2,0,"button",10),P.Cc(6,Vo,2,0,"button",11),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.categoriaGrupo),P.Cb(1),P.lc("ngForOf",n.categoriasGrupos),P.Cb(1),P.lc("ngIf",!n.editSubCategoriaMode&&+n.categoriaGrupo.categoria_grupo>0),P.Cb(1),P.lc("ngIf",!n.editSubCategoriaMode)}}function Xo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"input",25),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoriaGrupo.descripcion=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.categoriaGrupo.descripcion)("required",n.editCategoriaMode)}}function Ko(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"input",26),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoriaGrupo.descripcion=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.categoriaGrupo.descripcion)("required",n.editCategoriaMode)}}function Jo(e,t){if(1&e&&(P.Tb(0,"mat-option",12),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.impresora),P.Cb(1),P.Fc(" ",o.nombre," ")}}function Zo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",18),P.bc("click",function(){return P.wc(o),P.fc(3).onSubmitSubCategoria()}),P.Dc(1," Guardar "),P.Sb()}if(2&e){P.fc(2);var n=P.tc(2);P.lc("disabled",!n.form.valid)}}function Yo(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",19),P.bc("click",function(){return P.wc(o),P.fc(3).resetCategoriaGrupo()}),P.Dc(1," Cancelar "),P.Sb()}}function en(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",7),P.Tb(1,"mat-label"),P.Dc(2,"Impresora"),P.Sb(),P.Tb(3,"mat-select",27),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).categoriaGrupo.impresora=e}),P.Cc(4,Jo,2,2,"mat-option",9),P.Sb(),P.Cc(5,Zo,2,1,"button",16),P.Cc(6,Yo,2,0,"button",17),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(3),P.lc("ngModel",n.categoriaGrupo.impresora),P.Cb(1),P.lc("ngForOf",n.impresoras),P.Cb(1),P.lc("ngIf",n.editSubCategoriaMode),P.Cb(1),P.lc("ngIf",n.editSubCategoriaMode)}}function tn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"div"),P.Tb(1,"form",4,21),P.Tb(3,"mat-form-field",7),P.Tb(4,"mat-label"),P.Dc(5,"Sub-categor\xeda Padre"),P.Sb(),P.Tb(6,"mat-select",22),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().categoriaGrupo.categoria_grupo_grupo=e})("selectionChange",function(e){return P.wc(o),P.fc().onSubCategoriaPadreSelected(e)}),P.Cc(7,$o,2,2,"mat-option",9),P.Sb(),P.Sb(),P.Cc(8,Qo,7,4,"mat-form-field",6),P.Cc(9,Xo,2,2,"mat-form-field",6),P.Cc(10,Ko,2,2,"mat-form-field",6),P.Tb(11,"mat-checkbox",23),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().categoriaGrupo.descuento=e)}),P.Dc(12,"\xbfAplica Descuento? "),P.Sb(),P.Cc(13,en,7,4,"mat-form-field",6),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(6),P.lc("ngModel",n.categoriaGrupo.categoria_grupo_grupo),P.Cb(1),P.lc("ngForOf",n.categoriasGruposPadre),P.Cb(1),P.lc("ngIf",!n.editSubCategoriaMode),P.Cb(1),P.lc("ngIf",n.esMovil&&n.editSubCategoriaMode),P.Cb(1),P.lc("ngIf",!n.esMovil&&n.editSubCategoriaMode),P.Cb(1),P.lc("ngModel",+n.categoriaGrupo.descuento),P.Cb(2),P.lc("ngIf",n.editSubCategoriaMode)}}var on,nn=((on=function(){function t(o,n,i){var c=this;e(this,t),this._snackBar=o,this.ls=n,this.articuloSrvc=i,this.categoriaGrupoSvd=new P.o,this.onChangeSubCategoriaEv=new P.o,this.categorias=[],this.categoriasGruposPadre=[],this.categoriasGrupos=[],this.editCategoriaMode=!1,this.editSubCategoriaMode=!1,this.showCategoriasForm=!1,this.esMovil=!1,this.impresoras=[],this.resetCategoria=function(){c.categoria={categoria:null,sede:c.ls.get(E.a.usrTokenVar).sede||0,descripcion:null},c.resetCategoriaGrupo(),c.editCategoriaMode=!1},this.resetCategoriaGrupo=function(){c.categoriaGrupo={categoria_grupo:null,categoria:c.categoria.categoria,categoria_grupo_grupo:null,descripcion:null,receta:0,impresora:null,descuento:0,antecesores:null},c.editSubCategoriaMode=!1},this.loadCategorias=function(){c.articuloSrvc.getCategorias({sede:+c.ls.get(E.a.usrTokenVar).sede||0}).subscribe(function(e){e&&(c.categorias=e)})},this.onCategoriaSelected=function(e){return c.loadSubCategorias(+e.value.categoria)},this.loadSubCategorias=function(e){c.articuloSrvc.getCategoriasGrupos({categoria:+e}).subscribe(function(e){e&&(c.categoriasGruposPadre=c.articuloSrvc.adaptCategoriaGrupoResponse(e),c.categoriasGrupos=c.categoriasGruposPadre)})},this.loadImpresoras=function(){c.articuloSrvc.getImpresoras({sede:+c.ls.get(E.a.usrTokenVar).sede||0}).subscribe(function(e){e&&(c.impresoras=e)})},this.onSubCategoriaPadreSelected=function(e){return c.loadSubCategoriasSubcategorias(+e.value)},this.loadSubCategoriasSubcategorias=function(e){c.articuloSrvc.getCategoriasGrupos({categoria_grupo_grupo:e}).subscribe(function(e){e&&(c.categoriasGrupos=c.articuloSrvc.adaptCategoriaGrupoResponse(e))})},this.onSubmitCategoria=function(){c.articuloSrvc.saveCategoria(c.categoria).subscribe(function(e){e.exito?(c.editCategoriaMode=!1,c.resetCategoria(),c.loadCategorias(),c.categoriaGrupoSvd.emit(),c._snackBar.open("Grabada con \xe9xito.","Categor\xeda",{duration:5e3})):c._snackBar.open("ERROR: ".concat(e.mensaje),"Categor\xeda",{duration:5e3})})},this.onSubCategoriaSelected=function(e){return c.onChangeSubCategoriaEv.emit(+e.value.categoria_grupo)},this.onSubmitSubCategoria=function(){c.articuloSrvc.saveCategoriaGrupo(c.categoriaGrupo).subscribe(function(e){e.exito?(c.resetCategoriaGrupo(),c.loadSubCategorias(+c.categoria.categoria),c.categoriaGrupoSvd.emit(),c._snackBar.open("Grabada con \xe9xito.","Sub - Categor\xeda",{duration:5e3})):c._snackBar.open("ERROR: ".concat(e.mensaje),"Sub - Categor\xeda",{duration:5e3})})}}return o(t,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(E.a.usrTokenVar).enmovil||!1,this.resetCategoria(),this.loadCategorias(),this.loadImpresoras()}}]),t}()).\u0275fac=function(e){return new(e||on)(P.Nb(T.a),P.Nb(B.a),P.Nb(X.a))},on.\u0275cmp=P.Hb({type:on,selectors:[["app-categoria-producto"]],outputs:{categoriaGrupoSvd:"categoriaGrupoSvd",onChangeSubCategoriaEv:"onChangeSubCategoriaEv"},decls:5,vars:4,consts:[[4,"ngIf"],["align","center"],["mat-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate",""],["frmCategoria","ngForm"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["name","categoria",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","button","matSuffix","","color","accent","class","btnAccion",3,"click",4,"ngIf"],["mat-raised-button","","type","button","matSuffix","","color","accent",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","type","button","matSuffix","","color","accent",1,"btnAccion",3,"click"],["mat-raised-button","","type","button","matSuffix","","color","accent",3,"click"],["matInput","","placeholder","Descripcion de la categor\xeda","name","descripcion",3,"ngModel","required","ngModelChange"],["mat-raised-button","","type","button","matSuffix","","color","accent","class","btnAccion",3,"disabled","click",4,"ngIf"],["mat-raised-button","","type","button","matSuffix","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","type","button","matSuffix","","color","accent",1,"btnAccion",3,"disabled","click"],["mat-raised-button","","type","button","matSuffix","","color","warn",3,"click"],["matInput","","ng-virtual-keyboard","","ng-virtual-keyboard-layout","alphanumeric","ng-virtual-keyboard-placeholder","Descripcion de la categor\xeda","placeholder","Descripcion de la categor\xeda","name","descripcion",3,"ngModel","required","ngModelChange"],["frmCategoriaGrupo","ngForm"],["name","categoriaGrupoPadre",3,"ngModel","ngModelChange","selectionChange"],["name","descuento",1,"fullWidth",3,"ngModel","ngModelChange"],["name","categoriaGrupo",3,"ngModel","ngModelChange","selectionChange"],["matInput","","placeholder","Descripcion de la sub - categor\xeda","name","descripcion",3,"ngModel","required","ngModelChange"],["matInput","","ng-virtual-keyboard","","ng-virtual-keyboard-layout","alphanumeric","ng-virtual-keyboard-placeholder","Descripcion de la sub - categor\xeda","placeholder","Descripcion de la sub - categor\xeda","name","descripcion",3,"ngModel","required","ngModelChange"],["name","impresora","im","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(P.Tb(0,"div"),P.Cc(1,xo,6,0,"div",0),P.Cc(2,Eo,6,0,"div",0),P.Sb(),P.Cc(3,qo,7,3,"div",0),P.Cc(4,tn,14,7,"div",0)),2&e&&(P.Cb(1),P.lc("ngIf",!t.showCategoriasForm),P.Cb(1),P.lc("ngIf",t.showCategoriasForm),P.Cb(1),P.lc("ngIf",t.showCategoriasForm),P.Cb(1),P.lc("ngIf",t.showCategoriasForm))},directives:[a.m,S.a,b.a,l.r,l.l,l.m,d.b,d.e,v.a,l.k,l.n,a.l,z.k,d.f,f.b,l.c,l.p,C.a],styles:[".fullWidth[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:18pt}"]}),on),cn=i("FvrZ");function an(e,t){if(1&e&&(P.Tb(0,"span"),P.Dc(1),P.Sb()),2&e){var o=P.fc().$implicit;P.Cb(1),P.Ec(o.nombre)}}function rn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",8),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc().onProductoClicked(e)}),P.Dc(1),P.Sb()}if(2&e){var n=P.fc().$implicit;P.Cb(1),P.Ec(n.nombre)}}function ln(e,t){if(1&e&&(P.Tb(0,"mat-tree-node",3),P.Tb(1,"li",4),P.Ob(2,"button",5),P.Cc(3,an,2,1,"span",6),P.Cc(4,rn,2,1,"button",7),P.Sb(),P.Sb()),2&e){var o=t.$implicit,n=P.fc();P.Cb(3),P.lc("ngIf",n.tieneHijos(o)),P.Cb(1),P.lc("ngIf",!n.tieneHijos(o))}}function sn(e,t){if(1&e&&(P.Tb(0,"span"),P.Dc(1),P.Sb()),2&e){var o=P.fc().$implicit;P.Cb(1),P.Ec(o.nombre)}}function un(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",8),P.bc("click",function(){P.wc(o);var e=P.fc().$implicit;return P.fc().onProductoClicked(e)}),P.Dc(1),P.Sb()}if(2&e){var n=P.fc().$implicit;P.Cb(1),P.Ec(n.nombre)}}function bn(e,t){if(1&e&&(P.Tb(0,"mat-nested-tree-node"),P.Tb(1,"li"),P.Tb(2,"div",4),P.Tb(3,"button",9),P.Tb(4,"mat-icon",10),P.Dc(5),P.Sb(),P.Sb(),P.Cc(6,sn,2,1,"span",6),P.Cc(7,un,2,1,"button",7),P.Sb(),P.Tb(8,"ul"),P.Pb(9,11),P.Sb(),P.Sb(),P.Sb()),2&e){var o=t.$implicit,n=P.fc();P.Cb(3),P.Db("aria-label","toggle "+o.nombre),P.Cb(2),P.Fc(" ",n.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),P.Cb(1),P.lc("ngIf",n.tieneHijos(o)),P.Cb(1),P.lc("ngIf",!n.tieneHijos(o)),P.Cb(1),P.Fb("example-tree-invisible",!n.treeControl.isExpanded(o))}}var dn,fn=((dn=function(){function t(o,n){e(this,t),this.ls=o,this.articuloSrvc=n,this.treeHeight="450px",this.productoClickedEv=new P.o,this.treeControl=new cn.j(function(e){return e.hijos}),this.dataSource=new y.d,this.hasChild=function(e,t){return!!t.hijos&&t.hijos.length>0},this.tieneHijos=function(e){return!!e.hijos&&e.hijos.length>0}}return o(t,[{key:"ngOnInit",value:function(){this.loadArbolArticulos()}},{key:"onProductoClicked",value:function(e){this.productoClickedEv.emit(e)}},{key:"loadArbolArticulos",value:function(){var e=this;this.articuloSrvc.getArbolArticulosMante(this.ls.get(E.a.usrTokenVar).sede||0).subscribe(function(t){t&&(e.arbol=e.articuloSrvc.convertToArbolNodoProducto(t),e.dataSource.data=e.arbol)})}}]),t}()).\u0275fac=function(e){return new(e||dn)(P.Nb(B.a),P.Nb(X.a))},dn.\u0275cmp=P.Hb({type:dn,selectors:[["app-lista-producto"]],inputs:{treeHeight:"treeHeight"},outputs:{productoClickedEv:"productoClickedEv"},decls:3,vars:5,consts:[[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[4,"ngIf"],["mat-raised-button","","type","button",3,"click",4,"ngIf"],["mat-raised-button","","type","button",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror",2,"font-size","24pt !important"],["matTreeNodeOutlet",""]],template:function(e,t){1&e&&(P.Tb(0,"mat-tree",0),P.Cc(1,ln,5,2,"mat-tree-node",1),P.Cc(2,bn,10,6,"mat-nested-tree-node",2),P.Sb()),2&e&&(P.zc("height",t.treeHeight),P.lc("dataSource",t.dataSource)("treeControl",t.treeControl),P.Cb(2),P.lc("matTreeNodeDefWhen",t.hasChild))},directives:[y.b,y.f,y.e,y.h,S.a,a.m,y.a,b.a,y.g],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.tabulacion[_ngcontent-%COMP%]{padding-left:10px!important}"]}),dn),gn=i("Iab2"),mn=i("IJgu"),pn=i("IHy4"),hn=i("TOq3");function vn(e,t){if(1&e&&(P.Tb(0,"mat-option",11),P.Dc(1),P.Sb()),2&e){var o=t.$implicit,n=P.fc();P.lc("value",o.sede)("disabled",+o.sede==+n.miSede),P.Cb(1),P.Fc(" ",o.nombre," ")}}function Cn(e,t){1&e&&P.Ob(0,"app-cargando")}var Sn,Tn,Dn=((Tn=function(){function t(o,n,i,c,a){var r=this;e(this,t),this.sedeSrvc=o,this.ls=n,this.snackBar=i,this.dialog=c,this.articuloSrvc=a,this.articulo=null,this.cargando=!1,this.sedes=[],this.params={},this.miSede=0,this.loadSedes=function(){r.sedeSrvc.get().subscribe(function(e){e&&(r.sedes=e)})},this.onSubmit=function(){r.dialog.open(mn.a,{maxWidth:"400px",data:new mn.b("Replicar art\xedculos","Este proceso replicar\xe1 TODOS los art\xedculos a las sedes seleccionadas. \xbfDesea continuar?","S\xed","No")}).afterClosed().subscribe(function(e){if(e){r.cargando=!0;var t={sedes:[],articulo:null};r.params.sede.forEach(function(e){return t.sedes.push({sede:+e})}),r.articulo&&(t.articulo=+r.articulo.articulo),r.articuloSrvc.replicaArticulosEnSedes(t).subscribe(function(e){e.exito?r.snackBar.open(e.mensaje,"Replicar art\xedculos",{duration:3e3}):r.snackBar.open("ERROR: ".concat(e.mensaje),"Replicar art\xedculos",{duration:7e3}),r.params={},r.cargando=!1})}})}}return o(t,[{key:"ngOnInit",value:function(){this.miSede=this.ls.get(E.a.usrTokenVar).sede||0,this.loadSedes()}}]),t}()).\u0275fac=function(e){return new(e||Tn)(P.Nb(pn.a),P.Nb(B.a),P.Nb(T.a),P.Nb(k.b),P.Nb(X.a))},Tn.\u0275cmp=P.Hb({type:Tn,selectors:[["app-replicar-asedes"]],inputs:{articulo:"articulo"},decls:18,vars:5,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],["novalidate","",3,"ngSubmit"],["frmReplicaArticulosSedes","ngForm"],[1,"fullWidth"],["name","sede","multiple","","required","",3,"ngModel","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],[4,"ngIf"],[3,"value","disabled"]],template:function(e,t){if(1&e){var o=P.Ub();P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"h4"),P.Dc(5),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Tb(7,"form",3,4),P.bc("ngSubmit",function(){return P.wc(o),P.tc(8).form.valid&&t.onSubmit()}),P.Tb(9,"mat-form-field",5),P.Tb(10,"mat-label"),P.Dc(11,"Sede"),P.Sb(),P.Tb(12,"mat-select",6),P.bc("ngModelChange",function(e){return t.params.sede=e}),P.Cc(13,vn,2,3,"mat-option",7),P.Sb(),P.Sb(),P.Tb(14,"div",8),P.Tb(15,"button",9),P.Dc(16," Replicar "),P.Sb(),P.Sb(),P.Sb(),P.Cc(17,Cn,1,0,"app-cargando",10),P.Sb(),P.Sb(),P.Sb(),P.Sb()}if(2&e){var n=P.tc(8);P.Cb(5),P.Fc("Replicar ",(null==t.articulo?null:t.articulo.descripcion)||"TODOS los art\xedculos"," a las sedes"),P.Cb(7),P.lc("ngModel",t.params.sede),P.Cb(1),P.lc("ngForOf",t.sedes),P.Cb(2),P.lc("disabled",!n.form.valid||t.cargando),P.Cb(2),P.lc("ngIf",t.cargando)}},directives:[g.a,g.h,g.c,l.r,l.l,l.m,d.b,d.e,v.a,l.p,l.k,l.n,a.l,S.a,a.m,z.k,hn.a],styles:[""]}),Tn),Mn=((Sn=function(){function t(o,n){e(this,t),this.dialogRef=o,this.data=n,this.articulo=null}return o(t,[{key:"ngOnInit",value:function(){this.data.articulo&&(this.articulo=this.data.articulo)}}]),t}()).\u0275fac=function(e){return new(e||Sn)(P.Nb(k.f),P.Nb(k.a))},Sn.\u0275cmp=P.Hb({type:Sn,selectors:[["app-replicar-a-sedes-dialog"]],decls:5,vars:1,consts:[["mat-dialog-content",""],[3,"articulo"],["mat-dialog-actions","","align","end"],["mat-raised-button","","type","button","color","accent",3,"click"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Ob(1,"app-replicar-asedes",1),P.Sb(),P.Tb(2,"div",2),P.Tb(3,"button",3),P.bc("click",function(){return t.dialogRef.close()}),P.Dc(4," Terminar "),P.Sb(),P.Sb()),2&e&&(P.Cb(1),P.lc("articulo",t.articulo))},directives:[k.d,Dn,k.c,S.a],styles:[""]}),Sn),In=i("pJXi"),wn=i("1wH6"),kn=i("FHMA");function _n(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showArticuloForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function yn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc().showArticuloForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function On(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",26),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.descripcion=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.descripcion)}}function Fn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",27),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.precio=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.precio)}}function xn(e,t){if(1&e&&(P.Tb(0,"mat-option",28),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.presentacion),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function En(e,t){if(1&e&&(P.Tb(0,"mat-option",28),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.presentacion),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function An(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",29),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.codigo=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.codigo)}}function Pn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",30),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.shopify_id=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.shopify_id)}}function Bn(e,t){if(1&e&&(P.Tb(0,"mat-option",28),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.impuesto_especial),P.Cb(1),P.Gc(" ",o.descripcion," (",P.ic(2,3,o.porcentaje,"1.2-2"),"%) ")}}function Rn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",31),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.rendimiento=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.rendimiento)}}function Un(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",32),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.cantidad_minima=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.cantidad_minima)}}function Nn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",33),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).articulo.cantidad_maxima=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(2);P.Cb(1),P.lc("ngModel",n.articulo.cantidad_maxima)}}function Hn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",34),P.bc("click",function(){return P.wc(o),P.fc(2).replicarASedes()}),P.Dc(1," Replicar a sedes "),P.Sb()}}function jn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",35),P.bc("click",function(){return P.wc(o),P.fc(2).resetArticulo()}),P.Dc(1," Nuevo "),P.Sb()}}function zn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,8),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc();return e.form.valid&&t.onSubmit()}),P.Cc(2,On,2,1,"mat-form-field",9),P.Cc(3,Fn,2,1,"mat-form-field",9),P.Tb(4,"mat-form-field",10),P.Tb(5,"mat-label"),P.Dc(6,"Presentaci\xf3n Venta"),P.Sb(),P.Tb(7,"mat-select",11),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().articulo.presentacion=e}),P.Cc(8,xn,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(9,"mat-form-field",10),P.Tb(10,"mat-label"),P.Dc(11,"Presentaci\xf3n Reportes"),P.Sb(),P.Tb(12,"mat-select",13),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().articulo.presentacion_reporte=e}),P.Cc(13,En,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Cc(14,An,2,1,"mat-form-field",9),P.Cc(15,Pn,2,1,"mat-form-field",9),P.Tb(16,"mat-form-field",10),P.Tb(17,"mat-label"),P.Dc(18,"Impuesto Especial"),P.Sb(),P.Tb(19,"mat-select",14),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().articulo.impuesto_especial=e}),P.Cc(20,Bn,3,6,"mat-option",12),P.Sb(),P.Sb(),P.Cc(21,Rn,2,1,"mat-form-field",9),P.Cc(22,Un,2,1,"mat-form-field",9),P.Cc(23,Nn,2,1,"mat-form-field",9),P.Tb(24,"div",15),P.Tb(25,"div",16),P.Tb(26,"mat-checkbox",17),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().articulo.produccion=e)}),P.Dc(27,"\xbfEs produccion?"),P.Sb(),P.Sb(),P.Tb(28,"div",16),P.Tb(29,"mat-checkbox",18),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().articulo.mostrar_pos=e)}),P.Dc(30,"Mostrar en POS"),P.Sb(),P.Sb(),P.Tb(31,"div",16),P.Tb(32,"mat-checkbox",19),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().articulo.combo=e)}),P.Dc(33,"Combo"),P.Sb(),P.Sb(),P.Tb(34,"div",16),P.Tb(35,"mat-checkbox",20),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().articulo.multiple=e)}),P.Dc(36,"Opcion multiple"),P.Sb(),P.Sb(),P.Sb(),P.Tb(37,"div",15),P.Tb(38,"div",16),P.Tb(39,"mat-checkbox",21),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().articulo.mostrar_inventario=e)}),P.Dc(40,"Mostrar en Inventario"),P.Sb(),P.Sb(),P.Sb(),P.Tb(41,"div",22),P.Tb(42,"button",23),P.Dc(43," Guardar "),P.Sb(),P.Cc(44,Hn,2,0,"button",24),P.Cc(45,jn,2,0,"button",25),P.Sb(),P.Sb()}if(2&e){var n=P.tc(1),i=P.fc();P.Cb(2),P.lc("ngIf",i.esMovil),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(4),P.lc("ngModel",i.articulo.presentacion),P.Cb(1),P.lc("ngForOf",i.presentaciones),P.Cb(4),P.lc("ngModel",i.articulo.presentacion_reporte),P.Cb(1),P.lc("ngForOf",i.presentaciones),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(1),P.lc("ngIf",i.esMovil),P.Cb(4),P.lc("ngModel",i.articulo.impuesto_especial),P.Cb(1),P.lc("ngForOf",i.impuestosEspeciales),P.Cb(1),P.lc("ngIf",1==+i.articulo.produccion),P.Cb(1),P.lc("ngIf",1==+i.articulo.multiple||+i.articulo.combo),P.Cb(1),P.lc("ngIf",1==+i.articulo.multiple||+i.articulo.combo),P.Cb(3),P.lc("ngModel",+i.articulo.produccion),P.Cb(3),P.lc("ngModel",+i.articulo.mostrar_pos),P.Cb(3),P.lc("ngModel",+i.articulo.combo),P.Cb(3),P.lc("ngModel",+i.articulo.multiple),P.Cb(4),P.lc("ngModel",+i.articulo.mostrar_inventario),P.Cb(3),P.lc("disabled",!n.form.valid||!i.articulo.categoria_grupo),P.Cb(2),P.lc("ngIf",i.articulo.articulo),P.Cb(1),P.lc("ngIf",i.articulo.articulo)}}function Gn(e,t){1&e&&P.Ob(0,"hr")}function qn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleForm=!0}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_more"),P.Sb(),P.Sb()}}function $n(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",5),P.bc("click",function(){return P.wc(o),P.fc(2).showDetalleForm=!1}),P.Tb(1,"mat-icon",6),P.Dc(2,"expand_less"),P.Sb(),P.Sb()}}function Wn(e,t){if(1&e&&(P.Tb(0,"mat-option",28),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Ln(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",45),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).receta.cantidad=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.receta.cantidad)}}function Vn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-form-field",10),P.Tb(1,"input",46),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(3).receta.precio=e}),P.Sb(),P.Sb()}if(2&e){var n=P.fc(3);P.Cb(1),P.lc("ngModel",n.receta.precio)}}function Qn(e,t){if(1&e&&(P.Tb(0,"mat-option",28),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.medida),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Xn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",35),P.bc("click",function(){return P.wc(o),P.fc(3).resetReceta()}),P.Dc(1," Nuevo "),P.Sb()}}function Kn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",35),P.bc("click",function(){return P.wc(o),P.fc(3).imprimirReceta()}),P.Dc(1," Imprimir "),P.Sb()}}var Jn=function(){return{standalone:!0}};function Zn(e,t){if(1&e){var o=P.Ub();P.Tb(0,"form",7,38),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(1),t=P.fc(2);return e.form.valid&&t.onSubmitDetail()}),P.Tb(2,"mat-form-field",10),P.Tb(3,"mat-label"),P.Dc(4,"Art\xedculo"),P.Sb(),P.Tb(5,"input",39),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).txtArticuloSelected=e})("keyup",function(){P.wc(o);var e=P.fc(2);return e.filtrarArticulos(e.txtArticuloSelected)}),P.Sb(),P.Tb(6,"mat-autocomplete",40,41),P.Cc(8,Wn,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Cc(9,Ln,2,1,"mat-form-field",9),P.Cc(10,Vn,2,1,"mat-form-field",9),P.Tb(11,"mat-form-field",10),P.Tb(12,"mat-label"),P.Dc(13,"Unidad de medida"),P.Sb(),P.Tb(14,"mat-select",42),P.bc("ngModelChange",function(e){return P.wc(o),P.fc(2).receta.medida=e}),P.Cc(15,Qn,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(16,"div",15),P.Tb(17,"div",16),P.Tb(18,"mat-checkbox",43),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc(2).receta.racionable=e)}),P.Dc(19,"\xbfEs racionable?"),P.Sb(),P.Sb(),P.Tb(20,"div",16),P.Tb(21,"mat-checkbox",44),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc(2).receta.precio_extra=e)}),P.Dc(22," Precio Extra "),P.Sb(),P.Sb(),P.Sb(),P.Tb(23,"div",22),P.Tb(24,"button",23),P.Dc(25," Guardar "),P.Sb(),P.Cc(26,Xn,2,0,"button",25),P.Cc(27,Kn,2,0,"button",25),P.Sb(),P.Sb()}if(2&e){var n=P.tc(1),i=P.tc(7),c=P.fc(2);P.Cb(5),P.lc("ngModel",c.txtArticuloSelected)("ngModelOptions",P.nc(14,Jn))("matAutocomplete",i),P.Cb(1),P.lc("displayWith",c.displayArticulo),P.Cb(2),P.lc("ngForOf",c.filteredArticulos),P.Cb(1),P.lc("ngIf",c.esMovil),P.Cb(1),P.lc("ngIf",c.receta.precio_extra&&c.receta.precio_extra>0),P.Cb(4),P.lc("ngModel",c.receta.medida),P.Cb(1),P.lc("ngForOf",c.medidas),P.Cb(3),P.lc("ngModel",+c.receta.racionable),P.Cb(3),P.lc("ngModel",+c.receta.precio_extra),P.Cb(3),P.lc("disabled",!n.form.valid),P.Cb(2),P.lc("ngIf",c.receta.articulo_detalle),P.Cb(1),P.lc("ngIf",c.recetas.length>0)}}function Yn(e,t){1&e&&P.Ob(0,"hr")}function ei(e,t){1&e&&(P.Tb(0,"th",58),P.Dc(1,"Art\xedculo"),P.Sb())}function ti(e,t){if(1&e&&(P.Tb(0,"td",59),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(o.articulo.descripcion)}}function oi(e,t){1&e&&(P.Tb(0,"th",60),P.Dc(1,"Cantidad"),P.Sb())}function ni(e,t){if(1&e&&(P.Tb(0,"td",61),P.Dc(1),P.gc(2,"number"),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(P.ic(2,1,o.cantidad,"1.2-2"))}}function ii(e,t){1&e&&(P.Tb(0,"th",60),P.Dc(1,"Unida de medida"),P.Sb())}function ci(e,t){if(1&e&&(P.Tb(0,"td",61),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.Cb(1),P.Ec(o.medida.descripcion)}}function ai(e,t){1&e&&(P.Tb(0,"th",58),P.Dc(1,"\xa0"),P.Sb())}function ri(e,t){if(1&e){var o=P.Ub();P.Tb(0,"td",59),P.Tb(1,"button",34),P.bc("click",function(){P.wc(o);var e=t.$implicit;return P.fc(3).getReceta(e.receta,e.articulo_detalle)}),P.Dc(2," Editar "),P.Sb(),P.Tb(3,"button",35),P.bc("click",function(){P.wc(o);var e=t.$implicit;return P.fc(3).eliminaReceta(e)}),P.Dc(4," Eliminar "),P.Sb(),P.Sb()}}function li(e,t){1&e&&P.Ob(0,"tr",62)}function si(e,t){1&e&&P.Ob(0,"tr",63)}function ui(e,t){if(1&e&&(P.Tb(0,"table",47),P.Rb(1,48),P.Cc(2,ei,2,0,"th",49),P.Cc(3,ti,2,1,"td",50),P.Qb(),P.Rb(4,51),P.Cc(5,oi,2,0,"th",52),P.Cc(6,ni,3,4,"td",53),P.Qb(),P.Rb(7,54),P.Cc(8,ii,2,0,"th",52),P.Cc(9,ci,2,1,"td",53),P.Qb(),P.Rb(10,55),P.Cc(11,ai,2,0,"th",49),P.Cc(12,ri,5,0,"td",50),P.Qb(),P.Cc(13,li,1,0,"tr",56),P.Cc(14,si,1,0,"tr",57),P.Sb()),2&e){var o=P.fc(2);P.lc("dataSource",o.dataSource),P.Cb(13),P.lc("matHeaderRowDef",o.displayedColumns),P.Cb(1),P.lc("matRowDefColumns",o.displayedColumns)}}function bi(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,qn,3,0,"button",1),P.Cc(5,$n,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,Zn,28,15,"form",2),P.Cc(8,Yn,1,0,"hr",3),P.Tb(9,"mat-form-field",10),P.Tb(10,"input",36),P.bc("keyup",function(e){return P.wc(o),P.fc().applyFilter(e.target.value)}),P.Sb(),P.Sb(),P.Cc(11,ui,15,3,"table",37),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(3),P.Fc(" Detalle del art\xedculo ",n.articulo.descripcion," "),P.Cb(1),P.lc("ngIf",!n.showDetalleForm),P.Cb(1),P.lc("ngIf",n.showDetalleForm),P.Cb(2),P.lc("ngIf",n.showDetalleForm),P.Cb(1),P.lc("ngIf",n.recetas.length>0),P.Cb(3),P.lc("ngIf",n.recetas.length>0)}}var di,fi,gi,mi=((di=function(){function t(o,n,i,c,a,r,l,s){var u=this;e(this,t),this.dialog=o,this.snackBar=n,this.ls=i,this.articuloSrvc=c,this.medidaSrvc=a,this.presentacionSrvc=r,this.impuestoEspecialSrvc=l,this.rptSrvc=s,this.articuloSvd=new P.o,this.titulo="Receta",this.showArticuloForm=!0,this.medidas=[],this.presentaciones=[],this.articulos=[],this.filteredArticulos=[],this.recetas=[],this.impuestosEspeciales=[],this.showDetalleForm=!0,this.displayedColumns=["articulo","cantidad","medida","editItem"],this.esMovil=!1,this.txtArticuloSelected=void 0,this.resetArticulo=function(){u.articulo={articulo:null,categoria_grupo:u.articulo.categoria_grupo,presentacion:null,descripcion:null,precio:null,bien_servicio:"B",produccion:0,mostrar_pos:1,presentacion_reporte:null,impuesto_especial:null,shopify_id:null,multiple:0,cantidad_minima:1,cantidad_maxima:1,combo:0,rendimiento:0,mostrar_inventario:0},u.recetas=[],u.resetReceta()},this.setArticuloCategoriaGrupo=function(e){return u.articulo.categoria_grupo=+e},this.onSubmit=function(){u.articuloSrvc.saveArticulo(u.articulo).subscribe(function(e){e.exito?(u.articuloSvd.emit(),u.resetArticulo(),u.articulo=e.articulo,u.loadRecetas(u.articulo.articulo),u.loadArticulos(),u.snackBar.open("Articulo guardado con \xe9xito...","Articulo",{duration:3e3})):u.snackBar.open("ERROR: ".concat(e.mensaje),"Articulo",{duration:3e3})})},this.loadMedidas=function(){u.medidaSrvc.get().subscribe(function(e){e&&(u.medidas=e)})},this.loadPresentaciones=function(){u.presentacionSrvc.get().subscribe(function(e){e&&(u.presentaciones=e)})},this.loadArticulos=function(){u.articuloSrvc.getArticulos().subscribe(function(e){e&&(u.articulos=e)})},this.loadImpuestosEspeciales=function(){u.impuestoEspecialSrvc.get().subscribe(function(e){e&&(u.impuestosEspeciales=e)})},this.displayArticulo=function(e){if(e)return u.receta.articulo=e.articulo,e.descripcion},this.filtrarArticulos=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase();u.filteredArticulos=u.articulos.filter(function(e){return e.descripcion.toLowerCase().includes(t)})}else u.filteredArticulos=u.articulos},this.resetReceta=function(){u.receta={articulo_detalle:null,receta:u.articulo.articulo||0,racionable:0,articulo:null,cantidad:1,medida:null,anulado:0,precio_extra:0,precio:0},u.txtArticuloSelected=void 0,u.updateTableDataSource()},this.loadRecetas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+u.articulo.articulo;u.articuloSrvc.getArticuloDetalle(+e,{receta:+e}).subscribe(function(e){e&&(u.recetas=e,u.updateTableDataSource())})},this.getReceta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+u.articulo.articulo,t=arguments.length>1?arguments[1]:void 0;u.articuloSrvc.getArticuloDetalle(e,{articulo_detalle:t}).subscribe(function(e){e&&(u.receta={articulo_detalle:e[0].articulo_detalle,receta:e[0].receta.articulo,racionable:e[0].articulo.articulo,articulo:e[0].articulo.articulo,cantidad:+e[0].cantidad,medida:e[0].medida.medida,anulado:e[0].anulado||0,precio_extra:e[0].precio_extra||0,precio:+e[0].precio},u.txtArticuloSelected=e[0].articulo,u.showDetalleForm=!0)})},this.eliminaReceta=function(e){u.dialog.open(mn.a,{maxWidth:"400px",data:new mn.b("Eliminar detalle","\xbfDesea eliminar '".concat(e.cantidad," de ").concat(e.articulo.descripcion,"' de la receta?"),"S\xed","No")}).afterClosed().subscribe(function(t){t&&(e.anulado=1,e.articulo=e.articulo.articulo,u.articuloSrvc.saveArticuloDetalle(e).subscribe(function(e){u.loadRecetas(),u.resetReceta()}))})},this.onSubmitDetail=function(){u.receta.receta=u.articulo.articulo,u.articuloSrvc.saveArticuloDetalle(u.receta).subscribe(function(e){e&&(e.exito?(u.loadRecetas(),u.resetReceta()):u.snackBar.open("ERROR: ".concat(e.mensaje),"Articulo",{duration:3e3}))})},this.imprimirReceta=function(){u.rptSrvc.imprimirReceta(u.articulo.articulo).subscribe(function(e){if(e){var t=new Blob([e],{type:"application/pdf"});Object(gn.saveAs)(t,"".concat(u.titulo,"_").concat(u.articulo.descripcion,".pdf"))}else u.snackBar.open("No se pudo generar el reporte...",u.titulo,{duration:3e3})})},this.updateTableDataSource=function(){u.dataSource=new h.k(u.recetas),u.dataSource.filterPredicate=function(e,t){return e.articulo.descripcion.toLowerCase().includes(t)}},this.replicarASedes=function(){u.dialog.open(Mn,{width:"50%",data:{articulo:u.articulo}}).afterClosed().subscribe(function(e){})},this.applyFilter=function(e){u.dataSource.filter=e.toLocaleLowerCase()}}return o(t,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(E.a.usrTokenVar).enmovil||!1,this.resetArticulo(),this.loadMedidas(),this.loadArticulos(),this.loadPresentaciones(),this.loadImpuestosEspeciales()}}]),t}()).\u0275fac=function(e){return new(e||di)(P.Nb(k.b),P.Nb(T.a),P.Nb(B.a),P.Nb(X.a),P.Nb(In.a),P.Nb(K.a),P.Nb(wn.a),P.Nb(kn.a))},di.\u0275cmp=P.Hb({type:di,selectors:[["app-form-producto"]],inputs:{articulo:"articulo"},outputs:{articuloSvd:"articuloSvd"},decls:10,vars:6,consts:[[1,"mat-elevation-z4","fullWidth"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmArticulo","ngForm"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["name","presentacion","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","presentacion_reporte","required","",3,"ngModel","ngModelChange"],["name","impuesto_especial",3,"ngModel","ngModelChange"],[1,"row"],[1,"col","m3","s3"],["name","produccion",1,"example-margin",3,"ngModel","ngModelChange"],["name","mostrar_pos",1,"example-margin",3,"ngModel","ngModelChange"],["name","combo",1,"example-margin",3,"ngModel","ngModelChange"],["name","multiple",1,"example-margin",3,"ngModel","ngModelChange"],["name","mostrar_inventario",1,"example-margin",3,"ngModel","ngModelChange"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent","class","btnAccion",3,"click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],["matInput","","type","text","placeholder","Descripcion","name","descripcion","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Precio","name","precio","required","",3,"ngModel","ngModelChange"],[3,"value"],["matInput","","type","text","placeholder","C\xf3digo","name","codigo","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Shopify ID","name","shopify_id",3,"ngModel","ngModelChange"],["matInput","","type","number","step","0.05","placeholder","Rendimiento","name","rendimiento","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","step","1","placeholder","Cantidad minima","name","minima","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","step","1","placeholder","Cantidad maxima","name","maxima","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","placeholder","Buscar",3,"keyup"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleArticulo","ngForm"],["type","text","placeholder","Art\xedculo","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith"],["autoArticulos","matAutocomplete"],["name","medida","required","",3,"ngModel","ngModelChange"],["name","racionable",1,"fullWidth",3,"ngModel","ngModelChange"],["name","extra",1,"fullWidth",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cantidad","name","cantidad","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Precio","name","precio","required","",3,"ngModel","ngModelChange"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","medida"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(P.Tb(0,"mat-card",0),P.Tb(1,"mat-card-title"),P.Tb(2,"h4"),P.Dc(3),P.Cc(4,_n,3,0,"button",1),P.Cc(5,yn,3,0,"button",1),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Cc(7,zn,46,21,"form",2),P.Sb(),P.Sb(),P.Cc(8,Gn,1,0,"hr",3),P.Cc(9,bi,12,6,"mat-card",4)),2&e&&(P.Cb(3),P.Fc(" Art\xedculo ",t.articulo.articulo?t.articulo.descripcion:""," "),P.Cb(1),P.lc("ngIf",!t.showArticuloForm),P.Cb(1),P.lc("ngIf",t.showArticuloForm),P.Cb(2),P.lc("ngIf",t.showArticuloForm),P.Cb(1),P.lc("ngIf",t.articulo.articulo),P.Cb(1),P.lc("ngIf",t.articulo.articulo))},directives:[g.a,g.h,a.m,g.c,S.a,b.a,l.r,l.l,l.m,d.b,d.e,v.a,l.p,l.k,l.n,a.l,C.a,f.b,l.c,l.o,z.k,O.c,O.a,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,h.f,h.h],pipes:[a.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),di),pi=["lstProducto"],hi=["frmProducto"],vi=((fi=function(){function t(o){var n=this;e(this,t),this.articuloSrvc=o,this.setArticulo=function(e){n.articuloSrvc.getArticulo({articulo:e.id}).subscribe(function(e){if(e&&e.length>0){var t=e[0];n.articulo={articulo:+t.articulo,categoria_grupo:+t.categoria_grupo.categoria_grupo,presentacion:t.presentacion.presentacion,descripcion:t.descripcion,precio:+t.precio,codigo:t.codigo,produccion:t.produccion,presentacion_reporte:t.presentacion_reporte.presentacion,mostrar_pos:t.mostrar_pos,impuesto_especial:t.impuesto_especial,shopify_id:t.shopify_id,multiple:t.multiple,cantidad_minima:t.cantidad_minima,cantidad_maxima:t.cantidad_maxima,combo:t.combo,rendimiento:t.rendimiento,mostrar_inventario:t.mostrar_inventario},n.frmProductoComponent.loadRecetas(+n.articulo.articulo),n.frmProductoComponent.resetReceta()}})},this.setArticuloCategoriaGrupo=function(e){n.articulo.categoria_grupo=+e,n.frmProductoComponent.setArticuloCategoriaGrupo(+e)},this.refreshArticuloList=function(e){n.lstProductoComponent.loadArbolArticulos()},this.articulo={articulo:null,categoria_grupo:null,presentacion:null,descripcion:null,precio:null,bien_servicio:"B",produccion:0,presentacion_reporte:null,mostrar_pos:0,impuesto_especial:null,rendimiento:1,mostrar_inventario:0}}return o(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||fi)(P.Nb(X.a))},fi.\u0275cmp=P.Hb({type:fi,selectors:[["app-producto"]],viewQuery:function(e,t){var o;1&e&&(P.Ic(pi,1),P.Ic(hi,1)),2&e&&(P.sc(o=P.cc())&&(t.lstProductoComponent=o.first),P.sc(o=P.cc())&&(t.frmProductoComponent=o.first))},decls:8,vars:2,consts:[[1,"row"],[1,"col","m5","s12"],[3,"categoriaGrupoSvd","onChangeSubCategoriaEv"],[3,"treeHeight","productoClickedEv"],["lstProducto",""],[1,"col","m7","s12"],[3,"articulo","articuloSvd"],["frmProducto",""]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"app-categoria-producto",2),P.bc("categoriaGrupoSvd",function(e){return t.refreshArticuloList(e)})("onChangeSubCategoriaEv",function(e){return t.setArticuloCategoriaGrupo(e)}),P.Sb(),P.Tb(3,"app-lista-producto",3,4),P.bc("productoClickedEv",function(e){return t.setArticulo(e)}),P.Sb(),P.Sb(),P.Tb(5,"div",5),P.Tb(6,"app-form-producto",6,7),P.bc("articuloSvd",function(e){return t.refreshArticuloList(e)}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(3),P.lc("treeHeight","100%"),P.Cb(3),P.lc("articulo",t.articulo))},directives:[nn,fn,mi],styles:[""]}),fi),Ci=["frmEgreso"],Si=["frmIngreso"],Ti=((gi=function(){function t(o,n,i){var c=this;e(this,t),this.ls=o,this._snackBar=n,this.transformacionSrvc=i,this.mermaDetalle=[],this.showMerma=!0,this.transformar=function(){c.egreso=c.frmEgreso.egreso,c.ingreso=c.frmIngreso.ingreso,c.transformacion={egreso:{tipo_movimiento:c.egreso.tipo_movimiento,fecha:c.egreso.fecha,proveedor:c.ingreso.proveedor,bodega:c.egreso.bodega,usuario:c.egreso.usuario,estatus_movimiento:c.egreso.estatus_movimiento,bodega_destino:c.egreso.bodega_destino,tipo_movimiento_destino:c.egreso.tipo_movimiento_destino,detalle:[]},ingreso:{tipo_movimiento:c.ingreso.tipo_movimiento,fecha:c.ingreso.fecha,proveedor:c.ingreso.proveedor,bodega:c.ingreso.bodega,usuario:c.ingreso.usuario,bodega_origen:c.ingreso.bodega_origen,comentario:c.ingreso.comentario,detalle:[]},merma:[]},c.frmEgreso.detallesMerma.forEach(function(e){return c.transformacion.merma.push({articulo:e.articulo,cantidad:e.cantidad,precio_unitario:e.precio_unitario,precio_total:e.precio_total,presentacion:e.presentacion})}),c.frmEgreso.detallesEgreso.forEach(function(e){return c.transformacion.egreso.detalle.push({articulo:e.articulo,cantidad:e.cantidad,precio_unitario:e.precio_unitario,precio_total:e.precio_total,presentacion:e.presentacion})}),c.frmIngreso.detallesIngreso.forEach(function(e){return c.transformacion.ingreso.detalle.push({articulo:e.articulo,cantidad:e.cantidad,precio_unitario:e.precio_unitario,precio_total:e.precio_total,presentacion:e.presentacion})}),c.transformacion.egreso&&c.transformacion.egreso.detalle&&c.transformacion.egreso.detalle.length>0&&c.transformacion.ingreso&&c.transformacion.ingreso.detalle&&c.transformacion.ingreso.detalle.length>0?c.transformacionSrvc.transformar(c.transformacion).subscribe(function(e){e.exito?(c.frmEgreso.resetEgreso(),c.frmEgreso.detallesEgreso=[],c.frmIngreso.resetIngreso(),c.frmIngreso.detallesIngreso=[],c._snackBar.open("Transformaci\xf3n generada con \xe9xito...","Transformaci\xf3n",{duration:5e3})):c._snackBar.open("ERROR: ".concat(e.mensaje),"Transformaci\xf3n",{duration:3e3})}):c._snackBar.open("Faltan datos necesario. Favor complete los datos e intente de nuevo.","Transformaci\xf3n",{duration:3e3})}}return o(t,[{key:"ngOnInit",value:function(){this.egreso={egreso:null,tipo_movimiento:null,bodega:null,fecha:A().format(E.a.dbDateFormat),usuario:this.ls.get(E.a.usrTokenVar).idusr||0,estatus_movimiento:1,traslado:0},this.ingreso={ingreso:null,tipo_movimiento:null,fecha:A().format(E.a.dbDateFormat),bodega:null,usuario:this.ls.get(E.a.usrTokenVar).idusr||0,comentario:null,proveedor:null}}},{key:"doSomething",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||gi)(P.Nb(B.a),P.Nb(T.a),P.Nb(ot))},gi.\u0275cmp=P.Hb({type:gi,selectors:[["app-transformacion"]],viewQuery:function(e,t){var o;1&e&&(P.Ic(Ci,1),P.Ic(Si,1)),2&e&&(P.sc(o=P.cc())&&(t.frmEgreso=o.first),P.sc(o=P.cc())&&(t.frmIngreso=o.first))},decls:15,vars:4,consts:[[1,"row"],[1,"col","m12","s12",2,"padding-bottom","5px !important"],["align","end"],["mat-raised-button","","type","button","color","accent",3,"click"],[2,"font-size","18pt"],[1,"col","m6","s12"],[3,"egreso","saveToDB","egresoChange","egresoSavedEv"],["frmEgreso",""],[3,"ingreso","saveToDB","ingresoChange","ingresoSavedEv"],["frmIngreso",""]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"div",2),P.Tb(3,"button",3),P.bc("click",function(){return t.transformar()}),P.Tb(4,"mat-icon",4),P.Dc(5,"transform"),P.Sb(),P.Dc(6,"\xa0Transformar "),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(7,"div",0),P.Tb(8,"div",5),P.Tb(9,"app-form-egreso",6,7),P.bc("egresoChange",function(e){return t.egreso=e})("egresoSavedEv",function(){return t.doSomething()}),P.Sb(),P.Sb(),P.Tb(11,"div",5),P.Tb(12,"app-form-ingreso",8,9),P.bc("ingresoChange",function(e){return t.ingreso=e})("ingresoSavedEv",function(){return t.doSomething()}),P.Sb(),P.Sb(),P.Sb(),P.Ob(14,"div",0)),2&e&&(P.Cb(9),P.lc("egreso",t.egreso)("saveToDB",!1),P.Cb(3),P.lc("ingreso",t.ingreso)("saveToDB",!1))},directives:[S.a,b.a,_o,Le],styles:[""]}),gi),Di=i("NU9O");function Mi(e,t){if(1&e&&(P.Tb(0,"mat-option",13),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Ii(e,t){if(1&e&&(P.Tb(0,"mat-option",13),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.sede),P.Cb(1),P.Fc(" ",o.nombre," ")}}function wi(e,t){1&e&&P.Ob(0,"app-cargando")}var ki,_i=function(){return{standalone:!0}},yi=((ki=function(){function t(o,n,i,c){var a=this;e(this,t),this.snackBar=o,this.pdfServicio=n,this.sedeSrvc=i,this.bodegaSrvc=c,this.bodegas=[],this.sedes=[],this.params={},this.titulo="Existencias",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!0},this.getSede=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.sedeSrvc.get(e).subscribe(function(e){a.sedes=e})},this.getBodega=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.bodegaSrvc.get(e).subscribe(function(e){a.bodegas=e})},this.excelClick=function(){a.params._excel=1,a.cargando=!0,a.pdfServicio.getReporteExistencia(a.params).subscribe(function(e){if(a.cargando=!1,e){var t=new Blob([e],{type:"application/vnd.ms-excel"});Object(gn.saveAs)(t,"".concat(a.titulo,".xls"))}else a.snackBar.open("No se pudo generar el reporte...",a.titulo,{duration:3e3})})},this.resetParams=function(){a.params={},a.cargando=!1}}return o(t,[{key:"ngOnInit",value:function(){this.getSede(),this.getBodega()}},{key:"onSubmit",value:function(){var e=this;this.params._excel=0,this.cargando=!0,this.pdfServicio.getReporteExistencia(this.params).subscribe(function(t){if(e.cargando=!1,t){var o=new Blob([t],{type:"application/pdf"});Object(gn.saveAs)(o,"".concat(e.titulo,".pdf"))}else e.snackBar.open("No se pudo generar el reporte...",e.titulo,{duration:3e3})})}}]),t}()).\u0275fac=function(e){return new(e||ki)(P.Nb(T.a),P.Nb(kn.a),P.Nb(pn.a),P.Nb(Q.a))},ki.\u0275cmp=P.Hb({type:ki,selectors:[["app-existencias"]],decls:24,vars:9,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],["novalidate",""],["frmRptExistencias","ngForm"],[1,"fullWidth"],["name","bodega",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","sede",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Al","required","",3,"ngModel","ngModelOptions","ngModelChange"],["align","end"],[3,"configuracion","excelClick","pdfClick","resetParamsClick"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"h4"),P.Dc(5,"Reporte de existencias"),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Tb(7,"form",3,4),P.Tb(9,"mat-form-field",5),P.Tb(10,"mat-label"),P.Dc(11,"Bodega"),P.Sb(),P.Tb(12,"mat-select",6),P.bc("ngModelChange",function(e){return t.params.bodega=e}),P.Cc(13,Mi,2,2,"mat-option",7),P.Sb(),P.Sb(),P.Tb(14,"mat-form-field",5),P.Tb(15,"mat-label"),P.Dc(16,"Sede"),P.Sb(),P.Tb(17,"mat-select",8),P.bc("ngModelChange",function(e){return t.params.sede=e}),P.Cc(18,Ii,2,2,"mat-option",7),P.Sb(),P.Sb(),P.Tb(19,"mat-form-field",5),P.Tb(20,"input",9),P.bc("ngModelChange",function(e){return t.params.fecha=e}),P.Sb(),P.Sb(),P.Tb(21,"div",10),P.Tb(22,"app-rpt-botones",11),P.bc("excelClick",function(){return t.excelClick()})("pdfClick",function(){return t.onSubmit()})("resetParamsClick",function(){return t.resetParams()}),P.Sb(),P.Sb(),P.Sb(),P.Cc(23,wi,1,0,"app-cargando",12),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(12),P.lc("ngModel",t.params.bodega),P.Cb(1),P.lc("ngForOf",t.bodegas),P.Cb(4),P.lc("ngModel",t.params.sede),P.Cb(1),P.lc("ngForOf",t.sedes),P.Cb(2),P.lc("ngModel",t.params.fecha)("ngModelOptions",P.nc(8,_i)),P.Cb(2),P.lc("configuracion",t.configBotones),P.Cb(1),P.lc("ngIf",t.cargando))},directives:[g.a,g.h,g.c,l.r,l.l,l.m,d.b,d.e,v.a,l.k,l.n,a.l,f.b,l.c,l.p,Di.a,a.m,z.k,hn.a],styles:[""]}),ki);function Oi(e,t){if(1&e&&(P.Tb(0,"mat-option",14),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.articulo),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Fi(e,t){if(1&e&&(P.Tb(0,"mat-option",14),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function xi(e,t){if(1&e&&(P.Tb(0,"mat-option",14),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.sede),P.Cb(1),P.Fc(" ",o.nombre," ")}}function Ei(e,t){1&e&&P.Ob(0,"app-cargando")}var Ai,Pi,Bi=function(){return{standalone:!0}},Ri=((Ai=function(){function t(o,n,i,c,a){var r=this;e(this,t),this.snackBar=o,this.pdfServicio=n,this.sedeSrvc=i,this.bodegaSrvc=c,this.articuloSrvc=a,this.bodegas=[],this.sedes=[],this.articulos=[],this.params={},this.titulo="Kardex",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!0},this.getSede=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.sedeSrvc.get(e).subscribe(function(e){r.sedes=e})},this.getArticulo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.articuloSrvc.getArticulosIngreso(e).subscribe(function(e){r.articulos=e})},this.getBodega=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.bodegaSrvc.get(e).subscribe(function(e){r.bodegas=e})},this.excelClick=function(){r.params._excel=1,r.cargando=!0,r.pdfServicio.getReporteKardex(r.params).subscribe(function(e){if(r.cargando=!1,e){var t=new Blob([e],{type:"application/vnd.ms-excel"});Object(gn.saveAs)(t,"".concat(r.titulo,".xls"))}else r.snackBar.open("No se pudo generar el reporte...",r.titulo,{duration:3e3})})},this.resetParams=function(){r.params={},r.cargando=!1}}return o(t,[{key:"ngOnInit",value:function(){this.getSede(),this.getBodega(),this.getArticulo()}},{key:"onSubmit",value:function(){var e=this;this.params._excel=0,this.pdfServicio.getReporteKardex(this.params).subscribe(function(t){if(t){var o=new Blob([t],{type:"application/pdf"});Object(gn.saveAs)(o,"".concat(e.titulo,".pdf"))}else e.snackBar.open("No se pudo generar el reporte...",e.titulo,{duration:3e3})})}}]),t}()).\u0275fac=function(e){return new(e||Ai)(P.Nb(T.a),P.Nb(kn.a),P.Nb(pn.a),P.Nb(Q.a),P.Nb(X.a))},Ai.\u0275cmp=P.Hb({type:Ai,selectors:[["app-kardex"]],decls:30,vars:14,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],["novalidate",""],[1,"fullWidth"],["name","articulo","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","bodega",3,"ngModel","ngModelChange"],["name","sede",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Del","required","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","date","placeholder","Al","required","",3,"ngModel","ngModelOptions","ngModelChange"],["align","end"],[3,"configuracion","excelClick","pdfClick","resetParamsClick"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"h4"),P.Dc(5,"Kardex"),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Tb(7,"form",3),P.Tb(8,"mat-form-field",4),P.Tb(9,"mat-label"),P.Dc(10,"Articulo"),P.Sb(),P.Tb(11,"mat-select",5),P.bc("ngModelChange",function(e){return t.params.articulo=e}),P.Cc(12,Oi,2,2,"mat-option",6),P.Sb(),P.Sb(),P.Tb(13,"mat-form-field",4),P.Tb(14,"mat-label"),P.Dc(15,"Bodega"),P.Sb(),P.Tb(16,"mat-select",7),P.bc("ngModelChange",function(e){return t.params.bodega=e}),P.Cc(17,Fi,2,2,"mat-option",6),P.Sb(),P.Sb(),P.Tb(18,"mat-form-field",4),P.Tb(19,"mat-label"),P.Dc(20,"Sede"),P.Sb(),P.Tb(21,"mat-select",8),P.bc("ngModelChange",function(e){return t.params.sede=e}),P.Cc(22,xi,2,2,"mat-option",6),P.Sb(),P.Sb(),P.Tb(23,"mat-form-field",4),P.Tb(24,"input",9),P.bc("ngModelChange",function(e){return t.params.fdel=e}),P.Sb(),P.Sb(),P.Tb(25,"mat-form-field",4),P.Tb(26,"input",10),P.bc("ngModelChange",function(e){return t.params.fal=e}),P.Sb(),P.Sb(),P.Tb(27,"div",11),P.Tb(28,"app-rpt-botones",12),P.bc("excelClick",function(){return t.excelClick()})("pdfClick",function(){return t.onSubmit()})("resetParamsClick",function(){return t.resetParams()}),P.Sb(),P.Sb(),P.Sb(),P.Cc(29,Ei,1,0,"app-cargando",13),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(11),P.lc("ngModel",t.params.articulo),P.Cb(1),P.lc("ngForOf",t.articulos),P.Cb(4),P.lc("ngModel",t.params.bodega),P.Cb(1),P.lc("ngForOf",t.bodegas),P.Cb(4),P.lc("ngModel",t.params.sede),P.Cb(1),P.lc("ngForOf",t.sedes),P.Cb(2),P.lc("ngModel",t.params.fdel)("ngModelOptions",P.nc(12,Bi)),P.Cb(2),P.lc("ngModel",t.params.fal)("ngModelOptions",P.nc(13,Bi)),P.Cb(2),P.lc("configuracion",t.configBotones),P.Cb(1),P.lc("ngIf",t.cargando))},directives:[g.a,g.h,g.c,l.r,l.l,l.m,d.b,d.e,v.a,l.p,l.k,l.n,a.l,f.b,l.c,Di.a,a.m,z.k,hn.a],styles:[""]}),Ai),Ui=["frmIngreso"],Ni=((Pi=function(){function t(o,n,i){var c=this;e(this,t),this.ls=o,this.snackBar=n,this.transformacionSrvc=i,this.transformar=function(){c.ingreso=c.frmIngreso.ingreso,c.produccion={tipo_movimiento:c.ingreso.tipo_movimiento,fecha:c.ingreso.fecha,proveedor:c.ingreso.proveedor,bodega:c.ingreso.bodega,usuario:c.ingreso.usuario,bodega_origen:c.ingreso.bodega_origen,comentario:c.ingreso.comentario,detalle:[]},c.frmIngreso.detallesIngreso.forEach(function(e){return c.produccion.detalle.push({articulo:e.articulo,cantidad:e.cantidad,precio_unitario:e.precio_unitario,precio_total:e.precio_total,presentacion:e.presentacion})}),c.produccion&&c.produccion.detalle&&c.produccion.detalle.length>0?c.transformacionSrvc.producir(c.produccion).subscribe(function(e){e.exito?(c.frmIngreso.resetIngreso(),c.frmIngreso.detallesIngreso=[],c.snackBar.open("Producto generado con \xe9xito...","Producci\xf3n",{duration:5e3})):c.snackBar.open("ERROR: ".concat(e.mensaje),"Producci\xf3n",{duration:3e3})}):c.snackBar.open("Faltan datos necesario. Favor complete los datos e intente de nuevo.","Transformaci\xf3n",{duration:3e3})},this.doSomething=function(){}}return o(t,[{key:"ngOnInit",value:function(){this.ingreso={ingreso:null,tipo_movimiento:null,fecha:A().format(E.a.dbDateFormat),bodega:null,usuario:this.ls.get(E.a.usrTokenVar).idusr||0,comentario:null,proveedor:null}}}]),t}()).\u0275fac=function(e){return new(e||Pi)(P.Nb(B.a),P.Nb(T.a),P.Nb(ot))},Pi.\u0275cmp=P.Hb({type:Pi,selectors:[["app-produccion"]],viewQuery:function(e,t){var o;1&e&&P.Ic(Ui,1),2&e&&P.sc(o=P.cc())&&(t.frmIngreso=o.first)},decls:11,vars:2,consts:[[1,"row"],[1,"col","m12","s12",2,"padding-bottom","5px !important"],["align","end"],["mat-raised-button","","type","button","color","accent",3,"click"],[2,"font-size","18pt"],[1,"col","m12","s12"],[3,"ingreso","saveToDB","ingresoChange","ingresoSavedEv"],["frmIngreso",""]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"div",2),P.Tb(3,"button",3),P.bc("click",function(){return t.transformar()}),P.Tb(4,"mat-icon",4),P.Dc(5,"transform"),P.Sb(),P.Dc(6,"\xa0Transformar "),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(7,"div",0),P.Tb(8,"div",5),P.Tb(9,"app-form-ingreso",6,7),P.bc("ingresoChange",function(e){return t.ingreso=e})("ingresoSavedEv",function(){return t.doSomething()}),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(9),P.lc("ingreso",t.ingreso)("saveToDB",!1))},directives:[S.a,b.a,Le],styles:[""]}),Pi);function Hi(e,t){if(1&e&&(P.Tb(0,"mat-option",13),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function ji(e,t){if(1&e&&(P.Tb(0,"mat-option",13),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.sede),P.Cb(1),P.Fc(" ",o.nombre," ")}}function zi(e,t){1&e&&P.Ob(0,"app-cargando")}var Gi,qi,$i=function(){return{standalone:!0}},Wi=((qi=function(){function t(o,n,i,c){var a=this;e(this,t),this.snackBar=o,this.pdfServicio=n,this.sedeSrvc=i,this.bodegaSrvc=c,this.bodegas=[],this.sedes=[],this.params={},this.titulo="Valorizado",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!0},this.getSede=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.sedeSrvc.get(e).subscribe(function(e){a.sedes=e})},this.getBodega=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.bodegaSrvc.get(e).subscribe(function(e){a.bodegas=e})},this.excelClick=function(){a.params._excel=1,a.cargando=!0,a.pdfServicio.getReporteValorizado(a.params).subscribe(function(e){if(a.cargando=!1,e){var t=new Blob([e],{type:"application/vnd.ms-excel"});Object(gn.saveAs)(t,"".concat(a.titulo,".xls"))}else a.snackBar.open("No se pudo generar el reporte...",a.titulo,{duration:3e3})})},this.resetParams=function(){a.params={},a.cargando=!1}}return o(t,[{key:"ngOnInit",value:function(){this.getSede(),this.getBodega()}},{key:"onSubmit",value:function(){var e=this;this.params._excel=0,this.cargando=!0,this.pdfServicio.getReporteValorizado(this.params).subscribe(function(t){if(e.cargando=!1,t){var o=new Blob([t],{type:"application/pdf"});Object(gn.saveAs)(o,"".concat(e.titulo,".pdf"))}else e.snackBar.open("No se pudo generar el reporte...",e.titulo,{duration:3e3})})}}]),t}()).\u0275fac=function(e){return new(e||qi)(P.Nb(T.a),P.Nb(kn.a),P.Nb(pn.a),P.Nb(Q.a))},qi.\u0275cmp=P.Hb({type:qi,selectors:[["app-valorizado"]],decls:24,vars:9,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],["novalidate",""],["frmRptValorizado","ngForm"],[1,"fullWidth"],["name","bodega",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","sede",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Al","required","",3,"ngModel","ngModelOptions","ngModelChange"],["align","end"],[3,"configuracion","excelClick","pdfClick","resetParamsClick"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"h4"),P.Dc(5,"Inventario Valorizado"),P.Sb(),P.Sb(),P.Tb(6,"mat-card-content"),P.Tb(7,"form",3,4),P.Tb(9,"mat-form-field",5),P.Tb(10,"mat-label"),P.Dc(11,"Bodega"),P.Sb(),P.Tb(12,"mat-select",6),P.bc("ngModelChange",function(e){return t.params.bodega=e}),P.Cc(13,Hi,2,2,"mat-option",7),P.Sb(),P.Sb(),P.Tb(14,"mat-form-field",5),P.Tb(15,"mat-label"),P.Dc(16,"Sede"),P.Sb(),P.Tb(17,"mat-select",8),P.bc("ngModelChange",function(e){return t.params.sede=e}),P.Cc(18,ji,2,2,"mat-option",7),P.Sb(),P.Sb(),P.Tb(19,"mat-form-field",5),P.Tb(20,"input",9),P.bc("ngModelChange",function(e){return t.params.fecha=e}),P.Sb(),P.Sb(),P.Tb(21,"div",10),P.Tb(22,"app-rpt-botones",11),P.bc("excelClick",function(){return t.excelClick()})("pdfClick",function(){return t.onSubmit()})("resetParamsClick",function(){return t.resetParams()}),P.Sb(),P.Sb(),P.Sb(),P.Cc(23,zi,1,0,"app-cargando",12),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(12),P.lc("ngModel",t.params.bodega),P.Cb(1),P.lc("ngForOf",t.bodegas),P.Cb(4),P.lc("ngModel",t.params.sede),P.Cb(1),P.lc("ngForOf",t.sedes),P.Cb(2),P.lc("ngModel",t.params.fecha)("ngModelOptions",P.nc(8,$i)),P.Cb(2),P.lc("configuracion",t.configBotones),P.Cb(1),P.lc("ngIf",t.cargando))},directives:[g.a,g.h,g.c,l.r,l.l,l.m,d.b,d.e,v.a,l.k,l.n,a.l,f.b,l.c,l.p,Di.a,a.m,z.k,hn.a],styles:[""]}),qi),Li=((Gi=function(){function t(o){e(this,t),this.http=o,this.fisicoUrl="fisico",this.srvcErrHndl=new R.a}return o(t,[{key:"generarInventarioFisico",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.fisicoUrl,"/generar"),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"confirmar",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.fisicoUrl,"/confirmar/").concat(+e.inventario_fisico>0?"/"+e.inventario_fisico:""),{}).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"getDetalle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.get("".concat(E.a.urlWms,"/").concat(this.fisicoUrl,"/buscar_detalle/").concat(e,"?").concat(H.stringify(t))).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}},{key:"saveDetalle",value:function(e){return this.http.post("".concat(E.a.urlWms,"/").concat(this.fisicoUrl,"/actualizar/"),e).pipe(Object(U.a)(E.a.reintentos),Object(N.a)(this.srvcErrHndl.errorHandler))}}]),t}()).\u0275fac=function(e){return new(e||Gi)(P.Xb(r.b))},Gi.\u0275prov=P.Jb({token:Gi,factory:Gi.\u0275fac,providedIn:"root"}),Gi);function Vi(e,t){1&e&&(P.Tb(0,"mat-icon",8),P.Dc(1,"expand_more"),P.Sb())}function Qi(e,t){1&e&&(P.Tb(0,"mat-icon",8),P.Dc(1,"expand_less"),P.Sb())}function Xi(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.bodega),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Ki(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.sede),P.Cb(1),P.Fc(" ",o.nombre," ")}}function Ji(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Zi(e,t){if(1&e&&(P.Tb(0,"mat-option",20),P.Dc(1),P.Sb()),2&e){var o=t.$implicit;P.lc("value",o.categoria_grupo),P.Cb(1),P.Fc(" ",o.descripcion," ")}}function Yi(e,t){1&e&&P.Ob(0,"app-cargando")}var ec=function(){return{standalone:!0}};function tc(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-card-content"),P.Tb(1,"form",9),P.bc("ngSubmit",function(){return P.wc(o),P.fc().onSubmit()}),P.Tb(2,"mat-form-field",10),P.Tb(3,"mat-label"),P.Dc(4,"Bodega"),P.Sb(),P.Tb(5,"mat-select",11),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().params.bodega=e}),P.Cc(6,Xi,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(7,"mat-form-field",10),P.Tb(8,"mat-label"),P.Dc(9,"Sede"),P.Sb(),P.Tb(10,"mat-select",13),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().params.sede=e}),P.Cc(11,Ki,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(12,"mat-form-field",10),P.Tb(13,"mat-label"),P.Dc(14,"Categor\xeda"),P.Sb(),P.Tb(15,"mat-select",14),P.bc("selectionChange",function(e){return P.wc(o),P.fc().onCategoriaSelected(e)}),P.Cc(16,Ji,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(17,"mat-form-field",10),P.Tb(18,"mat-label"),P.Dc(19,"Sub-categor\xeda"),P.Sb(),P.Tb(20,"mat-select",15),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().params.categoria_grupo_grupo=e}),P.Cc(21,Zi,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(22,"mat-form-field",10),P.Tb(23,"input",16),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().params.fecha=e}),P.Sb(),P.Sb(),P.Tb(24,"mat-checkbox",17),P.bc("ngModelChange",function(e){return P.wc(o),+(P.fc().params._excel=e)}),P.Dc(25,"Generar en Excel "),P.Sb(),P.Tb(26,"div",18),P.Tb(27,"button",19),P.Dc(28,"GENERAR"),P.Sb(),P.Sb(),P.Sb(),P.Cc(29,Yi,1,0,"app-cargando",7),P.Sb()}if(2&e){var n=P.fc();P.Cb(5),P.lc("ngModel",n.params.bodega),P.Cb(1),P.lc("ngForOf",n.bodegas),P.Cb(4),P.lc("ngModel",n.params.sede),P.Cb(1),P.lc("ngForOf",n.sedes),P.Cb(5),P.lc("ngForOf",n.categorias),P.Cb(4),P.lc("ngModel",n.params.categoria_grupo_grupo),P.Cb(1),P.lc("ngForOf",n.categoriasGruposPadre),P.Cb(2),P.lc("ngModel",n.params.fecha)("ngModelOptions",P.nc(11,ec)),P.Cb(1),P.lc("ngModel",+n.params._excel),P.Cb(5),P.lc("ngIf",n.cargando)}}var oc,nc=((oc=function(){function t(o,n,i,c,a,r,l){var s=this;e(this,t),this.snackBar=o,this.pdfServicio=n,this.sedeSrvc=i,this.bodegaSrvc=c,this.articuloSrvc=a,this.fisicoSrvc=r,this.ls=l,this.bodegas=[],this.sedes=[],this.params={},this.categorias=[],this.categoriasGruposPadre=[],this.categoriasGrupos=[],this.titulo="Fisico",this.cargando=!1,this.showReporte=!0,this.getSede=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.sedeSrvc.get(e).subscribe(function(e){s.sedes=e})},this.getBodega=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.bodegaSrvc.get(e).subscribe(function(e){s.bodegas=e})},this.loadCategorias=function(){s.articuloSrvc.getCategorias({sede:+s.ls.get(E.a.usrTokenVar).sede||0}).subscribe(function(e){e&&(s.categorias=e)})},this.onCategoriaSelected=function(e){return s.loadSubCategorias(+e.value.categoria)},this.loadSubCategorias=function(e){s.articuloSrvc.getCategoriasGrupos({categoria:+e}).subscribe(function(e){e&&(s.categoriasGruposPadre=s.articuloSrvc.adaptCategoriaGrupoResponse(e),s.categoriasGrupos=s.categoriasGruposPadre)})},this.onSubCategoriaPadreSelected=function(e){return s.loadSubCategoriasSubcategorias(+e.value)},this.loadSubCategoriasSubcategorias=function(e){s.articuloSrvc.getCategoriasGrupos({categoria_grupo_grupo:e}).subscribe(function(e){e&&(s.categoriasGrupos=s.articuloSrvc.adaptCategoriaGrupoResponse(e))})}}return o(t,[{key:"ngOnInit",value:function(){this.getSede(),this.getBodega(),this.loadCategorias()}},{key:"onSubmit",value:function(){var e=this;this.cargando=!0,this.fisicoSrvc.generarInventarioFisico(this.params).subscribe(function(t){e.cargando=!1,console.log(t),t.exito?e.pdfServicio.imprimirInventarioFisico(t.inventario,e.params).subscribe(function(t){if(e.params._excel){var o=new Blob([t],{type:"application/vnd.ms-excel"});Object(gn.saveAs)(o,"".concat(e.titulo,".xls"))}else{var n=new Blob([t],{type:"application/pdf"});Object(gn.saveAs)(n,"".concat(e.titulo,".pdf"))}}):e.snackBar.open("No se pudo generar el reporte... "+t.mensaje,e.titulo,{duration:3e3})})}}]),t}()).\u0275fac=function(e){return new(e||oc)(P.Nb(T.a),P.Nb(kn.a),P.Nb(pn.a),P.Nb(Q.a),P.Nb(X.a),P.Nb(Li),P.Nb(B.a))},oc.\u0275cmp=P.Hb({type:oc,selectors:[["app-reporte"]],decls:13,vars:3,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],[1,"col"],[1,"col",2,"float","right"],["mat-button","","type","button","color","accent",3,"click"],["class","iconFontSize",4,"ngIf"],[4,"ngIf"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],[1,"fullWidth"],["name","bodega",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","sede",3,"ngModel","ngModelChange"],["name","categoria",3,"selectionChange"],["name","categoriaGrupoPadre",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Fecha","required","",3,"ngModel","ngModelOptions","ngModelChange"],["name","excel",1,"fullWidth",3,"ngModel","ngModelChange"],["align","end"],["mat-button","","color","accent","type","submit"],[3,"value"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"div",0),P.Tb(5,"div",3),P.Tb(6,"h4"),P.Dc(7,"Inventario Fisico"),P.Sb(),P.Sb(),P.Tb(8,"div",4),P.Tb(9,"button",5),P.bc("click",function(){return t.showReporte=!t.showReporte}),P.Cc(10,Vi,2,0,"mat-icon",6),P.Cc(11,Qi,2,0,"mat-icon",6),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Cc(12,tc,30,12,"mat-card-content",7),P.Sb(),P.Sb(),P.Sb()),2&e&&(P.Cb(10),P.lc("ngIf",t.showReporte),P.Cb(1),P.lc("ngIf",!t.showReporte),P.Cb(1),P.lc("ngIf",t.showReporte))},directives:[g.a,g.h,S.a,a.m,b.a,g.c,l.r,l.l,l.m,d.b,d.e,v.a,l.k,l.n,a.l,f.b,l.c,l.p,C.a,z.k,hn.a],styles:[""]}),oc);function ic(e,t){1&e&&(P.Tb(0,"mat-icon",9),P.Dc(1,"expand_more"),P.Sb())}function cc(e,t){1&e&&(P.Tb(0,"mat-icon",9),P.Dc(1,"expand_less"),P.Sb())}function ac(e,t){1&e&&P.Ob(0,"app-cargando")}function rc(e,t){if(1&e){var o=P.Ub();P.Tb(0,"mat-card-content"),P.Tb(1,"form",10),P.bc("ngSubmit",function(){return P.wc(o),P.fc().buscar()}),P.Tb(2,"mat-form-field",11),P.Tb(3,"input",12),P.bc("ngModelChange",function(e){return P.wc(o),P.fc().params.numero=e}),P.Sb(),P.Tb(4,"button",13),P.Dc(5,"Buscar"),P.Sb(),P.Sb(),P.Sb(),P.Cc(6,ac,1,0,"app-cargando",7),P.Sb()}if(2&e){var n=P.fc();P.Cb(3),P.lc("ngModel",n.params.numero),P.Cb(3),P.lc("ngIf",n.cargando)}}var lc=function(){return{standalone:!0}};function sc(e,t){if(1&e&&(P.Tb(0,"tr"),P.Tb(1,"td",23),P.Dc(2),P.Sb(),P.Tb(3,"td",23),P.Tb(4,"mat-form-field",11),P.Tb(5,"input",24),P.bc("ngModelChange",function(e){return t.$implicit.existencia_fisica=e}),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&e){var o=t.$implicit;P.Cb(2),P.Fc(" ",o.narticulo," "),P.Cb(3),P.lc("ngModel",o.existencia_fisica)("ngModelOptions",P.nc(3,lc))}}function uc(e,t){if(1&e&&(P.Rb(0),P.Tb(1,"tr"),P.Tb(2,"th",22),P.Dc(3),P.Sb(),P.Sb(),P.Cc(4,sc,6,4,"tr",17),P.Qb()),2&e){var o=t.$implicit;P.Cb(3),P.Ec(o.descripcion),P.Cb(1),P.lc("ngForOf",o.datos)}}function bc(e,t){if(1&e&&(P.Rb(0),P.Tb(1,"tr"),P.Tb(2,"th",22),P.Tb(3,"mat-label"),P.Dc(4),P.Sb(),P.Sb(),P.Sb(),P.Cc(5,uc,5,2,"ng-container",17),P.Qb()),2&e){var o=t.$implicit;P.Cb(4),P.Ec(o.descripcion),P.Cb(1),P.lc("ngForOf",o.datos)}}function dc(e,t){1&e&&(P.Tb(0,"button",25),P.Dc(1,"Guardar"),P.Sb())}function fc(e,t){if(1&e){var o=P.Ub();P.Tb(0,"button",20),P.bc("click",function(){return P.wc(o),P.fc(2).confirmar()}),P.Dc(1,"Confirmar"),P.Sb()}}function gc(e,t){1&e&&P.Ob(0,"app-cargando")}function mc(e,t){if(1&e){var o=P.Ub();P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Ob(3,"mat-card-title"),P.Tb(4,"mat-card-content"),P.Tb(5,"form",14,15),P.bc("ngSubmit",function(){P.wc(o);var e=P.tc(6),t=P.fc();return e.form.valid&&t.actualizar()}),P.Tb(7,"table",16),P.Cc(8,bc,6,2,"ng-container",17),P.Sb(),P.Tb(9,"div",18),P.Cc(10,dc,2,0,"button",19),P.Tb(11,"button",20),P.bc("click",function(){return P.wc(o),P.fc().imprimir()}),P.Dc(12,"PDF"),P.Sb(),P.Tb(13,"button",20),P.bc("click",function(){return P.wc(o),P.fc().imprimirXls()}),P.Dc(14,"Excel"),P.Sb(),P.Cc(15,fc,2,0,"button",21),P.Sb(),P.Sb(),P.Cc(16,gc,1,0,"app-cargando",7),P.Sb(),P.Sb(),P.Sb(),P.Sb()}if(2&e){var n=P.fc();P.Cb(8),P.lc("ngForOf",n.articulos),P.Cb(2),P.lc("ngIf",0==n.inventario.confirmado),P.Cb(5),P.lc("ngIf",0==n.inventario.confirmado),P.Cb(1),P.lc("ngIf",n.cargando)}}var pc,hc,vc,Cc,Sc=((pc=function(){function t(o,n,i,c){var a=this;e(this,t),this.snackBar=o,this.pdfServicio=n,this.fisicoSrvc=i,this.dialog=c,this.showForm=!0,this.params={},this.cargando=!1,this.articulos=[],this.inventario={},this.titulo="Inventario_Fisico",this.resetDatos=function(){a.articulos=[],a.inventario={inventario_fisico:0,sede:null,usuario:null,categoria_grupo:null,fhcreacion:null,fecha:null,notas:null,confirmado:0}},this.buscar=function(){a.resetDatos(),a.fisicoSrvc.getDetalle(a.params.numero).subscribe(function(e){e&&(a.articulos=e.detalle,a.inventario=e.inventario)})},this.actualizar=function(){a.fisicoSrvc.saveDetalle(a.articulos).subscribe(function(e){a.snackBar.open(e.exito?"Datos actualizados exitosamente":"ERROR: ".concat(e.mensaje),"Inventario",{duration:3e3})})},this.confirmar=function(){a.dialog.open(mn.a,{maxWidth:"400px",data:new mn.b("Confirmar Inventario Fisico","No podr\xe1 modificar los datos ingresados. \xbfDesea continuar?","S\xed","No")}).afterClosed().subscribe(function(e){e&&a.fisicoSrvc.confirmar(a.inventario).subscribe(function(e){e.exito?(a.inventario=e.inventario,a.snackBar.open("Inventario confirmado exitosamente","Inventario",{duration:3e3})):a.snackBar.open("ERROR: ".concat(e.mensaje),"Inventario",{duration:3e3})})})},this.imprimir=function(){a.pdfServicio.imprimirInventarioFisico(a.inventario.inventario_fisico,{existencia_fisica:!0}).subscribe(function(e){var t=new Blob([e],{type:"application/pdf"});Object(gn.saveAs)(t,"".concat(a.titulo,".pdf"))})},this.imprimirXls=function(){a.pdfServicio.imprimirInventarioFisico(a.inventario.inventario_fisico,{existencia_fisica:!0,_excel:!0}).subscribe(function(e){var t=new Blob([e],{type:"application/vnd.ms-excel"});Object(gn.saveAs)(t,"".concat(a.titulo,".xls"))})}}return o(t,[{key:"ngOnInit",value:function(){this.resetDatos()}}]),t}()).\u0275fac=function(e){return new(e||pc)(P.Nb(T.a),P.Nb(kn.a),P.Nb(Li),P.Nb(k.b))},pc.\u0275cmp=P.Hb({type:pc,selectors:[["app-form-inventario-fisico"]],decls:14,vars:4,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],[1,"col"],[1,"col",2,"float","right"],["mat-button","","type","button","color","accent",3,"click"],["class","iconFontSize",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],[1,"fullWidth"],["matInput","","type","text","placeholder","N\xfamero","name","numero","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","matSuffix","","color","accent","type","submit"],["novalidate","","autocomplete","off",3,"ngSubmit"],["frmConteoFisico","ngForm"],[1,"tbl"],[4,"ngFor","ngForOf"],["align","end"],["mat-button","","color","accent","type","submit",4,"ngIf"],["mat-button","","color","accent","type","button",3,"click"],["mat-button","","color","accent","type","button",3,"click",4,"ngIf"],["colspan","2",1,"brdTSingleBSingle"],[1,"brdTSingleBSingle"],["matInput","","type","number","step","0.01","placeholder","Cantidad","required","",3,"ngModel","ngModelOptions","ngModelChange"],["mat-button","","color","accent","type","submit"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"mat-card",2),P.Tb(3,"mat-card-title"),P.Tb(4,"div",0),P.Tb(5,"div",3),P.Tb(6,"h4"),P.Dc(7,"Ingreso Inventario Fisico"),P.Sb(),P.Sb(),P.Tb(8,"div",4),P.Tb(9,"button",5),P.bc("click",function(){return t.showForm=!t.showForm}),P.Cc(10,ic,2,0,"mat-icon",6),P.Cc(11,cc,2,0,"mat-icon",6),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Cc(12,rc,7,2,"mat-card-content",7),P.Sb(),P.Sb(),P.Sb(),P.Cc(13,mc,17,4,"div",8)),2&e&&(P.Cb(10),P.lc("ngIf",t.showForm),P.Cb(1),P.lc("ngIf",!t.showForm),P.Cb(1),P.lc("ngIf",t.showForm),P.Cb(1),P.lc("ngIf",t.articulos.length>0))},directives:[g.a,g.h,S.a,a.m,b.a,g.c,l.r,l.l,l.m,d.b,f.b,l.c,l.p,l.k,l.n,d.f,hn.a,a.l,d.e,l.o],styles:[""]}),pc),Tc=["rptInventario"],Dc=["frmInventario"],Mc=[{path:"ingresos",component:Xe,canActivate:[x.a]},{path:"egresos",component:Fo,canActivate:[x.a]},{path:"articulos",component:vi,canActivate:[x.a]},{path:"transformaciones",component:Ti,canActivate:[x.a]},{path:"rptexistencia",component:yi,canActivate:[x.a]},{path:"rptkardex",component:Ri,canActivate:[x.a]},{path:"produccion",component:Ni,canActivate:[x.a]},{path:"rptvalorizado",component:Wi,canActivate:[x.a]},{path:"fisico",component:(hc=function(){function t(){e(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}(),hc.\u0275fac=function(e){return new(e||hc)},hc.\u0275cmp=P.Hb({type:hc,selectors:[["app-fisico"]],viewQuery:function(e,t){var o;1&e&&(P.Ic(Tc,1),P.Ic(Dc,1)),2&e&&(P.sc(o=P.cc())&&(t.rptInventarioComponent=o.first),P.sc(o=P.cc())&&(t.frmInventarioComponent=o.first))},decls:6,vars:0,consts:[[1,"row"],[1,"col","s12","m12"]],template:function(e,t){1&e&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Ob(2,"app-reporte"),P.Sb(),P.Sb(),P.Tb(3,"div",0),P.Tb(4,"div",1),P.Ob(5,"app-form-inventario-fisico"),P.Sb(),P.Sb())},directives:[nc,Sc],styles:[""]}),hc),canActivate:[x.a]},{path:"replicar_articulos_sedes",component:Dn,canActivate:[x.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}],Ic=((Cc=function t(){e(this,t)}).\u0275mod=P.Lb({type:Cc}),Cc.\u0275inj=P.Kb({factory:function(e){return new(e||Cc)},imports:[[F.d.forChild(Mc)],F.d]}),Cc),wc=((vc=function t(){e(this,t)}).\u0275mod=P.Lb({type:vc}),vc.\u0275inj=P.Kb({factory:function(e){return new(e||vc)},providers:[],imports:[[a.c,Ic,s.a,r.c,l.e,u.d,b.b,d.d,f.c,g.f,m.b,p.c,h.l,v.b,C.b,S.b,T.b,D.b,M.d,I.b,w.b,k.e,_.d,y.c,O.b]]}),vc)}}])}();