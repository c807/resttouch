!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"52Kp":function(t,e,a){"use strict";a.d(e,"a",function(){return B});var r,i="function"==typeof atob,c="function"==typeof btoa,o="function"==typeof Buffer,u="function"==typeof TextDecoder?new TextDecoder:void 0,l="function"==typeof TextEncoder?new TextEncoder:void 0,s=n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=(r={},s.forEach(function(t,e){return r[t]=e}),r),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,b=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return new Uint8Array(Array.prototype.slice.call(t,0).map(e))},m=function(t){return t.replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=+$/m,"")},h=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(t){for(var e,a,n,r,i="",c=t.length%3,o=0;o<t.length;){if((a=t.charCodeAt(o++))>255||(n=t.charCodeAt(o++))>255||(r=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");i+=s[(e=a<<16|n<<8|r)>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return c?i.slice(0,c-3)+"===".substring(c):i},v=c?function(t){return btoa(t)}:o?function(t){return Buffer.from(t,"binary").toString("base64")}:g,F=o?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],a=0,n=t.length;a<n;a+=4096)e.push(b.apply(null,t.subarray(a,a+4096)));return v(e.join(""))},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?m(F(t)):F(t)},_=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?b(192|e>>>6)+b(128|63&e):b(224|e>>>12&15)+b(128|e>>>6&63)+b(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return b(240|e>>>18&7)+b(128|e>>>12&63)+b(128|e>>>6&63)+b(128|63&e)},y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,C=function(t){return t.replace(y,_)},T=o?function(t){return Buffer.from(t,"utf8").toString("base64")}:l?function(t){return F(l.encode(t))}:function(t){return v(C(t))},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?m(T(t)):T(t)},M=function(t){return x(t,!0)},k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,D=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return b(55296+(e>>>10))+b(56320+(1023&e));case 3:return b((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return b((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},I=function(t){return t.replace(k,D)},O=function(t){if(t=t.replace(/\s+/g,""),!d.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,a,n,r="",i=0;i<t.length;)e=f[t.charAt(i++)]<<18|f[t.charAt(i++)]<<12|(a=f[t.charAt(i++)])<<6|(n=f[t.charAt(i++)]),r+=64===a?b(e>>16&255):64===n?b(e>>16&255,e>>8&255):b(e>>16&255,e>>8&255,255&e);return r},w=i?function(t){return atob(h(t))}:o?function(t){return Buffer.from(t,"base64").toString("binary")}:O,A=o?function(t){return p(Buffer.from(t,"base64"))}:function(t){return p(w(t),function(t){return t.charCodeAt(0)})},E=function(t){return A(j(t))},P=o?function(t){return Buffer.from(t,"base64").toString("utf8")}:u?function(t){return u.decode(A(t))}:function(t){return I(w(t))},j=function(t){return h(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},z=function(t){return P(j(t))},U=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},N=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,U(e))};t("fromBase64",function(){return z(this)}),t("toBase64",function(t){return x(this,t)}),t("toBase64URI",function(){return x(this,!0)}),t("toBase64URL",function(){return x(this,!0)}),t("toUint8Array",function(){return E(this)})},H=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,U(e))};t("toBase64",function(t){return S(this,t)}),t("toBase64URI",function(){return S(this,!0)}),t("toBase64URL",function(){return S(this,!0)})},B={version:"3.6.0",VERSION:"3.6.0",atob:w,atobPolyfill:O,btoa:v,btoaPolyfill:g,fromBase64:z,toBase64:x,encode:x,encodeURI:M,encodeURL:M,utob:C,btou:I,decode:z,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:S,toUint8Array:E,extendString:N,extendUint8Array:H,extendBuiltins:function(){N(),H()}}},JbvS:function(e,n,r){"use strict";r.d(n,"a",function(){return v}),r.d(n,"b",function(){return F}),r.d(n,"c",function(){return _}),r.d(n,"d",function(){return S});var i=r("fXoL"),c=r("bTqV"),o=r("ofXK"),u=r("xgIS"),l=r("cp0P"),s=r("IzEk");function f(t,e){1&t&&i.jc(0,0,["*ngIf","miniFabVisible"])}var d=[[["","mat-mini-fab",""]]],b=["[mat-mini-fab]"],p=[[["eco-fab-speed-dial-trigger"]],[["eco-fab-speed-dial-actions"]]],m=["eco-fab-speed-dial-trigger","eco-fab-speed-dial-actions"],h=[[["","mat-fab",""]]],g=["[mat-fab]"],v=function(){var e=function(){function e(a,n){t(this,e),this.renderer=n,this.miniFabVisible=!1,this._parent=a.get(F)}return a(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._buttons.changes.subscribe(function(){t.initButtonStates(),t._parent.setActionsVisibility()}),this.initButtonStates()}},{key:"initButtonStates",value:function(){var t=this;this._buttons.forEach(function(e,a){t.renderer.addClass(e._getHostElement(),"eco-fab-action-item"),t.changeElementStyle(e._getHostElement(),"z-index",""+(23-a))})}},{key:"show",value:function(){var t=this;this._buttons&&(this.resetAnimationState(),this.miniFabVisible=!0,this.showMiniFabAnimation=setTimeout(function(){t._buttons.forEach(function(e,a){var n,r=0;"scale"===t._parent.animationMode?(r=3+65*a,n="scale(1)"):n=t.getTranslateFunction("0");var i=e._getHostElement();t.changeElementStyle(i,"transition-delay",r+"ms"),t.changeElementStyle(i,"opacity","1"),t.changeElementStyle(i,"transform",n)})},50))}},{key:"resetAnimationState",value:function(){clearTimeout(this.showMiniFabAnimation),this.hideMiniFab&&(this.hideMiniFab.unsubscribe(),this.hideMiniFab=null)}},{key:"hide",value:function(){var t=this;if(this._buttons){this.resetAnimationState();var e=this._buttons.map(function(e,a){var n,r="1",i=0;"scale"===t._parent.animationMode?(i=3-65*a,n="scale(0)",r="0"):n=t.getTranslateFunction(55*(a+1)-5*a+"px");var c=e._getHostElement();return t.changeElementStyle(c,"transition-delay",i+"ms"),t.changeElementStyle(c,"opacity",r),t.changeElementStyle(c,"transform",n),Object(u.a)(c,"transitionend").pipe(Object(s.a)(1))});this.hideMiniFab=Object(l.a)(e).subscribe(function(){return t.miniFabVisible=!1})}}},{key:"getTranslateFunction",value:function(t){var e=this._parent.direction;return("up"===e||"down"===e?"translateY":"translateX")+"("+("down"===e||"right"===e?"-":"")+t+")"}},{key:"changeElementStyle",value:function(t,e,a){this.renderer.setStyle(t,e,a)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.t),i.Nb(i.G))},e.\u0275cmp=i.Hb({type:e,selectors:[["eco-fab-speed-dial-actions"]],contentQueries:function(t,e,a){var n;(1&t&&i.Gb(a,c.a,0),2&t)&&(i.sc(n=i.cc())&&(e._buttons=n))},ngContentSelectors:b,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(i.kc(d),i.Dc(0,f,1,0,"ng-content",0)),2&t&&i.lc("ngIf",e.miniFabVisible)},directives:[o.m],encapsulation:2}),e}(),F=function(){var e=function(){function e(a,n,r){t(this,e),this.elementRef=a,this.renderer=n,this.document=r,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this._fixed=!1,this._documentClickUnlistener=null,this.openChange=new i.o}return a(e,[{key:"ngAfterContentInit",value:function(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)}},{key:"ngOnDestroy",value:function(){this._unsetDocumentClickListener()}},{key:"toggle",value:function(){this.open=!this.open}},{key:"_onClick",value:function(){!this.fixed&&this.open&&(this.open=!1)}},{key:"setActionsVisibility",value:function(){this._childActions&&(this.open?this._childActions.show():this._childActions.hide(),this._processOutsideClickState())}},{key:"_setElementClass",value:function(t,e){var a="eco-".concat(t);e?this.renderer.addClass(this.elementRef.nativeElement,a):this.renderer.removeClass(this.elementRef.nativeElement,a)}},{key:"_processOutsideClickState",value:function(){!this.fixed&&this.open?this._setDocumentClickListener():this._unsetDocumentClickListener()}},{key:"_setDocumentClickListener",value:function(){var t=this;this._documentClickUnlistener||(this._documentClickUnlistener=this.renderer.listen(this.document,"click",function(){t.open=!1}))}},{key:"_unsetDocumentClickListener",value:function(){this._documentClickUnlistener&&(this._documentClickUnlistener(),this._documentClickUnlistener=null)}},{key:"fixed",get:function(){return this._fixed},set:function(t){this._fixed=t,this._processOutsideClickState()}},{key:"open",get:function(){return this._open},set:function(t){var e=this._open;this._open=t,e!==this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())}},{key:"direction",get:function(){return this._direction},set:function(t){var e=this._direction;this._direction=t,e!==this.direction&&(this._setElementClass(e,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())}},{key:"animationMode",get:function(){return this._animationMode},set:function(t){var e=this,a=this._animationMode;this._animationMode=t,a!==this._animationMode&&(this._setElementClass(a,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then(function(){return e.open=!1}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.l),i.Nb(i.G),i.Nb(o.d))},e.\u0275cmp=i.Hb({type:e,selectors:[["eco-fab-speed-dial"]],contentQueries:function(t,e,a){var n;(1&t&&i.Gb(a,v,1),2&t)&&(i.sc(n=i.cc())&&(e._childActions=n.first))},hostVars:2,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._onClick()}),2&t&&i.Fb("eco-opened",e.open)},inputs:{fixed:"fixed",open:"open",direction:"direction",animationMode:"animationMode"},outputs:{openChange:"openChange"},ngContentSelectors:m,decls:3,vars:0,consts:[[1,"eco-fab-speed-dial-container"]],template:function(t,e){1&t&&(i.kc(p),i.Tb(0,"div",0),i.jc(1),i.jc(2,1),i.Sb())},styles:["eco-fab-speed-dial{display:inline-block}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180{transform:rotate(180deg)}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transform:rotate(1turn)}eco-fab-speed-dial .eco-fab-speed-dial-container{align-items:center;display:flex;position:relative;z-index:20}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{pointer-events:auto;z-index:24}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180,eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transition:all .6s cubic-bezier(.4,0,.2,1)}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-actions{display:flex;height:0;position:absolute;width:0}eco-fab-speed-dial.eco-fling .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{display:block;opacity:1;transition:all .3s cubic-bezier(.55,0,.55,.2)}eco-fab-speed-dial.eco-scale .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{transform:scale(0);transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}eco-fab-speed-dial.eco-down eco-fab-speed-dial-actions{bottom:2px;left:7px}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column;order:2}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-top:10px}eco-fab-speed-dial.eco-up eco-fab-speed-dial-actions{left:7px;top:2px}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column-reverse;order:1}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-bottom:10px}eco-fab-speed-dial.eco-left eco-fab-speed-dial-actions{left:2px;top:7px}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row-reverse;order:1}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-right:10px}eco-fab-speed-dial.eco-right eco-fab-speed-dial-actions{right:2px;top:7px}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row;order:2}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-left:10px}"],encapsulation:2}),e}(),S=function(){var e=function(){function e(a){t(this,e),this.spin=!1,this._parent=a.get(F)}return a(e,[{key:"_onClick",value:function(t){this._parent.fixed||(this._parent.toggle(),t.stopPropagation())}},{key:"sp",get:function(){return this.spin}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.t))},e.\u0275cmp=i.Hb({type:e,selectors:[["eco-fab-speed-dial-trigger"]],hostVars:2,hostBindings:function(t,e){1&t&&i.bc("click",function(t){return e._onClick(t)}),2&t&&i.Fb("eco-spin",e.sp)},inputs:{spin:"spin"},ngContentSelectors:g,decls:1,vars:0,template:function(t,e){1&t&&(i.kc(h),i.jc(0))},encapsulation:2}),e}(),_=function(){var e=function e(){t(this,e)};return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},imports:[[o.c]]}),e}()},KFbY:function(e,n,r){"use strict";r.d(n,"a",function(){return d});var i=r("sKxO"),c=r("R5jZ"),o=r("un/a"),u=r("JIr8"),l=r("Qyje"),s=r("fXoL"),f=r("tk/3"),d=function(){var e=function(){function e(a){t(this,e),this.http=a,this.moduleUrl="factura",this.srvcErrHndl=new c.a}return a(e,[{key:"facturar",value:function(t){return this.http.post("".concat(i.a.urlAppRestaurante,"/").concat(this.moduleUrl,"/guardar"),t).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/buscar_factura?").concat(l.stringify(t))).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"imprimir",value:function(t){return this.http.get("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/imprimir/").concat(t)).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"save",value:function(t){return this.http.post("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/guardar").concat(t.factura?"/"+t.factura:""),t).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"refacturar",value:function(t){return this.http.post("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/refacturar").concat(t.factura?"/"+t.factura:""),t).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"firmar",value:function(t){return this.http.post("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/facturar/").concat(t),{}).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"anular",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.post("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/anular/").concat(t),e).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"getDetalle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.get("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/buscar_detalle/").concat(t,"?").concat(l.stringify(e))).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"saveDetalle",value:function(t){return this.http.post("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/guardar_detalle/").concat(t.factura).concat(t.detalle_factura?"/"+t.detalle_factura:""),t).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"getGrafo",value:function(t){return this.http.get("".concat(i.a.urlFacturacion,"/").concat(this.moduleUrl,"/get_grafo_factura/").concat(t)).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Xb(f.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},KZK3:function(e,n,r){"use strict";r.d(n,"a",function(){return d});var i=r("sKxO"),c=r("R5jZ"),o=r("un/a"),u=r("JIr8"),l=r("Qyje"),s=r("fXoL"),f=r("tk/3"),d=function(){var e=function(){function e(a){t(this,e),this.http=a,this.moduleUrl="catalogo",this.manteUrl="fpago",this.srvcErrHndl=new c.a}return a(e,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(i.a.url,"/").concat(this.moduleUrl,"/get_forma_pago?").concat(l.stringify(t))).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"buscar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(i.a.urlMantenimientos,"/").concat(this.manteUrl,"/buscar?").concat(l.stringify(t))).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}},{key:"save",value:function(t){return this.http.post("".concat(i.a.urlMantenimientos,"/").concat(this.manteUrl,"/guardar").concat(t.forma_pago?"/"+t.forma_pago:""),t).pipe(Object(o.a)(i.a.reintentos),Object(u.a)(this.srvcErrHndl.errorHandler))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Xb(f.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},qodq:function(e,n,r){"use strict";r.r(n),r.d(n,"PosModule",function(){return ue});var i=r("ofXK"),c=r("tk/3"),o=r("3Pt+"),u=r("PCNd"),l=r("jkDv"),s=r("MutI"),f=r("NFeN"),d=r("kmnG"),b=r("qFsG"),p=r("Wp6s"),m=r("f0Cb"),h=r("wZkO"),g=r("+0xr"),v=r("d3UM"),F=r("bSwM"),S=r("bTqV"),_=r("dNgK"),y=r("/t3+"),C=r("STbY"),T=r("zkoq"),x=r("M9IT"),M=r("0IaG"),k=r("XhcP"),D=r("/1cH"),I=r("uM5D"),O=r("JbvS"),w=r("tyNb"),A=r("0T/Q"),E=r("fXoL"),P=r("sKxO"),j=r("KZK3"),z=r("FKr1");function U(t,e){if(1&t){var a=E.Ub();E.Tb(0,"mat-list-item",5),E.bc("click",function(){E.xc(a);var t=e.$implicit;return E.fc().getFormaPago(t)}),E.Tb(1,"mat-icon",6),E.Fc(2,"account_balance_wallet"),E.Sb(),E.Tb(3,"h5",7),E.Fc(4),E.Sb(),E.Sb()}if(2&t){var n=e.$implicit;E.Cb(4),E.Gc(n.descripcion)}}var N,H=function(){return{standalone:!0}},B=((N=function(){function e(a){var n=this;t(this,e),this.formaPagoSrvc=a,this.getFormaPagoEv=new E.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadFormasPago=function(){n.formaPagoSrvc.buscar().subscribe(function(t){t&&t.length>0&&(n.lstFormasPago=t,n.applyFilter())})},this.getFormaPago=function(t){n.getFormaPagoEv.emit(t)},this.pageChange=function(t){n.pageSize=t.pageSize,n.pageIndex=t.pageIndex,n.applyFilter()}}return a(e,[{key:"ngOnInit",value:function(){this.loadFormasPago()}},{key:"applyFilter",value:function(){if(this.txtFiltro.length>0){var t=Object(P.b)(this.lstFormasPago,this.txtFiltro);this.length=t.length,this.lstFormasPagoPaged=Object(P.d)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstFormasPago.length,this.lstFormasPagoPaged=Object(P.d)(this.lstFormasPago,this.pageSize,this.pageIndex+1)}}]),e}()).\u0275fac=function(t){return new(t||N)(E.Nb(j.a))},N.\u0275cmp=E.Hb({type:N,selectors:[["app-lista-forma-pago"]],outputs:{getFormaPagoEv:"getFormaPagoEv"},decls:7,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","placeholder","Buscar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(t,e){1&t&&(E.Tb(0,"mat-card",0),E.Tb(1,"mat-card-content"),E.Tb(2,"mat-form-field",1),E.Tb(3,"input",2),E.bc("keyup",function(){return e.applyFilter()})("ngModelChange",function(t){return e.txtFiltro=t}),E.Sb(),E.Sb(),E.Tb(4,"mat-nav-list"),E.Dc(5,U,5,1,"mat-list-item",3),E.Sb(),E.Tb(6,"mat-paginator",4),E.bc("page",function(t){return e.pageChange(t)}),E.Sb(),E.Sb(),E.Sb()),2&t&&(E.Cb(3),E.lc("ngModel",e.txtFiltro)("ngModelOptions",E.nc(6,H)),E.Cb(2),E.lc("ngForOf",e.lstFormasPagoPaged),E.Cb(1),E.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[p.a,p.c,d.b,b.b,o.c,o.k,o.n,s.e,i.l,x.a,s.c,f.a,s.b,z.j],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),N),R=r("FY0D");function L(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",11),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().formaPago.descripcion=t}),E.Sb()}if(2&t){var n=E.fc();E.lc("matKeyboard",n.keyboardLayout)("ngModel",n.formaPago.descripcion)}}function K(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",12),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().formaPago.descripcion=t}),E.Sb()}if(2&t){var n=E.fc();E.lc("ngModel",n.formaPago.descripcion)}}function V(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",13),E.bc("click",function(){return E.xc(a),E.fc().resetFormaPago()}),E.Fc(1," Nueva "),E.Sb()}}var W,q,G=((W=function(){function e(a,n,r){var i=this;t(this,e),this.snackBar=a,this.formaPagoSrvc=n,this.ls=r,this.formaPagoSavedEv=new E.o,this.keyboardLayout=P.a.IDIOMA_TECLADO,this.esMovil=!1,this.resetFormaPago=function(){return i.formaPago={forma_pago:null,descripcion:null,activo:1}},this.onSubmit=function(){i.formaPagoSrvc.save(i.formaPago).subscribe(function(t){t.exito&&(i.formaPagoSavedEv.emit(),i.resetFormaPago(),i.snackBar.open("Forma de pago agregada...","Forma de pago",{duration:3e3}))})}}return a(e,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(P.a.usrTokenVar).enmovil||!1}}]),e}()).\u0275fac=function(t){return new(t||W)(E.Nb(_.b),E.Nb(j.a),E.Nb(R.a))},W.\u0275cmp=E.Hb({type:W,selectors:[["app-form-forma-pago"]],inputs:{formaPago:"formaPago"},outputs:{formaPagoSavedEv:"formaPagoSavedEv"},decls:18,vars:6,consts:[[1,"mat-elevation-z4","fullWidth"],["novalidate","",3,"ngSubmit"],["frmFormaPago","ngForm"],[1,"form-group"],[1,"fullWidth"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"matKeyboard","ngModel","ngModelChange",4,"ngIf"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"ngModel","ngModelChange",4,"ngIf"],["name","activo",1,"fullWidth",3,"ngModel","ngModelChange"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"matKeyboard","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",3,"click"]],template:function(t,e){if(1&t){var a=E.Ub();E.Tb(0,"mat-card",0),E.Tb(1,"mat-card-title"),E.Tb(2,"h4"),E.Fc(3),E.Sb(),E.Sb(),E.Tb(4,"mat-card-content"),E.Tb(5,"form",1,2),E.bc("ngSubmit",function(){return E.xc(a),E.tc(6).form.valid&&e.onSubmit()}),E.Tb(7,"div",3),E.Tb(8,"mat-form-field",4),E.Dc(9,L,1,2,"input",5),E.Dc(10,K,1,1,"input",6),E.Sb(),E.Sb(),E.Tb(11,"div",3),E.Tb(12,"mat-checkbox",7),E.bc("ngModelChange",function(t){return+(e.formaPago.activo=t)}),E.Fc(13,"Activo"),E.Sb(),E.Sb(),E.Tb(14,"div",8),E.Tb(15,"button",9),E.Fc(16," Guardar "),E.Sb(),E.Dc(17,V,2,0,"button",10),E.Sb(),E.Sb(),E.Sb(),E.Sb()}if(2&t){var n=E.tc(6);E.Cb(3),E.Hc(" Forma de pago ",e.formaPago.forma_pago?e.formaPago.descripcion:""," "),E.Cb(6),E.lc("ngIf",!e.esMovil),E.Cb(1),E.lc("ngIf",e.esMovil),E.Cb(2),E.lc("ngModel",+e.formaPago.activo),E.Cb(3),E.lc("disabled",!n.form.valid),E.Cb(2),E.lc("ngIf",e.formaPago.forma_pago)}},directives:[p.a,p.h,p.c,o.r,o.l,o.m,d.b,i.m,F.a,o.k,o.n,S.a,b.b,I.a,o.c,o.p],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),W),J=["lstFormaPago"],$=((q=function(){function e(){var a=this;t(this,e),this.setFormaPago=function(t){return a.formaPago=t},this.refreshFormaPagoList=function(){return a.lstFormaPagoComponent.loadFormasPago()},this.formaPago={forma_pago:null,descripcion:null,activo:1}}return a(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||q)},q.\u0275cmp=E.Hb({type:q,selectors:[["app-forma-pago"]],viewQuery:function(t,e){var a;1&t&&E.Kc(J,1),2&t&&E.sc(a=E.cc())&&(e.lstFormaPagoComponent=a.first)},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getFormaPagoEv"],["lstFormaPago",""],[1,"col","m7","s12"],[3,"formaPago","formaPagoSavedEv"],["frmIngreso",""]],template:function(t,e){1&t&&(E.Tb(0,"div",0),E.Tb(1,"div",1),E.Tb(2,"app-lista-forma-pago",2,3),E.bc("getFormaPagoEv",function(t){return e.setFormaPago(t)}),E.Sb(),E.Sb(),E.Tb(4,"div",4),E.Tb(5,"app-form-forma-pago",5,6),E.bc("formaPagoSavedEv",function(){return e.refreshFormaPagoList()}),E.Sb(),E.Sb(),E.Sb()),2&t&&(E.Cb(5),E.lc("formaPago",e.formaPago))},directives:[B,G],styles:[""]}),q),X=r("wd/R"),Q=r("KFbY"),Z=function(){return{standalone:!0}};function Y(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",10),E.bc("input",function(){return E.xc(a),E.fc().applyFilter()})("ngModelChange",function(t){return E.xc(a),E.fc().txtFiltro=t}),E.Sb()}if(2&t){var n=E.fc();E.lc("matKeyboard",n.keyboardLayout)("ngModel",n.txtFiltro)("ngModelOptions",E.nc(3,Z))}}function tt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",11),E.bc("keyup",function(){return E.xc(a),E.fc().applyFilter()})("ngModelChange",function(t){return E.xc(a),E.fc().txtFiltro=t}),E.Sb()}if(2&t){var n=E.fc();E.lc("ngModel",n.txtFiltro)("ngModelOptions",E.nc(2,Z))}}function et(t,e){if(1&t){var a=E.Ub();E.Tb(0,"mat-list-item",12),E.bc("click",function(){E.xc(a);var t=e.$implicit;return E.fc().getFactura(t)}),E.Tb(1,"mat-icon",13),E.Fc(2,"receipt"),E.Sb(),E.Tb(3,"h5",14),E.Fc(4),E.Sb(),E.Tb(5,"span",14),E.Fc(6),E.gc(7,"date"),E.Sb(),E.Tb(8,"span",14),E.Fc(9),E.Sb(),E.Tb(10,"span",14),E.Fc(11),E.Sb(),E.Sb()}if(2&t){var n=e.$implicit;E.Cb(4),E.Ic("",n.serie_factura,"\xa0",n.numero_factura,""),E.Cb(2),E.Hc("Fecha: ",E.ic(7,5,n.fecha_factura,"dd/MM/yyyy"),""),E.Cb(3),E.Hc("Cliente: ",n.cliente.nombre,""),E.Cb(2),E.Hc("NIT: ",n.cliente.nit,"")}}var at,nt,rt,it=((at=function(){function e(a,n){var r=this;t(this,e),this.facturaSrvc=a,this.ls=n,this.esMovil=!1,this.keyboardLayout=P.a.IDIOMA_TECLADO,this.getFacturaEv=new E.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.verTodas=!1,this.rango={fdel:null,fal:null},this.loadFacturas=function(){var t={};r.verTodas&&(t._todas=!0),X(r.rango.fdel).isValid()&&(t._fdel=r.rango.fdel),X(r.rango.fal).isValid()&&(t._fal=r.rango.fal),r.facturaSrvc.get(t).subscribe(function(t){t&&(r.lstFacturas=t.length>0?t:[],r.applyFilter())})},this.cargarFacturas=function(t){return r.loadFacturas()},this.getFactura=function(t){r.getFacturaEv.emit(t)},this.pageChange=function(t){r.pageSize=t.pageSize,r.pageIndex=t.pageIndex,r.applyFilter()}}return a(e,[{key:"ngOnInit",value:function(){this.esMovil=this.ls.get(P.a.usrTokenVar).enmovil||!1,this.rango.fdel=X().startOf("month").format(P.a.dbDateFormat),this.rango.fal=X().endOf("month").format(P.a.dbDateFormat),this.loadFacturas()}},{key:"applyFilter",value:function(){if(this.txtFiltro.length>0){var t=Object(P.b)(this.lstFacturas,this.txtFiltro);this.length=t.length,this.lstFacturasPaged=Object(P.d)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstFacturas.length,this.lstFacturasPaged=Object(P.d)(this.lstFacturas,this.pageSize,this.pageIndex+1)}}]),e}()).\u0275fac=function(t){return new(t||at)(E.Nb(Q.a),E.Nb(R.a))},at.\u0275cmp=E.Hb({type:at,selectors:[["app-lista-factura-manual"]],outputs:{getFacturaEv:"getFacturaEv"},decls:16,vars:15,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","type","date","placeholder","Del",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","date","placeholder","Al",3,"ngModel","ngModelOptions","ngModelChange"],["name","pedirdocumento",1,"btnAccion",3,"ngModel","ngModelOptions","ngModelChange","change"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","placeholder","Filtrar...",3,"matKeyboard","ngModel","ngModelOptions","input","ngModelChange",4,"ngIf"],["matInput","","placeholder","Filtrar...",3,"ngModel","ngModelOptions","keyup","ngModelChange",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["matInput","","placeholder","Filtrar...",3,"matKeyboard","ngModel","ngModelOptions","input","ngModelChange"],["matInput","","placeholder","Filtrar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(t,e){1&t&&(E.Tb(0,"mat-card",0),E.Tb(1,"mat-card-content"),E.Tb(2,"mat-form-field",1),E.Tb(3,"input",2),E.bc("ngModelChange",function(t){return e.rango.fdel=t}),E.Sb(),E.Sb(),E.Tb(4,"mat-form-field",1),E.Tb(5,"input",3),E.bc("ngModelChange",function(t){return e.rango.fal=t}),E.Sb(),E.Sb(),E.Tb(6,"mat-checkbox",4),E.bc("ngModelChange",function(t){return e.verTodas=t})("change",function(t){return e.cargarFacturas(t)}),E.Fc(7,"Todas"),E.Sb(),E.Tb(8,"button",5),E.bc("click",function(){return e.loadFacturas()}),E.Fc(9," Buscar "),E.Sb(),E.Tb(10,"mat-form-field",1),E.Dc(11,Y,1,4,"input",6),E.Dc(12,tt,1,3,"input",7),E.Sb(),E.Tb(13,"mat-nav-list"),E.Dc(14,et,12,8,"mat-list-item",8),E.Sb(),E.Tb(15,"mat-paginator",9),E.bc("page",function(t){return e.pageChange(t)}),E.Sb(),E.Sb(),E.Sb()),2&t&&(E.Cb(3),E.lc("ngModel",e.rango.fdel)("ngModelOptions",E.nc(12,Z)),E.Cb(2),E.lc("ngModel",e.rango.fal)("ngModelOptions",E.nc(13,Z)),E.Cb(1),E.lc("ngModel",e.verTodas)("ngModelOptions",E.nc(14,Z)),E.Cb(5),E.lc("ngIf",!e.esMovil),E.Cb(1),E.lc("ngIf",e.esMovil),E.Cb(2),E.lc("ngForOf",e.lstFacturasPaged),E.Cb(1),E.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[p.a,p.c,d.b,b.b,o.c,o.k,o.n,F.a,S.a,i.m,s.e,i.l,x.a,I.a,s.c,f.a,s.b,z.j],pipes:[i.e],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),at),ct=r("IJgu"),ot=r("52Kp"),ut=r("R5jZ"),lt=r("un/a"),st=r("JIr8"),ft=r("Qyje"),dt=((nt=function(){function e(a){t(this,e),this.http=a,this.srvcErrHndl=new ut.a}return a(e,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(P.a.urlCatalogos,"/get_factura_serie?").concat(ft.stringify(t))).pipe(Object(lt.a)(P.a.reintentos),Object(st.a)(this.srvcErrHndl.errorHandler))}}]),e}()).\u0275fac=function(t){return new(t||nt)(E.Xb(c.b))},nt.\u0275prov=E.Jb({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt),bt=r("M8s9"),pt=((rt=function(){function e(a){t(this,e),this.http=a,this.srvcErrHndl=new ut.a}return a(e,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(P.a.urlCatalogos,"/get_moneda?").concat(ft.stringify(t))).pipe(Object(lt.a)(P.a.reintentos),Object(st.a)(this.srvcErrHndl.errorHandler))}}]),e}()).\u0275fac=function(t){return new(t||rt)(E.Xb(c.b))},rt.\u0275prov=E.Jb({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt),mt=r("NGYs"),ht=r("X/K6"),gt=r("7JkF"),vt=r("qXgu"),Ft=r("qMXL");function St(t,e){1&t&&(E.Tb(0,"h4",6),E.Fc(1,"*** ANULADA ***"),E.Sb())}function _t(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",7),E.bc("click",function(){return E.xc(a),E.fc().showForm=!0}),E.Tb(1,"mat-icon",8),E.Fc(2,"expand_more"),E.Sb(),E.Sb()}}function yt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",7),E.bc("click",function(){return E.xc(a),E.fc().showForm=!1}),E.Tb(1,"mat-icon",8),E.Fc(2,"expand_less"),E.Sb(),E.Sb()}}function Ct(t,e){if(1&t&&(E.Tb(0,"mat-option",28),E.Fc(1),E.Sb()),2&t){var a=e.$implicit;E.lc("value",a.factura_serie),E.Cb(1),E.Ic(" ",a.serie," (",a.tipo,") ")}}function Tt(t,e){if(1&t&&(E.Tb(0,"mat-option",28),E.Fc(1),E.Sb()),2&t){var a=e.$implicit;E.lc("value",a),E.Cb(1),E.Ic(" ",a.nombre," (",a.nit,") ")}}function xt(t,e){if(1&t&&(E.Tb(0,"mat-option",28),E.Fc(1),E.Sb()),2&t){var a=e.$implicit;E.lc("value",a.moneda),E.Cb(1),E.Ic(" ",a.nombre," (",a.simbolo,") ")}}function Mt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",29),E.bc("ngModelChange",function(t){return E.xc(a),E.fc(2).factura.notas=t}),E.Sb()}if(2&t){var n=E.fc(2);E.lc("matKeyboard",n.keyboardLayout)("ngModel",n.factura.notas)}}function kt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"input",30),E.bc("ngModelChange",function(t){return E.xc(a),E.fc(2).factura.notas=t}),E.Sb()}if(2&t){var n=E.fc(2);E.lc("ngModel",n.factura.notas)}}function Dt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",31),E.bc("click",function(){return E.xc(a),E.fc(2).refacturar()}),E.Fc(1," Refacturar "),E.Sb()}}function It(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",32),E.bc("click",function(){return E.xc(a),E.fc(2).resetFactura()}),E.Fc(1," Nueva "),E.Sb()}}var Ot=function(){return{standalone:!0}};function wt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"form",9,10),E.bc("ngSubmit",function(){E.xc(a);var t=E.tc(1),e=E.fc();return t.form.valid&&e.onSubmit()}),E.Tb(2,"div",11),E.Tb(3,"mat-form-field",12),E.Tb(4,"mat-label"),E.Fc(5,"Serie"),E.Sb(),E.Tb(6,"mat-select",13),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().factura.factura_serie=t}),E.Dc(7,Ct,2,3,"mat-option",14),E.Sb(),E.Sb(),E.Sb(),E.Tb(8,"div",11),E.Tb(9,"mat-form-field",12),E.Tb(10,"mat-label"),E.Fc(11,"Cliente"),E.Sb(),E.Tb(12,"input",15),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().clienteSelected=t})("keyup",function(){E.xc(a);var t=E.fc();return t.filtrar(t.clienteSelected)}),E.Sb(),E.Tb(13,"mat-autocomplete",16,17),E.Dc(15,Tt,2,3,"mat-option",14),E.Sb(),E.Sb(),E.Sb(),E.Tb(16,"div",11),E.Tb(17,"mat-form-field",12),E.Tb(18,"input",18),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().factura.fecha_factura=t}),E.Sb(),E.Sb(),E.Sb(),E.Tb(19,"div",11),E.Tb(20,"mat-form-field",12),E.Tb(21,"mat-label"),E.Fc(22,"Moneda"),E.Sb(),E.Tb(23,"mat-select",19),E.bc("ngModelChange",function(t){return E.xc(a),E.fc().factura.moneda=t}),E.Dc(24,xt,2,3,"mat-option",14),E.Sb(),E.Sb(),E.Sb(),E.Tb(25,"div",11),E.Tb(26,"mat-checkbox",20),E.bc("ngModelChange",function(t){return E.xc(a),+(E.fc().factura.exenta=t)}),E.Fc(27,"Exenta"),E.Sb(),E.Sb(),E.Tb(28,"div",11),E.Tb(29,"mat-form-field",12),E.Dc(30,Mt,1,2,"input",21),E.Dc(31,kt,1,1,"input",22),E.Sb(),E.Sb(),E.Tb(32,"div",23),E.Tb(33,"button",24),E.Fc(34," Guardar "),E.Sb(),E.Tb(35,"button",25),E.bc("click",function(){return E.xc(a),E.fc().firmarFactura()}),E.Fc(36," Firmar "),E.Sb(),E.Tb(37,"button",25),E.bc("click",function(){return E.xc(a),E.fc().imprimirFactura()}),E.Fc(38," Imprimir "),E.Sb(),E.Tb(39,"button",25),E.bc("click",function(){return E.xc(a),E.fc().representacionGrafica()}),E.Fc(40," PDF "),E.Sb(),E.Tb(41,"button",25),E.bc("click",function(){return E.xc(a),E.fc().anularFactura()}),E.Fc(42," Anular "),E.Sb(),E.Dc(43,Dt,2,0,"button",26),E.Dc(44,It,2,0,"button",27),E.Sb(),E.Sb()}if(2&t){var n=E.tc(1),r=E.tc(14),i=E.fc();E.Cb(6),E.lc("ngModel",i.factura.factura_serie),E.Cb(1),E.lc("ngForOf",i.facturaSeries),E.Cb(5),E.lc("ngModel",i.clienteSelected)("ngModelOptions",E.nc(20,Ot))("matAutocomplete",r),E.Cb(1),E.lc("displayWith",i.displayCliente),E.Cb(2),E.lc("ngForOf",i.filteredClientes),E.Cb(3),E.lc("ngModel",i.factura.fecha_factura),E.Cb(5),E.lc("ngModel",i.factura.moneda),E.Cb(1),E.lc("ngForOf",i.monedas),E.Cb(2),E.lc("ngModel",+i.factura.exenta),E.Cb(4),E.lc("ngIf",!i.esMovil),E.Cb(1),E.lc("ngIf",i.esMovil),E.Cb(2),E.lc("disabled",!(n.form.valid&&!i.factura.fel_uuid&&!i.factura.fel_uuid_anulacion&&i.factura.cliente)),E.Cb(2),E.lc("disabled",!n.form.valid||!!i.factura.fel_uuid||!!i.factura.fel_uuid_anulacion||0===i.detallesFactura.length||i.refacturacion),E.Cb(2),E.lc("disabled",!n.form.valid||null==i.factura.fel_uuid||null==i.factura.fel_uuid||!!i.factura.fel_uuid_anulacion||0===i.detallesFactura.length||i.refacturacion),E.Cb(2),E.lc("disabled",!n.form.valid||null==i.factura.fel_uuid||null==i.factura.fel_uuid||0===i.detallesFactura.length||i.refacturacion),E.Cb(2),E.lc("disabled",!n.form.valid||null==i.factura.fel_uuid||null==i.factura.fel_uuid||!!i.factura.fel_uuid_anulacion||0===i.detallesFactura.length),E.Cb(2),E.lc("ngIf",!!i.factura.fel_uuid_anulacion),E.Cb(1),E.lc("ngIf",i.factura.factura)}}function At(t,e){1&t&&E.Ob(0,"hr")}function Et(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",7),E.bc("click",function(){return E.xc(a),E.fc(2).showFormDetalle=!0}),E.Tb(1,"mat-icon",8),E.Fc(2,"expand_more"),E.Sb(),E.Sb()}}function Pt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",7),E.bc("click",function(){return E.xc(a),E.fc(2).showFormDetalle=!1}),E.Tb(1,"mat-icon",8),E.Fc(2,"expand_less"),E.Sb(),E.Sb()}}function jt(t,e){if(1&t&&(E.Tb(0,"mat-option",28),E.Fc(1),E.Sb()),2&t){var a=e.$implicit;E.lc("value",a),E.Cb(1),E.Hc(" ",a.descripcion," ")}}function zt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"button",32),E.bc("click",function(){return E.xc(a),E.fc(3).resetDetalleFactura()}),E.Fc(1," Nuevo "),E.Sb()}}function Ut(t,e){if(1&t){var a=E.Ub();E.Tb(0,"form",9,34),E.bc("ngSubmit",function(){E.xc(a);var t=E.tc(1),e=E.fc(2);return t.form.valid&&e.onSubmitDetail()}),E.Tb(2,"div",11),E.Tb(3,"mat-form-field",12),E.Tb(4,"mat-label"),E.Fc(5,"Art\xedculo"),E.Sb(),E.Tb(6,"input",35),E.bc("ngModelChange",function(t){return E.xc(a),E.fc(2).txtArticuloSelected=t})("keyup",function(){E.xc(a);var t=E.fc(2);return t.filtrarArticulos(t.txtArticuloSelected)}),E.Sb(),E.Tb(7,"mat-autocomplete",36,37),E.bc("optionSelected",function(t){return E.xc(a),E.fc(2).setPrecioUnitario(t)}),E.Dc(9,jt,2,2,"mat-option",14),E.Sb(),E.Sb(),E.Sb(),E.Tb(10,"div",11),E.Tb(11,"mat-form-field",12),E.Tb(12,"input",38),E.bc("ngModelChange",function(t){return E.xc(a),E.fc(2).detalleFactura.cantidad=t})("change",function(){E.xc(a);var t=E.fc(2);return t.detalleFactura.total=+t.detalleFactura.precio_unitario*+t.detalleFactura.cantidad}),E.Sb(),E.Sb(),E.Sb(),E.Tb(13,"div",11),E.Tb(14,"mat-form-field",12),E.Tb(15,"input",39),E.bc("ngModelChange",function(t){return E.xc(a),E.fc(2).detalleFactura.precio_unitario=t})("change",function(){E.xc(a);var t=E.fc(2);return t.detalleFactura.total=+t.detalleFactura.precio_unitario*+t.detalleFactura.cantidad}),E.Sb(),E.Sb(),E.Sb(),E.Tb(16,"div",23),E.Tb(17,"button",24),E.Fc(18," Guardar "),E.Sb(),E.Dc(19,zt,2,0,"button",27),E.Sb(),E.Sb()}if(2&t){var n=E.tc(1),r=E.tc(8),i=E.fc(2);E.Cb(6),E.lc("ngModel",i.txtArticuloSelected)("ngModelOptions",E.nc(9,Ot))("matAutocomplete",r),E.Cb(1),E.lc("displayWith",i.displayArticulo),E.Cb(2),E.lc("ngForOf",i.filteredArticulos),E.Cb(3),E.lc("ngModel",i.detalleFactura.cantidad),E.Cb(3),E.lc("ngModel",i.detalleFactura.precio_unitario),E.Cb(2),E.lc("disabled",!n.form.valid||!!i.factura.fel_uuid||!!i.factura.fel_uuid_anulacion),E.Cb(2),E.lc("ngIf",i.detalleFactura.detalle_factura)}}function Nt(t,e){1&t&&E.Ob(0,"hr")}function Ht(t,e){1&t&&(E.Tb(0,"th",52),E.Fc(1,"Art\xedculo"),E.Sb())}function Bt(t,e){if(1&t&&(E.Tb(0,"td",53),E.Fc(1),E.Sb()),2&t){var a=e.$implicit;E.Cb(1),E.Gc(a.articulo.descripcion)}}function Rt(t,e){1&t&&(E.Tb(0,"th",54),E.Fc(1,"Cantidad"),E.Sb())}function Lt(t,e){if(1&t&&(E.Tb(0,"td",55),E.Fc(1),E.gc(2,"number"),E.Sb()),2&t){var a=e.$implicit;E.Cb(1),E.Gc(E.ic(2,1,a.cantidad,"1.2-2"))}}function Kt(t,e){1&t&&(E.Tb(0,"th",54),E.Fc(1,"Precio Unitario"),E.Sb())}function Vt(t,e){if(1&t&&(E.Tb(0,"td",55),E.Fc(1),E.gc(2,"number"),E.Sb()),2&t){var a=e.$implicit;E.Cb(1),E.Hc("",E.ic(2,1,a.precio_unitario,"1.2-2")," ")}}function Wt(t,e){1&t&&(E.Tb(0,"th",54),E.Fc(1,"Total"),E.Sb())}function qt(t,e){if(1&t&&(E.Tb(0,"td",55),E.Fc(1),E.gc(2,"number"),E.Sb()),2&t){var a=e.$implicit;E.Cb(1),E.Gc(E.ic(2,1,a.total,"1.2-2"))}}function Gt(t,e){1&t&&(E.Tb(0,"th",52),E.Fc(1,"\xa0"),E.Sb())}function Jt(t,e){if(1&t){var a=E.Ub();E.Tb(0,"td",53),E.Tb(1,"button",56),E.bc("click",function(){E.xc(a);var t=e.$implicit;return E.fc(3).getDetalleFactura(t.factura,t.detalle_factura)}),E.Fc(2," Editar "),E.Sb(),E.Sb()}if(2&t){var n=E.fc(3);E.Cb(1),E.lc("disabled",!!n.factura.fel_uuid||!!n.factura.fel_uuid_anulacion||n.refacturacion)}}function $t(t,e){1&t&&E.Ob(0,"tr",57)}function Xt(t,e){1&t&&E.Ob(0,"tr",58)}function Qt(t,e){if(1&t&&(E.Tb(0,"table",40),E.Rb(1,41),E.Dc(2,Ht,2,0,"th",42),E.Dc(3,Bt,2,1,"td",43),E.Qb(),E.Rb(4,44),E.Dc(5,Rt,2,0,"th",45),E.Dc(6,Lt,3,4,"td",46),E.Qb(),E.Rb(7,47),E.Dc(8,Kt,2,0,"th",45),E.Dc(9,Vt,3,4,"td",46),E.Qb(),E.Rb(10,48),E.Dc(11,Wt,2,0,"th",45),E.Dc(12,qt,3,4,"td",46),E.Qb(),E.Rb(13,49),E.Dc(14,Gt,2,0,"th",42),E.Dc(15,Jt,3,1,"td",43),E.Qb(),E.Dc(16,$t,1,0,"tr",50),E.Dc(17,Xt,1,0,"tr",51),E.Sb()),2&t){var a=E.fc(2);E.lc("dataSource",a.dataSource),E.Cb(16),E.lc("matHeaderRowDef",a.displayedColumns),E.Cb(1),E.lc("matRowDefColumns",a.displayedColumns)}}function Zt(t,e){if(1&t&&(E.Tb(0,"mat-card",0),E.Tb(1,"mat-card-title"),E.Tb(2,"h4"),E.Fc(3),E.Dc(4,Et,3,0,"button",2),E.Dc(5,Pt,3,0,"button",2),E.Sb(),E.Sb(),E.Tb(6,"mat-card-content"),E.Dc(7,Ut,20,10,"form",3),E.Dc(8,Nt,1,0,"hr",4),E.Dc(9,Qt,18,3,"table",33),E.Sb(),E.Sb()),2&t){var a=E.fc();E.Cb(3),E.Hc(" Detalle de factura No. ",a.factura.serie_factura?a.factura.serie_factura+" "+a.factura.numero_factura:"Pendiente de firmar."," "),E.Cb(1),E.lc("ngIf",!a.showFormDetalle),E.Cb(1),E.lc("ngIf",a.showFormDetalle),E.Cb(2),E.lc("ngIf",a.showFormDetalle),E.Cb(1),E.lc("ngIf",a.detallesFactura.length>0),E.Cb(1),E.lc("ngIf",a.detallesFactura.length>0)}}var Yt,te,ee,ae,ne=((Yt=function(){function e(a,n,r,i,c,o,u,l,s,f,d,b){var p=this;t(this,e),this.snackBar=a,this.dialog=n,this.facturaSrvc=r,this.facturaSerieSrvc=i,this.clienteSrvc=c,this.monedaSrvc=o,this.articuloSrvc=u,this.anulacionSrvc=l,this.socket=s,this.ls=f,this.configSrvc=d,this.impresoraSrvc=b,this.facturaSavedEv=new E.o,this.showForm=!0,this.showFormDetalle=!0,this.facturaSeries=[],this.clientes=[],this.filteredClientes=[],this.monedas=[],this.detallesFactura=[],this.articulos=[],this.filteredArticulos=[],this.displayedColumns=["articulo","cantidad","precio_unitario","total","editItem"],this.keyboardLayout=P.a.IDIOMA_TECLADO,this.esMovil=!1,this.refacturacion=!1,this.txtArticuloSelected=void 0,this.clienteSelected=void 0,this.razonAnulacion=[],this.impresoraPorDefecto=null,this.getRazonAnulacion=function(){p.anulacionSrvc.get().subscribe(function(t){p.razonAnulacion=t})},this.filtrar=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase();p.filteredClientes=p.clientes.filter(function(t){return t.nombre.toLowerCase().includes(e)||t.nit.toLowerCase().includes(e)})}else p.filteredClientes=p.clientes},this.loadImpresoraDefecto=function(){var t=+p.configSrvc.getConfig(P.a.CONSTANTES.RT_IMPRESORA_DEFECTO)||0;t>0&&p.impresoraSrvc.get({impresora:t}).subscribe(function(t){p.impresoraPorDefecto=t&&t.length>0?t[0]:null})},this.loadFacturaSeries=function(){p.facturaSerieSrvc.get().subscribe(function(t){t&&(p.facturaSeries=t)})},this.loadClientes=function(){p.clienteSrvc.get().subscribe(function(t){t&&(p.clientes=t,p.filteredClientes=p.clientes)})},this.loadMonedas=function(){p.monedaSrvc.get().subscribe(function(t){t&&(p.monedas=t)})},this.refacturar=function(){p.factura={factura:p.factura.factura,factura_serie:null,cliente:null,fecha_factura:X().format(P.a.dbDateFormat),moneda:null,exenta:0,notas:null,fel_uuid:null,fel_uuid_anulacion:null},p.refacturacion=!0},this.resetFactura=function(){p.factura={factura:null,factura_serie:null,cliente:null,fecha_factura:X().format(P.a.dbDateFormat),moneda:null,exenta:0,notas:null,fel_uuid:null,fel_uuid_anulacion:null},p.clienteSelected=void 0,p.resetDetalleFactura(),p.detallesFactura=[]},this.displayCliente=function(t){if(t)return p.factura.cliente=t.cliente,t.nombre},this.onSubmit=function(){p.refacturacion?p.facturaSrvc.refacturar(p.factura).subscribe(function(t){t.exito&&(p.facturaSavedEv.emit(),p.resetFactura(),p.refacturacion=!1,p.factura={factura:t.factura.factura,factura_serie:t.factura.factura_serie,cliente:t.factura.cliente,fecha_factura:t.factura.fecha_factura,moneda:t.factura.moneda,exenta:+t.factura.exenta,notas:t.factura.notas,fel_uuid:t.factura.fel_uuid},p.snackBar.open("Factura manual agregada...","Factura",{duration:3e3}))}):p.facturaSrvc.save(p.factura).subscribe(function(t){t.exito&&(p.facturaSavedEv.emit(),p.resetFactura(),p.factura={factura:t.factura.factura,factura_serie:t.factura.factura_serie,cliente:t.factura.cliente,fecha_factura:t.factura.fecha_factura,moneda:t.factura.moneda,exenta:+t.factura.exenta,notas:t.factura.notas,fel_uuid:t.factura.fel_uuid},p.snackBar.open("Factura manual agregada...","Factura",{duration:3e3}))})},this.firmarFactura=function(){p.dialog.open(ct.a,{maxWidth:"400px",data:new ct.b("Firmar factura","Luego de firmar la factura no podr\xe1 hacer ninguna modificaci\xf3n. \xbfDesea continuar?","S\xed","No")}).afterClosed().subscribe(function(t){t&&p.facturaSrvc.firmar(+p.factura.factura).subscribe(function(t){t.exito?(p.factura.numero_factura=t.factura.numero_factura,p.factura.serie_factura=t.factura.serie_factura,p.factura.certificador_fel=t.factura.certificador_fel,p.factura.fel_uuid=t.factura.fel_uuid,p.facturaSavedEv.emit(),p.snackBar.open("Factura firmada con \xe9xito...","Firmar",{duration:3e3})):p.snackBar.open("ERROR: ".concat(t.mensaje),"Firmar",{duration:3e3})})})},this.procesaDetalleFactura=function(t){var e=[];return t.forEach(function(t){return e.push({Cantidad:+t.cantidad,Descripcion:t.articulo.descripcion,Total:+t.total,PrecioUnitario:+t.precio_unitario})}),e},this.getTotalDetalle=function(t){var e=0;return t.forEach(function(t){return e+=+t.total}),e},this.getTotalImpuestosAdicionales=function(t){var e=0;return t.forEach(function(t){return e+=+t.total}),e},this.imprimirFactura=function(){p.facturaSrvc.imprimir(+p.factura.factura).subscribe(function(t){if(t.factura){var e={NombreEmpresa:t.factura.empresa.nombre,NitEmpresa:t.factura.empresa.nit,SedeEmpresa:t.factura.sedeFactura.nombre,DireccionEmpresa:t.factura.empresa.direccion,Fecha:X(t.factura.fecha_factura).format(P.a.dateFormat),Nit:t.factura.receptor.nit,Nombre:t.factura.receptor.nombre,Direccion:t.factura.receptor.direccion,Serie:t.factura.serie_factura,Numero:t.factura.numero_factura,Total:p.getTotalDetalle(t.factura.detalle)+p.getTotalImpuestosAdicionales(t.factura.impuestos_adicionales||[]),NoAutorizacion:t.factura.fel_uuid,NombreCertificador:t.factura.certificador_fel.nombre,NitCertificador:t.factura.certificador_fel.nit,FechaDeAutorizacion:t.factura.fecha_autorizacion,NoOrdenEnLinea:"",FormaDePago:"",DetalleFactura:p.procesaDetalleFactura(t.factura.detalle),ImpuestosAdicionales:t.factura.impuestos_adicionales||[],Impresora:p.impresoraPorDefecto};p.impresoraPorDefecto?0==+p.impresoraPorDefecto.bluetooth?p.socket.emit("print:factura","".concat(JSON.stringify(e))):p.printToBT(JSON.stringify(e)):(delete e.Impresora,p.socket.emit("print:factura","".concat(JSON.stringify(e)))),p.snackBar.open("Imprimiendo factura ".concat(p.factura.serie_factura,"-").concat(p.factura.numero_factura),"Impresi\xf3n",{duration:3e3})}else p.snackBar.open("ERROR: ".concat(t.mensaje),"Impresi\xf3n",{duration:3e3})})},this.printToBT=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=p.configSrvc.getConfig(P.a.CONSTANTES.RT_ENVIA_COMO_BASE64)?ot.a.encode(t,!0):t,a=P.a.DEEP_LINK_ANDROID.replace("__INFOBASE64__",e);try{window.location.href=a}catch(n){p.snackBar.open("No se pudo conectar con la aplicaci\xf3n de impresi\xf3n","Comanda",{duration:3e3})}},this.anularFactura=function(){p.dialog.open(ct.a,{maxWidth:"400px",data:new ct.b("Anular factura","Luego de anular la factura no podr\xe1 hacer ninguna modificaci\xf3n. \xbfDesea continuar?","S\xed","No",{input:[{select:!0,label:"Motivo",datos:p.razonAnulacion,valor:null,id:"razon_anulacion",descripcion:"descripcion",requerido:!0},{select:!1,label:"Comentario",valor:null,id:"comentario_anulacion",requerido:!1}]})}).afterClosed().subscribe(function(t){if(t.resultado){for(var e={},a=0;a<t.config.input.length;a++){var n=t.config.input[a];e[n.id]=n.valor}p.facturaSrvc.anular(+p.factura.factura,e).subscribe(function(t){t.exito?(p.factura.fel_uuid_anulacion=t.factura.fel_uuid_anulacion,p.facturaSavedEv.emit(),p.snackBar.open("Factura anulada con \xe9xito...","Firmar",{duration:3e3})):p.snackBar.open("ERROR: ".concat(t.mensaje),"Firmar",{duration:1e4})})}})},this.loadArticulos=function(){p.articuloSrvc.getArticulos().subscribe(function(t){t&&(p.articulos=t,p.filteredArticulos=p.articulos)})},this.displayArticulo=function(t){if(t)return p.detalleFactura.articulo=t.articulo,t.descripcion},this.filtrarArticulos=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase();p.filteredArticulos=p.articulos.filter(function(t){return t.descripcion.toLowerCase().includes(e)})}else p.filteredArticulos=p.articulos},this.setPrecioUnitario=function(t){p.detalleFactura.precio_unitario=+t.option.value.precio,p.detalleFactura.total=+p.detalleFactura.precio_unitario*+p.detalleFactura.cantidad},this.resetDetalleFactura=function(){p.detalleFactura={detalle_factura:null,factura:p.factura.factura||0,articulo:null,cantidad:1,precio_unitario:null,total:null},p.txtArticuloSelected=void 0},this.loadDetalleFactura=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+p.factura.factura;p.facturaSrvc.getDetalle(t,{factura:t}).subscribe(function(t){t&&(p.detallesFactura=t,p.updateTableDataSource())})},this.getDetalleFactura=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+p.factura.factura,e=arguments.length>1?arguments[1]:void 0;p.facturaSrvc.getDetalle(t,{detalle_factura:e}).subscribe(function(t){t&&(p.detalleFactura={detalle_factura:t[0].detalle_factura,factura:t[0].factura,articulo:t[0].articulo.articulo,cantidad:+t[0].cantidad,precio_unitario:+t[0].precio_unitario,total:+t[0].total},p.txtArticuloSelected=t[0].articulo,p.showFormDetalle=!0)})},this.onSubmitDetail=function(){p.detalleFactura.factura=p.factura.factura,p.detalleFactura.total=+p.detalleFactura.precio_unitario*+p.detalleFactura.cantidad,p.facturaSrvc.saveDetalle(p.detalleFactura).subscribe(function(t){t&&(p.loadDetalleFactura(),p.resetDetalleFactura())})},this.updateTableDataSource=function(){return p.dataSource=new g.k(p.detallesFactura)},this.representacionGrafica=function(){p.facturaSrvc.getGrafo(p.factura.factura).subscribe(function(t){if(t.exito)switch(t.tipo){case"link":p.openLinkWindow(t.documento);break;case"pdf":p.openPdfDocument(t.documento)}})},this.openLinkWindow=function(t){return window.open(t,"winFactPdf","height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no")},this.openPdfDocument=function(t){window.open("","winFactPdf","height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no").document.write('<iframe width="100%" style="margin: -8px;border: none;" height="100%" src="data:application/pdf;base64, '+encodeURI(t)+'"></iframe>')}}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.esMovil=this.ls.get(P.a.usrTokenVar).enmovil||!1,this.refacturacion=!1,this.resetFactura(),this.loadFacturaSeries(),this.loadClientes(),this.loadMonedas(),this.loadArticulos(),this.getRazonAnulacion(),this.loadImpresoraDefecto(),this.ls.get(P.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(P.a.usrTokenVar).sede_uuid),this.socket.on("reconnect",function(){return t.socket.emit("joinRestaurant",t.ls.get(P.a.usrTokenVar).sede_uuid)}))}}]),e}()).\u0275fac=function(t){return new(t||Yt)(E.Nb(_.b),E.Nb(M.b),E.Nb(Q.a),E.Nb(dt),E.Nb(bt.a),E.Nb(pt),E.Nb(mt.a),E.Nb(ht.a),E.Nb(gt.a),E.Nb(R.a),E.Nb(vt.a),E.Nb(Ft.a))},Yt.\u0275cmp=E.Hb({type:Yt,selectors:[["app-form-factura-manual"]],inputs:{factura:"factura"},outputs:{facturaSavedEv:"facturaSavedEv"},decls:11,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],["style","background-color: lightcoral;",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],[2,"background-color","lightcoral"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmFactura","ngForm"],[1,"form-group"],[1,"fullWidth"],["name","factura_serie","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Cliente","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith"],["auto","matAutocomplete"],["matInput","","type","date","placeholder","Fecha","name","fecha_factura","required","",3,"ngModel","ngModelChange"],["name","moneda","required","",3,"ngModel","ngModelChange"],["name","exenta",1,"fullWidth",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Notas","name","notas",3,"matKeyboard","ngModel","ngModelChange",4,"ngIf"],["matInput","","type","text","placeholder","Notas","name","notas",3,"ngModel","ngModelChange",4,"ngIf"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"disabled","click"],["mat-raised-button","","type","button","color","accent","class","btnAccion",3,"click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],[3,"value"],["matInput","","type","text","placeholder","Notas","name","notas",3,"matKeyboard","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Notas","name","notas",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleFactura","ngForm"],["type","text","placeholder","Art\xedculo","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith","optionSelected"],["autoArticulos","matAutocomplete"],["matInput","","placeholder","Cantidad","name","cantidad","type","number","step","0.01","required","",3,"ngModel","ngModelChange","change"],["matInput","","placeholder","Precio unitario","name","precio_unitario","type","number","step","0.01","required","",3,"ngModel","ngModelChange","change"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","precio_unitario"],["matColumnDef","total"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(E.Tb(0,"mat-card",0),E.Tb(1,"mat-card-title"),E.Dc(2,St,2,0,"h4",1),E.Tb(3,"h4"),E.Fc(4),E.Dc(5,_t,3,0,"button",2),E.Dc(6,yt,3,0,"button",2),E.Sb(),E.Sb(),E.Tb(7,"mat-card-content"),E.Dc(8,wt,45,21,"form",3),E.Sb(),E.Sb(),E.Dc(9,At,1,0,"hr",4),E.Dc(10,Zt,10,6,"mat-card",5)),2&t&&(E.Cb(2),E.lc("ngIf",!!e.factura.fel_uuid_anulacion),E.Cb(2),E.Hc(" Factura ",e.factura.factura?e.factura.serie_factura?e.factura.serie_factura+" "+e.factura.numero_factura:"Pendiente de firmar.":""," "),E.Cb(1),E.lc("ngIf",!e.showForm),E.Cb(1),E.lc("ngIf",e.showForm),E.Cb(2),E.lc("ngIf",e.showForm),E.Cb(1),E.lc("ngIf",e.factura.factura),E.Cb(1),E.lc("ngIf",e.factura.factura))},directives:[p.a,p.h,i.m,p.c,S.a,f.a,o.r,o.l,o.m,d.b,d.f,v.a,o.p,o.k,o.n,i.l,b.b,o.c,D.c,D.a,F.a,z.m,I.a,o.o,g.j,g.c,g.e,g.b,g.g,g.i,g.d,g.a,g.f,g.h],pipes:[i.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),Yt),re=["lstFacturaManual"],ie=["frmFacturaManual"],ce=[{path:"fpago",component:$,canActivate:[A.a]},{path:"factman",component:(te=function(){function e(){var a=this;t(this,e),this.setFactura=function(t){a.factura={factura:t.factura,factura_serie:t.factura_serie.factura_serie,cliente:t.cliente.cliente,fecha_factura:t.fecha_factura,moneda:t.moneda.moneda,exenta:t.exenta,notas:t.notas,usuario:t.usuario.usuario,numero_factura:t.numero_factura,serie_factura:t.serie_factura,fel_uuid:t.fel_uuid,fel_uuid_anulacion:t.fel_uuid_anulacion,certificador_fel:t.certificador_fel},a.frmFactura.clienteSelected=t.cliente,a.frmFactura.loadDetalleFactura(+a.factura.factura),a.frmFactura.resetDetalleFactura()},this.refreshFacturaList=function(){return a.lstFacturaComponent.loadFacturas()},this.factura={factura:null,factura_serie:null,cliente:null,fecha_factura:X().format(P.a.dbDateFormat),moneda:null,exenta:0,notas:null}}return a(e,[{key:"ngOnInit",value:function(){}}]),e}(),te.\u0275fac=function(t){return new(t||te)},te.\u0275cmp=E.Hb({type:te,selectors:[["app-factura-manual"]],viewQuery:function(t,e){var a;1&t&&(E.Kc(re,1),E.Kc(ie,1)),2&t&&(E.sc(a=E.cc())&&(e.lstFacturaComponent=a.first),E.sc(a=E.cc())&&(e.frmFactura=a.first))},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getFacturaEv"],["lstFacturaManual",""],[1,"col","m7","s12"],[3,"factura","facturaSavedEv"],["frmFacturaManual",""]],template:function(t,e){1&t&&(E.Tb(0,"div",0),E.Tb(1,"div",1),E.Tb(2,"app-lista-factura-manual",2,3),E.bc("getFacturaEv",function(t){return e.setFactura(t)}),E.Sb(),E.Sb(),E.Tb(4,"div",4),E.Tb(5,"app-form-factura-manual",5,6),E.bc("facturaSavedEv",function(){return e.refreshFacturaList()}),E.Sb(),E.Sb(),E.Sb()),2&t&&(E.Cb(5),E.lc("factura",e.factura))},directives:[it,ne],styles:[""]}),te),canActivate:[A.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}],oe=((ae=function e(){t(this,e)}).\u0275mod=E.Lb({type:ae}),ae.\u0275inj=E.Kb({factory:function(t){return new(t||ae)},imports:[[w.d.forChild(ce)],w.d]}),ae),ue=((ee=function e(){t(this,e)}).\u0275mod=E.Lb({type:ee}),ee.\u0275inj=E.Kb({factory:function(t){return new(t||ee)},imports:[[i.c,oe,c.c,o.e,I.b,u.a,l.AdminModule,s.d,f.b,d.d,b.c,p.f,m.b,h.c,g.l,v.b,F.b,S.b,_.c,y.b,C.d,T.b,x.b,M.e,k.d,D.b,O.c]]}),ee)}}])}();