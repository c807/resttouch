(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"52Kp":function(e,t,n){"use strict";n.d(t,"a",function(){return P});const o="function"==typeof atob,i="function"==typeof btoa,a="function"==typeof Buffer,s="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,r=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],l=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(r),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,b=String.fromCharCode.bind(String),u="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),p=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),h=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),g=e=>{let t,n,o,i,a="";const s=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255||(i=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|o<<8|i,a+=r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}return s?a.slice(0,s-3)+"===".substring(s):a},m=i?e=>btoa(e):a?e=>Buffer.from(e,"binary").toString("base64"):g,f=a?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,o=e.length;n<o;n+=4096)t.push(b.apply(null,e.subarray(n,n+4096)));return m(t.join(""))},_=(e,t=!1)=>t?p(f(e)):f(e),k=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?b(192|t>>>6)+b(128|63&t):b(224|t>>>12&15)+b(128|t>>>6&63)+b(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return b(240|t>>>18&7)+b(128|t>>>12&63)+b(128|t>>>6&63)+b(128|63&t)},S=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=e=>e.replace(S,k),T=a?e=>Buffer.from(e,"utf8").toString("base64"):c?e=>f(c.encode(e)):e=>m(v(e)),C=(e,t=!1)=>t?p(T(e)):T(e),x=e=>C(e,!0),y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return b(55296+(t>>>10))+b(56320+(1023&t));case 3:return b((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return b((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},O=e=>e.replace(y,w),F=e=>{if(e=e.replace(/\s+/g,""),!d.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,o,i="";for(let a=0;a<e.length;)t=l[e.charAt(a++)]<<18|l[e.charAt(a++)]<<12|(n=l[e.charAt(a++)])<<6|(o=l[e.charAt(a++)]),i+=64===n?b(t>>16&255):64===o?b(t>>16&255,t>>8&255):b(t>>16&255,t>>8&255,255&t);return i},D=o?e=>atob(h(e)):a?e=>Buffer.from(e,"base64").toString("binary"):F,E=a?e=>u(Buffer.from(e,"base64")):e=>u(D(e),e=>e.charCodeAt(0)),A=e=>E(M(e)),R=a?e=>Buffer.from(e,"base64").toString("utf8"):s?e=>s.decode(E(e)):e=>O(D(e)),M=e=>h(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),I=e=>R(M(e)),B=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),N=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,B(t));e("fromBase64",function(){return I(this)}),e("toBase64",function(e){return C(this,e)}),e("toBase64URI",function(){return C(this,!0)}),e("toBase64URL",function(){return C(this,!0)}),e("toUint8Array",function(){return A(this)})},G=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,B(t));e("toBase64",function(e){return _(this,e)}),e("toBase64URI",function(){return _(this,!0)}),e("toBase64URL",function(){return _(this,!0)})},P={version:"3.6.0",VERSION:"3.6.0",atob:D,atobPolyfill:F,btoa:m,btoaPolyfill:g,fromBase64:I,toBase64:C,encode:C,encodeURI:x,encodeURL:x,utob:v,btou:O,decode:I,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:_,toUint8Array:A,extendString:N,extendUint8Array:G,extendBuiltins:()=>{N(),G()}}},JbvS:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return _});var o=n("fXoL"),i=n("bTqV"),a=n("ofXK"),s=n("xgIS"),c=n("cp0P"),r=n("IzEk");function l(e,t){1&e&&o.jc(0,0,["*ngIf","miniFabVisible"])}const d=[[["","mat-mini-fab",""]]],b=["[mat-mini-fab]"],u=[[["eco-fab-speed-dial-trigger"]],[["eco-fab-speed-dial-actions"]]],p=["eco-fab-speed-dial-trigger","eco-fab-speed-dial-actions"],h=[[["","mat-fab",""]]],g=["[mat-fab]"];let m=(()=>{class e{constructor(e,t){this.renderer=t,this.miniFabVisible=!1,this._parent=e.get(f)}ngAfterContentInit(){this._buttons.changes.subscribe(()=>{this.initButtonStates(),this._parent.setActionsVisibility()}),this.initButtonStates()}initButtonStates(){this._buttons.forEach((e,t)=>{this.renderer.addClass(e._getHostElement(),"eco-fab-action-item"),this.changeElementStyle(e._getHostElement(),"z-index",""+(23-t))})}show(){this._buttons&&(this.resetAnimationState(),this.miniFabVisible=!0,this.showMiniFabAnimation=setTimeout(()=>{this._buttons.forEach((e,t)=>{let n,o=0;"scale"===this._parent.animationMode?(o=3+65*t,n="scale(1)"):n=this.getTranslateFunction("0");const i=e._getHostElement();this.changeElementStyle(i,"transition-delay",o+"ms"),this.changeElementStyle(i,"opacity","1"),this.changeElementStyle(i,"transform",n)})},50))}resetAnimationState(){clearTimeout(this.showMiniFabAnimation),this.hideMiniFab&&(this.hideMiniFab.unsubscribe(),this.hideMiniFab=null)}hide(){if(!this._buttons)return;this.resetAnimationState();const e=this._buttons.map((e,t)=>{let n,o="1",i=0;"scale"===this._parent.animationMode?(i=3-65*t,n="scale(0)",o="0"):n=this.getTranslateFunction(55*(t+1)-5*t+"px");const a=e._getHostElement();return this.changeElementStyle(a,"transition-delay",i+"ms"),this.changeElementStyle(a,"opacity",o),this.changeElementStyle(a,"transform",n),Object(s.a)(a,"transitionend").pipe(Object(r.a)(1))});this.hideMiniFab=Object(c.a)(e).subscribe(()=>this.miniFabVisible=!1)}getTranslateFunction(e){const t=this._parent.direction;return("up"===t||"down"===t?"translateY":"translateX")+"("+("down"===t||"right"===t?"-":"")+e+")"}changeElementStyle(e,t,n){this.renderer.setStyle(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.t),o.Nb(o.G))},e.\u0275cmp=o.Hb({type:e,selectors:[["eco-fab-speed-dial-actions"]],contentQueries:function(e,t,n){if(1&e&&o.Gb(n,i.a,0),2&e){let e;o.sc(e=o.cc())&&(t._buttons=e)}},ngContentSelectors:b,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(o.kc(d),o.Dc(0,l,1,0,"ng-content",0)),2&e&&o.lc("ngIf",t.miniFabVisible)},directives:[a.m],encapsulation:2}),e})(),f=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.document=n,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this._fixed=!1,this._documentClickUnlistener=null,this.openChange=new o.o}get fixed(){return this._fixed}set fixed(e){this._fixed=e,this._processOutsideClickState()}get open(){return this._open}set open(e){const t=this._open;this._open=e,t!==this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())}get direction(){return this._direction}set direction(e){const t=this._direction;this._direction=e,t!==this.direction&&(this._setElementClass(t,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())}get animationMode(){return this._animationMode}set animationMode(e){const t=this._animationMode;this._animationMode=e,t!==this._animationMode&&(this._setElementClass(t,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then(()=>this.open=!1))}ngAfterContentInit(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)}ngOnDestroy(){this._unsetDocumentClickListener()}toggle(){this.open=!this.open}_onClick(){!this.fixed&&this.open&&(this.open=!1)}setActionsVisibility(){this._childActions&&(this.open?this._childActions.show():this._childActions.hide(),this._processOutsideClickState())}_setElementClass(e,t){const n=`eco-${e}`;t?this.renderer.addClass(this.elementRef.nativeElement,n):this.renderer.removeClass(this.elementRef.nativeElement,n)}_processOutsideClickState(){!this.fixed&&this.open?this._setDocumentClickListener():this._unsetDocumentClickListener()}_setDocumentClickListener(){this._documentClickUnlistener||(this._documentClickUnlistener=this.renderer.listen(this.document,"click",()=>{this.open=!1}))}_unsetDocumentClickListener(){this._documentClickUnlistener&&(this._documentClickUnlistener(),this._documentClickUnlistener=null)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l),o.Nb(o.G),o.Nb(a.d))},e.\u0275cmp=o.Hb({type:e,selectors:[["eco-fab-speed-dial"]],contentQueries:function(e,t,n){if(1&e&&o.Gb(n,m,1),2&e){let e;o.sc(e=o.cc())&&(t._childActions=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&o.bc("click",function(){return t._onClick()}),2&e&&o.Fb("eco-opened",t.open)},inputs:{fixed:"fixed",open:"open",direction:"direction",animationMode:"animationMode"},outputs:{openChange:"openChange"},ngContentSelectors:p,decls:3,vars:0,consts:[[1,"eco-fab-speed-dial-container"]],template:function(e,t){1&e&&(o.kc(u),o.Tb(0,"div",0),o.jc(1),o.jc(2,1),o.Sb())},styles:["eco-fab-speed-dial{display:inline-block}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180{transform:rotate(180deg)}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transform:rotate(1turn)}eco-fab-speed-dial .eco-fab-speed-dial-container{align-items:center;display:flex;position:relative;z-index:20}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{pointer-events:auto;z-index:24}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180,eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transition:all .6s cubic-bezier(.4,0,.2,1)}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-actions{display:flex;height:0;position:absolute;width:0}eco-fab-speed-dial.eco-fling .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{display:block;opacity:1;transition:all .3s cubic-bezier(.55,0,.55,.2)}eco-fab-speed-dial.eco-scale .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{transform:scale(0);transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}eco-fab-speed-dial.eco-down eco-fab-speed-dial-actions{bottom:2px;left:7px}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column;order:2}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-top:10px}eco-fab-speed-dial.eco-up eco-fab-speed-dial-actions{left:7px;top:2px}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column-reverse;order:1}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-bottom:10px}eco-fab-speed-dial.eco-left eco-fab-speed-dial-actions{left:2px;top:7px}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row-reverse;order:1}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-right:10px}eco-fab-speed-dial.eco-right eco-fab-speed-dial-actions{right:2px;top:7px}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row;order:2}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-left:10px}"],encapsulation:2}),e})(),_=(()=>{class e{constructor(e){this.spin=!1,this._parent=e.get(f)}get sp(){return this.spin}_onClick(e){this._parent.fixed||(this._parent.toggle(),e.stopPropagation())}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.t))},e.\u0275cmp=o.Hb({type:e,selectors:[["eco-fab-speed-dial-trigger"]],hostVars:2,hostBindings:function(e,t){1&e&&o.bc("click",function(e){return t._onClick(e)}),2&e&&o.Fb("eco-spin",t.sp)},inputs:{spin:"spin"},ngContentSelectors:g,decls:1,vars:0,template:function(e,t){1&e&&(o.kc(h),o.jc(0))},encapsulation:2}),e})(),k=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e})()},"xu/a":function(e,t,n){"use strict";n.r(t),n.d(t,"GhostKitchenModule",function(){return Ye});var o=n("ofXK"),i=n("tk/3"),a=n("3Pt+"),s=n("PCNd"),c=n("YUcS"),r=n("jkDv"),l=n("MutI"),d=n("NFeN"),b=n("kmnG"),u=n("qFsG"),p=n("Wp6s"),h=n("f0Cb"),g=n("wZkO"),m=n("+0xr"),f=n("d3UM"),_=n("bSwM"),k=n("bTqV"),S=n("8LU1"),v=n("0EQZ"),T=n("fXoL"),C=n("FKr1"),x=n("u47x");const y=["button"],w=["*"],O=new T.s("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),F=new T.s("MatButtonToggleGroup"),D={provide:a.i,useExisting:Object(T.V)(()=>R),multi:!0};let E=0;class A{constructor(e,t){this.source=e,this.value=t}}let R=(()=>{class e{constructor(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+E++,this.valueChange=new T.o,this.change=new T.o,this.appearance=t&&t.appearance?t.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(e=>{e.name=this._name,e._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(S.c)(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(e=>e.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(S.c)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(S.c)(e),this._buttonToggles&&this._buttonToggles.forEach(e=>e._markForCheck())}ngOnInit(){this._selectionModel=new v.c(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,n=new A(t,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(e,t,n=!1,o=!1){this.multiple||!this.selected||e.checked||(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>null!=e.value&&t===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const t=this._buttonToggles.find(t=>null!=t.value&&t.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(T.h),T.Nb(O,8))},e.\u0275dir=T.Ib({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,n){if(1&e&&T.Gb(n,B,1),2&e){let e;T.sc(e=T.cc())&&(t._buttonToggles=e)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(T.Db("aria-disabled",t.disabled),T.Fb("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[T.Bb([D,{provide:F,useExisting:e}])]}),e})();class M{}const I=Object(C.x)(M);let B=(()=>{class e extends I{constructor(e,t,n,o,i,a){super(),this._changeDetectorRef=t,this._elementRef=n,this._focusMonitor=o,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new T.o;const s=Number(i);this.tabIndex=s||0===s?s:null,this.buttonToggleGroup=e,this.appearance=a&&a.appearance?a.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const t=Object(S.c)(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Object(S.c)(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+E++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new A(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(F,8),T.Nb(T.h),T.Nb(T.l),T.Nb(x.h),T.Yb("tabindex"),T.Nb(O,8))},e.\u0275cmp=T.Hb({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){if(1&e&&T.Kc(y,1),2&e){let e;T.sc(e=T.cc())&&(t._buttonElement=e.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,t){1&e&&T.bc("focus",function(){return t.focus()}),2&e&&(T.Db("aria-label",null)("aria-labelledby",null)("id",t.id)("name",null),T.Fb("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[T.zb],ngContentSelectors:w,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(T.kc(),T.Tb(0,"button",0,1),T.bc("click",function(){return t._onButtonClick()}),T.Tb(2,"span",2),T.jc(3),T.Sb(),T.Sb(),T.Ob(4,"span",3),T.Ob(5,"span",4)),2&e){const e=T.tc(1);T.lc("id",t.buttonId)("disabled",t.disabled||null),T.Db("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t.name||null)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),T.Cb(5),T.lc("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)}},directives:[C.r],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),e})(),N=(()=>{class e{}return e.\u0275mod=T.Lb({type:e}),e.\u0275inj=T.Kb({factory:function(t){return new(t||e)},imports:[[C.i,C.s],C.i]}),e})();var G=n("dNgK"),P=n("/t3+"),V=n("STbY"),j=n("zkoq"),$=n("M9IT"),U=n("0IaG"),H=n("XhcP"),z=n("iadO"),K=n("5+WD"),L=n("TU8p"),J=n("A5z7"),Q=n("2ChS"),X=n("uM5D"),q=n("JbvS"),Y=n("tyNb"),Z=n("0T/Q"),W=n("R0Ic"),ee=n("sKxO"),te=n("wd/R"),ne=n("IJgu"),oe=n("zD5X");let ie=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.cancelar=()=>this.dialogRef.close()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(U.f),T.Nb(U.a))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-forma-pago-comanda-origen-dialog"]],decls:6,vars:1,consts:[["mat-dialog-content","",1,"contenido"],[3,"comanda_origen"],["dialogFpco",""],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(T.Tb(0,"div",0),T.Ob(1,"app-forma-pago-comanda-origen",1,2),T.Sb(),T.Tb(3,"div",3),T.Tb(4,"button",4),T.bc("click",function(){return t.cancelar()}),T.Fc(5," Cerrar "),T.Sb(),T.Sb()),2&e&&(T.Cb(1),T.lc("comanda_origen",t.data.comanda_origen))},directives:[U.d,oe.a,U.c,k.a],styles:[".contenido[_ngcontent-%COMP%]{max-height:80vh!important;height:90%;overflow-y:auto;padding:0 5px}"]}),e})();var ae=n("fF0d");let se=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.cancelar=()=>this.dialogRef.close(),this.sedeVendorTercero={sede_vendor_tercero:null,sede:null,vendor_tercero:t.vendor_tercero}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(U.f),T.Nb(U.a))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-form-sede-vendor-tercero-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"contenido"],[3,"sedeVendorTercero"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(T.Tb(0,"h1",0),T.Fc(1),T.Sb(),T.Tb(2,"div",1),T.Ob(3,"app-form-sede-vendor-tercero",2),T.Sb(),T.Tb(4,"div",3),T.Tb(5,"button",4),T.bc("click",function(){return t.cancelar()}),T.Fc(6," Cerrar "),T.Sb(),T.Sb()),2&e&&(T.Cb(1),T.Hc(" ",t.data.nombre_vendor_tercero,"\n"),T.Cb(2),T.lc("sedeVendorTercero",t.sedeVendorTercero))},directives:[U.g,U.d,ae.a,U.c,k.a],styles:[".contenido[_ngcontent-%COMP%]{max-height:80vh!important;height:70%;overflow-y:auto;padding:0 5px}"]}),e})();var ce=n("52Kp"),re=n("quSY"),le=n("u0wK"),de=n("7JkF"),be=n("FY0D"),ue=n("+iZS"),pe=n("qMXL"),he=n("qXgu");const ge=["tblOrdenesGk"];function me(e,t){1&e&&(T.Tb(0,"th",29),T.Fc(1,"No."),T.Sb())}function fe(e,t){if(1&e&&(T.Tb(0,"td",30),T.Fc(1),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Hc("",e.orden_gk," ")}}function _e(e,t){1&e&&(T.Tb(0,"th",31),T.Fc(1,"Origen"),T.Sb())}function ke(e,t){if(1&e&&(T.Tb(0,"td",32),T.Fc(1),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Gc(e.comanda_origen.descripcion||"")}}function Se(e,t){1&e&&(T.Tb(0,"th",31),T.Fc(1,"Fecha/Hora"),T.Sb())}function ve(e,t){if(1&e&&(T.Tb(0,"td",32),T.Fc(1),T.gc(2,"date"),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Gc(T.ic(2,1,e.fhcreacion,"dd/MM/yyyy HH:mm:ss")||"")}}function Te(e,t){1&e&&(T.Tb(0,"th",29),T.Fc(1,"Pedido"),T.Sb())}function Ce(e,t){if(1&e&&(T.Tb(0,"td",30),T.Fc(1),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Gc(e.numero_orden)}}function xe(e,t){1&e&&(T.Tb(0,"th",31),T.Fc(1,"Estatus"),T.Sb())}function ye(e,t){if(1&e&&(T.Tb(0,"td",32),T.Fc(1),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Gc(e.estatus_orden_gk.descripcion)}}function we(e,t){1&e&&(T.Tb(0,"th",33),T.Fc(1,"Total"),T.Sb())}function Oe(e,t){if(1&e&&(T.Tb(0,"td",34),T.Fc(1),T.gc(2,"number"),T.Sb()),2&e){const e=t.$implicit;T.Cb(1),T.Gc(T.ic(2,1,e.orden_rt.total_orden,"1.2-2"))}}function Fe(e,t){1&e&&(T.Tb(0,"th",31),T.Fc(1,"\xa0"),T.Sb())}function De(e,t){if(1&e){const e=T.Ub();T.Tb(0,"button",38),T.bc("click",function(){T.xc(e);const t=T.fc().$implicit;return T.fc().openFormaPagoComandaOrigen(t)}),T.Tb(1,"mat-icon",39),T.Fc(2,"payments"),T.Sb(),T.Sb()}if(2&e){const e=T.fc(2);T.lc("disabled",e.cargando)}}function Ee(e,t){if(1&e){const e=T.Ub();T.Tb(0,"td",30),T.Tb(1,"eco-fab-speed-dial",35),T.Tb(2,"eco-fab-speed-dial-trigger"),T.Tb(3,"button",36),T.Tb(4,"mat-icon",37),T.Fc(5,"keyboard_arrow_left"),T.Sb(),T.Sb(),T.Sb(),T.Tb(6,"eco-fab-speed-dial-actions"),T.Tb(7,"button",38),T.bc("click",function(){T.xc(e);const n=t.$implicit;return T.fc().cancelarOrden(n)}),T.Tb(8,"mat-icon",39),T.Fc(9,"block"),T.Sb(),T.Sb(),T.Tb(10,"button",40),T.bc("click",function(){T.xc(e);const n=t.$implicit;return T.fc().enviarVendors(n)}),T.Tb(11,"mat-icon",39),T.Fc(12,"send"),T.Sb(),T.Sb(),T.Tb(13,"button",41),T.bc("click",function(){T.xc(e);const n=t.$implicit;return T.fc().printOrdenGK(n)}),T.Tb(14,"mat-icon",39),T.Fc(15,"print"),T.Sb(),T.Sb(),T.Dc(16,De,3,1,"button",42),T.Sb(),T.Sb(),T.Sb()}if(2&e){const e=t.$implicit,n=T.fc();T.Cb(7),T.lc("disabled",n.cargando||1!=+e.estatus_orden_gk.estatus_orden_gk),T.Cb(3),T.lc("disabled",n.cargando||+e.estatus_orden_gk.estatus_orden_gk>1),T.Cb(6),T.lc("ngIf",3==+e.estatus_orden_gk.estatus_orden_gk)}}function Ae(e,t){if(1&e&&(T.Tb(0,"h6"),T.Tb(1,"p",51),T.Fc(2),T.Sb(),T.Sb()),2&e){const e=T.fc().$implicit;T.Cb(2),T.Hc(" ",e.orden_rt.pendiente," ")}}function Re(e,t){if(1&e){const e=T.Ub();T.Tb(0,"button",55),T.bc("click",function(){T.xc(e);const t=T.fc().$implicit,n=T.fc().$implicit;return T.fc().openSedeVendorTercero(t.vendor,n.orden_gk)}),T.Tb(1,"mat-icon",39),T.Fc(2,"store"),T.Sb(),T.Sb()}if(2&e){const e=T.fc(3);T.lc("disabled",e.cargando)}}function Me(e,t){if(1&e&&(T.Tb(0,"small"),T.Ob(1,"br"),T.Tb(2,"span"),T.Fc(3),T.Sb(),T.Sb()),2&e){const e=T.fc().$implicit;T.Cb(3),T.Gc(e.estatus_sede.descripcion)}}function Ie(e,t){if(1&e&&(T.Rb(0),T.Tb(1,"tr"),T.Tb(2,"td",52),T.Fc(3),T.Dc(4,Re,3,1,"button",53),T.Dc(5,Me,4,1,"small",45),T.Sb(),T.Tb(6,"td",47),T.Fc(7),T.Sb(),T.Tb(8,"td",54),T.Fc(9),T.Sb(),T.Tb(10,"td",49),T.Fc(11),T.gc(12,"number"),T.Sb(),T.Tb(13,"td",49),T.Fc(14),T.gc(15,"number"),T.Sb(),T.Tb(16,"td",49),T.Fc(17),T.gc(18,"number"),T.Sb(),T.Sb(),T.Qb()),2&e){const e=t.$implicit,n=T.fc().$implicit;T.Cb(1),T.Ac("background-color",null==e.estatus_sede?null:e.estatus_sede.color),T.Cb(2),T.Hc(" ",e.atiende&&e.atiende.nombre?e.atiende.nombre:"NO EXISTE"," "),T.Cb(1),T.lc("ngIf",3==+n.estatus_orden_gk.estatus_orden_gk&&!(e.atiende&&e.atiende.nombre)),T.Cb(1),T.lc("ngIf",e.estatus_sede),T.Cb(2),T.Gc(e.cantidad),T.Cb(2),T.Gc(e.descripcion),T.Cb(2),T.Gc(T.ic(12,10,e.precio,"1.2-2")),T.Cb(3),T.Gc(T.ic(15,13,e.descuento,"1.2-2")),T.Cb(3),T.Gc(T.ic(18,16,e.total,"1.2-2"))}}function Be(e,t){if(1&e&&(T.Tb(0,"td",32),T.Tb(1,"div",43),T.Tb(2,"table",44),T.Tb(3,"caption"),T.Tb(4,"h5"),T.Fc(5),T.Sb(),T.Dc(6,Ae,3,1,"h6",45),T.Sb(),T.Tb(7,"thead"),T.Tb(8,"th",46),T.Fc(9,"Atiende"),T.Sb(),T.Tb(10,"th",47),T.Fc(11,"Cantidad"),T.Sb(),T.Tb(12,"th",48),T.Fc(13,"Art\xedculo"),T.Sb(),T.Tb(14,"th",49),T.Fc(15,"Precio"),T.Sb(),T.Tb(16,"th",49),T.Fc(17,"Descuento"),T.Sb(),T.Tb(18,"th",49),T.Fc(19,"Total"),T.Sb(),T.Sb(),T.Tb(20,"tbody"),T.Dc(21,Ie,19,19,"ng-container",50),T.Sb(),T.Sb(),T.Sb(),T.Sb()),2&e){const e=t.$implicit,n=T.fc();T.Db("colspan",n.columnsToDisplay.length),T.Cb(1),T.lc("@detailExpand",e==n.expandedElement?"expanded":"collapsed"),T.Cb(4),T.Hc("Detalle del pedido #",e.numero_orden,""),T.Cb(1),T.lc("ngIf",!e.orden_rt.completa),T.Cb(15),T.lc("ngForOf",e.orden_rt.articulos)}}function Ne(e,t){1&e&&T.Ob(0,"tr",56)}function Ge(e,t){if(1&e){const e=T.Ub();T.Tb(0,"tr",57),T.bc("click",function(){T.xc(e);const n=t.$implicit,o=T.fc();return o.expandedElement=o.expandedElement===n?null:n}),T.Sb()}if(2&e){const e=t.$implicit,n=T.fc();T.Ac("background-color",e.estatus_orden_gk.color),T.Fb("example-expanded-row",n.expandedElement===e)}}function Pe(e,t){1&e&&T.Ob(0,"tr",58)}function Ve(e,t){if(1&e&&(T.Tb(0,"tr",59),T.Tb(1,"td",60),T.Fc(2,"No hay pedidos."),T.Sb(),T.Sb()),2&e){const e=T.fc();T.Cb(1),T.Db("colspan",e.columnsToDisplay.length)}}const je=function(){return["expandedDetail"]};let $e=(()=>{class e{constructor(e,t,n,o,i,a,s,c){this.ordengkSrvc=e,this.socket=t,this.ls=n,this.snackBar=o,this.dns=i,this.dialog=a,this.impresoraSrvc=s,this.configSrvc=c,this.ordenesgk=[],this.ordenesgkFiltered=[],this.columnsToDisplay=["orden_gk","comanda_origen","fhcreacion","numero_orden","estatus_orden_gk","total","acciones"],this.cargando=!1,this.impresora=null,this.endSubs=new re.a,this.notificarUsuario=()=>{const e={icon:"assets/img/minilogo.png",body:`Se recibi\xf3 una nueva orden a las ${te().format(ee.b.dateTimeFormat)}.`,dir:"auto"};this.dns.createNotification("Rest-Touch Pro",1e4,e)},this.loadImpresoraPorDefecto=()=>{this.endSubs.add(this.impresoraSrvc.get({pordefecto:1}).subscribe(e=>{e&&e.length>0&&(this.impresora=e[0])}))},this.loadOrdenesGK=(e=0)=>{this.cargando=!0;const t={estatus_orden_gk:e};0==+e&&delete t.estatus_orden_gk,this.endSubs.add(this.ordengkSrvc.seguimiento(t).subscribe(e=>{e&&(this.ordenesgk=e,this.ordenesgkFiltered=JSON.parse(JSON.stringify(this.ordenesgk))),this.cargando=!1}))},this.cancelarOrden=e=>{this.cargando=!0;const t=this.dialog.open(ne.a,{maxWidth:"400px",data:new ne.b("Anular pedido","Si anula el pedido, ser\xe1 necesario volver a ingresarlo. \xbfDesea continuar?","S\xed","No",{input:[{select:!1,label:"Comentario",valor:null,id:"comentario",requerido:!1}]})});this.endSubs.add(t.afterClosed().subscribe(t=>{if(t.resultado){const n={orden_gk:e.orden_gk,origen:e.comanda_origen.descripcion};for(const e of t.config.input)n[e.id]=e.valor;this.endSubs.add(this.ordengkSrvc.anular(n).subscribe(t=>{t.exito?(this.snackBar.open(t.mensaje,"Anular pedido",{duration:5e3}),t.estatus_orden_gk?this.updateEstatusOrden(e.orden_gk,t.estatus_orden_gk):this.loadOrdenesGK()):this.snackBar.open(`ERROR: ${t.mensaje}`,"Anular pedido",{duration:5e3}),this.cargando=!1}))}else this.cargando=!1}))},this.enviarVendors=e=>{this.cargando=!0;const t=this.dialog.open(ne.a,{maxWidth:"400px",data:new ne.b("Enviar a vendors","Esto enviar\xe1 los pedidos a sus respectivas cocinas. \xbfDesea continuar?","S\xed","No")});this.endSubs.add(t.afterClosed().subscribe(t=>{t?(this.snackBar.open(`Enviando orden #${e.numero_orden} de ${e.comanda_origen.descripcion}`,"Env\xedo a vendors",{duration:5e3}),this.endSubs.add(this.ordengkSrvc.enviarVendors({orden_gk:e.orden_gk}).subscribe(t=>{t.exito?(this.updateEstatusOrden(e.orden_gk,t.estatus_orden_gk),this.snackBar.open(`${t.mensaje}`,"Env\xedo a vendors",{duration:7e3})):this.snackBar.open(`ERROR: ${t.mensaje}`,"Env\xedo a vendors",{duration:1e4}),this.cargando=!1}))):this.cargando=!1}))},this.updateEstatusOrden=(e,t)=>{this.endSubs.add(this.ordengkSrvc.cambiarEstatusSede(e).subscribe(n=>{n.exito&&n.orden&&this.updateRegistroOrden(n.orden);let o=this.ordenesgk.findIndex(t=>+t.orden_gk==+e);o>-1&&(this.ordenesgk[o].estatus_orden_gk=t),o=this.ordenesgkFiltered.findIndex(t=>+t.orden_gk==+e),o>-1&&(this.ordenesgkFiltered[o].estatus_orden_gk=t)}))},this.updateRegistroOrden=e=>{let t=this.ordenesgk.findIndex(t=>+t.orden_gk==+e.orden_gk);t>-1&&(this.ordenesgk[t]=e),t=this.ordenesgkFiltered.findIndex(t=>+t.orden_gk==+e.orden_gk),t>-1&&(this.ordenesgkFiltered[t]=e,this.tblOrdenesGk.renderRows())},this.openFormaPagoComandaOrigen=e=>{this.cargando=!0;const t=this.dialog.open(ie,{maxWidth:"100vw",width:"90vw",height:"80vh",disableClose:!0,data:{comanda_origen:+e.comanda_origen.comanda_origen}});this.endSubs.add(t.afterClosed().subscribe(()=>{this.endSubs.add(this.ordengkSrvc.regeneraOrdenRT(e.orden_gk).subscribe(e=>{e.exito?(this.updateRegistroOrden(e.orden),this.snackBar.open(e.mensaje,"Formas de pago por origen.",{duration:7e3})):this.snackBar.open(`ERROR: ${e.mensaje}`,"Formas de pago por origen.",{duration:7e3}),this.cargando=!1}))}))},this.openSedeVendorTercero=(e,t)=>{console.log(e),this.cargando=!0;const n=this.dialog.open(se,{maxWidth:"100vw",width:"50vw",height:"40vh",disableClose:!0,data:{vendor_tercero:e.vendor_tercero,nombre_vendor_tercero:e.nombre}});this.endSubs.add(n.afterClosed().subscribe(()=>{this.endSubs.add(this.ordengkSrvc.regeneraOrdenRT(t).subscribe(e=>{e.exito?(this.updateRegistroOrden(e.orden),this.snackBar.open(e.mensaje,"Sede para vendor.",{duration:7e3})):this.snackBar.open(`ERROR: ${e.mensaje}`,"Sede para vendor.",{duration:7e3}),this.cargando=!1}))}))},this.procesaDetalleOrden=e=>{const t=[];return e.forEach(e=>t.push({Cantidad:+e.cantidad,Descripcion:e.descripcion,Total:+e.total,PrecioUnitario:+e.precio})),t},this.procesaDatosEntregaFactura=e=>{for(const t in e)e[t]=e[t]?e[t]:"";return e},this.printOrdenGK=e=>{const t=e.orden_rt,n=t.total_propina&&+t.total_propina>0?+t.total_propina:0,o={Pedido:t.numero_orden,FechaHora:te(e.fhcreacion).format(ee.b.dateTimeFormat),TotalOrden:t.total_orden+n,TotalDescuento:t.total_descuento,Origen:e.comanda_origen.descripcion,DatosEntrega:this.procesaDatosEntregaFactura(t.datos_entrega),DatosFactura:this.procesaDatosEntregaFactura(t.datos_factura),FormasPago:"",Propina:n,Impresora:this.impresora,DetalleOrden:this.procesaDetalleOrden(t.articulos)};t.formas_pago.forEach(e=>{""!==o.FormasPago&&(o.FormasPago+=", "),o.FormasPago+=e.descripcion}),this.impresora?0==+this.impresora.bluetooth?this.socket.emit("print:ordengk",`${JSON.stringify(o)}`):(o.FechaHora=te(e.fhcreacion).format(ee.b.dateFormatBT),this.printToBT(JSON.stringify(o))):this.socket.emit("print:ordengk",`${JSON.stringify(o)}`),this.snackBar.open(`Imprimiendo pedido #${t.numero_orden}`,"Impresi\xf3n",{duration:3e3})},this.printToBT=(e="")=>{const t=this.configSrvc.getConfig(ee.b.CONSTANTES.RT_ENVIA_COMO_BASE64)?ce.a.encode(e,!0):e,n=ee.b.DEEP_LINK_ANDROID.replace("__INFOBASE64__",t);try{window.location.href=n}catch(o){this.snackBar.open("No se pudo conectar con la aplicaci\xf3n de impresi\xf3n","Comanda",{duration:3e3})}}}ngAfterViewInit(){}ngOnInit(){this.ls.get(ee.b.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(ee.b.usrTokenVar).sede_uuid),this.socket.on("gk:updlista",e=>{this.ls.get(ee.b.usrTokenVar).sede_uuid.indexOf(e.corporacion)>-1&&(this.loadOrdenesGK(),this.notificarUsuario())}),this.socket.on("gk:updEstatusOrden",e=>{const t=JSON.parse(e),n=t.sede_uuid.substring(0,36);this.ls.get(ee.b.usrTokenVar).sede_uuid.indexOf(n)>-1&&t.orden_gk&&t.estatus_orden_gk&&this.updateEstatusOrden(t.orden_gk,t.estatus_orden_gk)}),this.socket.on("reconnect",()=>this.socket.emit("joinRestaurant",this.ls.get(ee.b.usrTokenVar).sede_uuid)),this.socket.on("connect_timeout",()=>{this.snackBar.open("DESCONECTADO DEL SERVIDOR (TIMEOUT)","ERROR",{duration:5e3})}),this.socket.on("reconnect_attempt",e=>this.snackBar.open(`INTENTO DE RECONEXI\xd3N #${e}`,"ERROR",{duration:1e4}))),this.loadOrdenesGK(),this.loadImpresoraPorDefecto()}ngOnDestroy(){this.socket.disconnect(),this.endSubs.unsubscribe()}applyFilter(e){const t=e.target.value;console.log(t),this.ordenesgkFiltered=t.length>0?Object(ee.c)(this.ordenesgk,t):JSON.parse(JSON.stringify(this.ordenesgk))}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(le.a),T.Nb(de.a),T.Nb(be.a),T.Nb(G.b),T.Nb(ue.a),T.Nb(U.b),T.Nb(pe.a),T.Nb(he.a))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-seguimiento"]],viewQuery:function(e,t){if(1&e&&T.Kc(ge,1),2&e){let e;T.sc(e=T.cc())&&(t.tblOrdenesGk=e.first)}},decls:44,vars:5,consts:[[1,"fullWidth","margenes"],["matInput","","placeholder","Buscar pedido...",3,"keyup"],["input",""],["name","estatusOrden","aria-label","Filtro por esatus",1,"margenes"],["value","",3,"click"],["value","3",3,"click"],["value","6",3,"click"],["value","2",3,"click"],[1,"mat-elevation-z8","margenes"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["tblOrdenesGk",""],["matColumnDef","orden_gk"],["mat-header-cell","","style","text-align: center !important;",4,"matHeaderCellDef"],["mat-cell","","class","ctxt",4,"matCellDef"],["matColumnDef","comanda_origen"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fhcreacion"],["matColumnDef","numero_orden"],["matColumnDef","estatus_orden_gk"],["matColumnDef","total"],["mat-header-cell","","style","text-align: right !important;",4,"matHeaderCellDef"],["mat-cell","","class","rtxt",4,"matCellDef"],["matColumnDef","acciones"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"backgroundColor","example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell","",2,"text-align","center !important"],["mat-cell","",1,"ctxt"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","right !important"],["mat-cell","",1,"rtxt"],["direction","left"],["mat-fab",""],[2,"font-size","18pt !important"],["mat-mini-fab","","color","warn",3,"disabled","click"],[2,"font-size","16pt !important"],["mat-mini-fab","","color","accent",3,"disabled","click"],["mat-mini-fab","","color","accent",3,"click"],["mat-mini-fab","","color","warn",3,"disabled","click",4,"ngIf"],[1,"example-element-detail"],[2,"width","100%","background-color","#f5f5f5","table-layout","fixed"],[4,"ngIf"],[1,"ltxt","atiende-style"],[1,"ctxt","num-width"],[1,"ltxt","articulo-style"],[1,"rtxt","num-width"],[4,"ngFor","ngForOf"],[1,"pendientes"],[1,"atiende-style"],["mat-button","","color","accent",3,"disabled","click",4,"ngIf"],[1,"articulo-style"],["mat-button","","color","accent",3,"disabled","click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"mat-row"],[1,"mat-cell"]],template:function(e,t){1&e&&(T.Tb(0,"mat-form-field",0),T.Tb(1,"mat-label"),T.Fc(2,"Buscar"),T.Sb(),T.Tb(3,"input",1,2),T.bc("keyup",function(e){return t.applyFilter(e)}),T.Sb(),T.Sb(),T.Tb(5,"mat-button-toggle-group",3),T.Tb(6,"mat-button-toggle",4),T.bc("click",function(){return t.loadOrdenesGK()}),T.Fc(7,"En proceso"),T.Sb(),T.Tb(8,"mat-button-toggle",5),T.bc("click",function(){return t.loadOrdenesGK(3)}),T.Fc(9,"Incompletas"),T.Sb(),T.Tb(10,"mat-button-toggle",6),T.bc("click",function(){return t.loadOrdenesGK(6)}),T.Fc(11,"Terminadas"),T.Sb(),T.Tb(12,"mat-button-toggle",7),T.bc("click",function(){return t.loadOrdenesGK(2)}),T.Fc(13,"Canceladas"),T.Sb(),T.Sb(),T.Tb(14,"div",8),T.Tb(15,"table",9,10),T.Rb(17,11),T.Dc(18,me,2,0,"th",12),T.Dc(19,fe,2,1,"td",13),T.Qb(),T.Rb(20,14),T.Dc(21,_e,2,0,"th",15),T.Dc(22,ke,2,1,"td",16),T.Qb(),T.Rb(23,17),T.Dc(24,Se,2,0,"th",15),T.Dc(25,ve,3,4,"td",16),T.Qb(),T.Rb(26,18),T.Dc(27,Te,2,0,"th",12),T.Dc(28,Ce,2,1,"td",13),T.Qb(),T.Rb(29,19),T.Dc(30,xe,2,0,"th",15),T.Dc(31,ye,2,1,"td",16),T.Qb(),T.Rb(32,20),T.Dc(33,we,2,0,"th",21),T.Dc(34,Oe,3,4,"td",22),T.Qb(),T.Rb(35,23),T.Dc(36,Fe,2,0,"th",15),T.Dc(37,Ee,17,3,"td",13),T.Qb(),T.Rb(38,24),T.Dc(39,Be,22,5,"td",16),T.Qb(),T.Dc(40,Ne,1,0,"tr",25),T.Dc(41,Ge,1,4,"tr",26),T.Dc(42,Pe,1,0,"tr",27),T.Dc(43,Ve,3,1,"tr",28),T.Sb(),T.Sb()),2&e&&(T.Cb(15),T.lc("dataSource",t.ordenesgkFiltered),T.Cb(25),T.lc("matHeaderRowDef",t.columnsToDisplay),T.Cb(1),T.lc("matRowDefColumns",t.columnsToDisplay),T.Cb(1),T.lc("matRowDefColumns",T.nc(4,je)))},directives:[b.b,b.f,u.b,R,B,m.k,m.c,m.e,m.b,m.g,m.j,m.h,m.d,m.a,q.b,q.d,k.a,d.a,q.a,o.m,o.l,m.f,m.i],pipes:[o.e,o.f],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#777}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.tamanioAmigable[_ngcontent-%COMP%]{padding:5px;width:10%!important;min-height:55px}.btnCelSize[_ngcontent-%COMP%]{min-width:55px;width:100%}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}.long-notes[_ngcontent-%COMP%]{overflow-wrap:break-word}.num-width[_ngcontent-%COMP%]{width:10%}.atiende-style[_ngcontent-%COMP%]{width:15%}.articulo-style[_ngcontent-%COMP%]{width:45%}.margenes[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-bottom:5px}.pendientes[_ngcontent-%COMP%]{background-color:#f7dc6f}"],data:{animation:[Object(W.m)("detailExpand",[Object(W.j)("collapsed",Object(W.k)({height:"0px",minHeight:"0"})),Object(W.j)("expanded",Object(W.k)({height:"*"})),Object(W.l)("expanded <=> collapsed",Object(W.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})();var Ue=n("Iab2"),He=n("R5jZ"),ze=n("un/a"),Ke=n("JIr8");let Le=(()=>{class e{constructor(e,t){this.http=e,this.ls=t,this.moduleUrl="reporte_gk",this.usrToken=null,this.httpOptions={responseType:"blob"},this.srvcErrHndl=new He.a,this.usrToken=this.ls.get(ee.b.usrTokenVar)?this.ls.get(ee.b.usrTokenVar).token:null,this.httpOptions.headers=new i.d({Authorization:this.usrToken,Accept:"application/pdf"})}propinas(e){return this.http.post(`${ee.b.urlGhostKitchen}/${this.moduleUrl}/propinas`,e,this.httpOptions).pipe(Object(ze.a)(ee.b.reintentos),Object(Ke.a)(this.srvcErrHndl.errorHandler))}}return e.\u0275fac=function(t){return new(t||e)(T.Xb(i.b),T.Xb(be.a))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Je=n("EwG7"),Qe=n("NU9O");const Xe=[{path:"seguimiento",component:$e,canActivate:[Z.a]},{path:"repdistprop",component:(()=>{class e{constructor(e,t){this.snackBar=e,this.rptGkSrvc=t,this.endSubs=new re.a,this.resetParams=()=>this.params={_fdel:te().startOf("month").format(ee.b.dbDateFormat),_fal:te().endOf("month").format(ee.b.dbDateFormat),_porexpo:10},this.getRptExcel=()=>{this.endSubs.add(this.rptGkSrvc.propinas(this.params).subscribe(e=>{if(e){const t=new Blob([e],{type:"application/vnd.ms-excel"});Object(Ue.saveAs)(t,`DistPropGK_${te().format("DDMMYYYYHHmmss")}.xls`)}else this.snackBar.open("No se pudo generar el reporte...","DistPropGK",{duration:3e3})}))}}get configuracion(){return{isRequiredFDel:!0,isRequiredFAl:!0}}get confBotones(){return{isHtmlDisabled:!0,isPdfDisabled:!0,isExcelDisabled:!1,showHtml:!1,showPdf:!1,showExcel:!0}}ngOnInit(){this.resetParams()}ngOnDestroy(){this.endSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(G.b),T.Nb(Le))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-distribucion-propinas"]],decls:12,vars:5,consts:[[1,"row"],[1,"col","m12","s12"],[1,"mat-elevation-z4","fullWidth"],[3,"configuracion","fdel","fal","fdelChange","falChange"],[1,"fullWidth"],["matInput","","type","number","placeholder","% para el Expo","name","_porexpo","step","0.01","required","",3,"ngModel","ngModelChange"],[3,"configuracion","excelClick","resetParamsClick"]],template:function(e,t){1&e&&(T.Tb(0,"div",0),T.Tb(1,"div",1),T.Tb(2,"mat-card",2),T.Tb(3,"mat-card-title"),T.Tb(4,"h4"),T.Fc(5," Distribuci\xf3n de propinas "),T.Sb(),T.Sb(),T.Tb(6,"mat-card-content"),T.Tb(7,"app-rpt-fechas",3),T.bc("fdelChange",function(e){return t.params._fdel=e})("falChange",function(e){return t.params._fal=e}),T.Sb(),T.Tb(8,"mat-form-field",4),T.Tb(9,"input",5),T.bc("ngModelChange",function(e){return t.params._porexpo=e}),T.Sb(),T.Sb(),T.Sb(),T.Tb(10,"mat-card-actions"),T.Tb(11,"app-rpt-botones",6),T.bc("excelClick",function(){return t.getRptExcel()})("resetParamsClick",function(){return t.resetParams()}),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Sb()),2&e&&(T.Cb(7),T.lc("configuracion",t.configuracion)("fdel",t.params._fdel)("fal",t.params._fal),T.Cb(2),T.lc("ngModel",t.params._porexpo),T.Cb(2),T.lc("configuracion",t.confBotones))},directives:[p.a,p.h,p.c,Je.a,b.b,u.b,a.o,a.c,a.p,a.k,a.n,p.b,Qe.a],styles:[""]}),e})(),canActivate:[Z.a]}];let qe=(()=>{class e{}return e.\u0275mod=T.Lb({type:e}),e.\u0275inj=T.Kb({factory:function(t){return new(t||e)},imports:[[Y.d.forChild(Xe)],Y.d]}),e})(),Ye=(()=>{class e{}return e.\u0275mod=T.Lb({type:e}),e.\u0275inj=T.Kb({factory:function(t){return new(t||e)},providers:[C.l],imports:[[o.c,qe,i.c,a.e,s.a,c.a,r.AdminModule,l.d,d.b,b.d,u.c,p.f,h.b,g.c,m.m,f.b,_.b,k.b,N,G.c,P.b,V.d,j.b,$.b,U.e,H.d,z.a,C.l,q.c,K.b,L.a,J.c,Q.c,X.b]]}),e})()}}]);