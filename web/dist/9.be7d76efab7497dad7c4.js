(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/1Jv":function(t,e,n){"use strict";n.r(e),e.default=".numWidth {\r\n    width: 10%;\r\n}\r\n\r\ntr {\r\n    border: none;\r\n}\r\n\r\nth, td {\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n}"},"/LcN":function(t,e,n){"use strict";n.r(e),e.default='<mat-list class="fullWidth" [style.height]="listHeight">\n    <mat-list-item *ngFor="let p of listaProductos; let i = index;" [ngClass]="{\'noImpreso\': +p.impreso === 0}" [style.height]="p.itemListHeight">\n        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">\n            <div class="row">\n                <div class="col m6 s12">\n                    <span>{{p.cantidad}}&nbsp;{{p.nombre}}</span>\n                </div>\n                <div class="col m6 s12" align="end">\n                    \x3c!--<span class="spacer"></span>--\x3e\n                    <span>{{(p.cantidad * p.precio) | number: \'1.2-2\'}}</span>&nbsp;\n                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 0">\n                        <eco-fab-speed-dial-trigger>\n                            <button mat-fab>\n                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-trigger>\n                        <eco-fab-speed-dial-actions>\n                            <button mat-mini-fab (click)="deleteProductoFromList(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>\n                            </button>\n                            <button mat-mini-fab (click)="removeProducto(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">remove_circle</mat-icon>\n                            </button>\n                            <button mat-mini-fab (click)="toggleShowInputNotas(p)" color="accent" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">notes</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-actions>\n                    </eco-fab-speed-dial>\n                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 1">\n                        <eco-fab-speed-dial-trigger>\n                            <button mat-fab>\n                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-trigger>\n                        <eco-fab-speed-dial-actions>\n                            <button mat-mini-fab (click)="deleteProductoFromListAfterPrinted(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-actions>\n                    </eco-fab-speed-dial>\n                </div>\n            </div>\n        </div>\n        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">\n            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && esMovil">\n                <input matInput placeholder="Notas de producto" [(ngModel)]="p.notas"\n                    (keyup.enter)="toggleShowInputNotas(p)">\n            </mat-form-field>\n            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && !esMovil">\n                <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric"\n                    ng-virtual-keyboard-placeholder="Notas de producto" placeholder="Notas de producto"\n                    [(ngModel)]="p.notas" (keyup.enter)="toggleShowInputNotas(p)">\n            </mat-form-field>\n        </div>\n    </mat-list-item>\n</mat-list>'},"0+aQ":function(t,e,n){"use strict";n.r(e),e.default=".diseniador {\n    width: 750px;\n    height: 650px;\n    overflow: hidden !important;\n    padding: 0 !important;\n    /*border: dashed 1px #c7c7c749;*/\n}\n\n.areaPosicionamiento {\n    width: 100%;\n    height: 600px;\n    overflow: hidden !important;\n    background-color: #c7c7c749;\n    padding: 0 !important;\n    position: relative;\n}\n\n.btnIconSize {\n    font-size: 17pt !important;\n}\n\n::ng-deep .customize {    \n    background: lightyellow;\n}\n\n::ng-deep .customizeUp {    \n    background: lightgreen;\n}\n\n.mesaTitle {\n    font-weight: bold;\n}\n\n/*\n::ng-deep .mat-menu-panel {    \n    height: 125px !important;\n    padding: 0 5px !important;    \n}\n*/"},"0wdR":function(t,e,n){"use strict";n.r(e),e.default=""},"16Tw":function(t,e,n){"use strict";n.r(e),e.default=".full-width {\n    width: 100%;\n}\n\n.iconFontSize {\n    font-size: 34pt !important;\n}"},"1QzS":function(t,e,n){"use strict";n.r(e),e.default=".contenido {\r\n    height: 50% !important;\r\n}\r\n\r\n.separatorMargin {\r\n    margin-right: 8px;\r\n}"},"2sG5":function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de caja</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptCaja="ngForm" novalidate>\n          <mat-form-field class="fullWidth">\n              <mat-label>Tipo de turno</mat-label>\n              <mat-select name="turno_tipo" [(ngModel)]="params.turno_tipo">\n                  <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                      {{tt.descripcion}}\n                  </mat-option>\n              </mat-select>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-checkbox name="traslado" class="fullWidth" [(ngModel)]="+params._detalle">Mostrar Detalle</mat-checkbox>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>'},"3YTL":function(t,e,n){"use strict";n.r(e),e.default=""},"4Gwt":function(t,e,n){"use strict";n.r(e),e.default=""},"6fiT":function(t,e,n){"use strict";n.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\ntable {\n    width: 100% !important;\n}"},"6oUw":function(t,e,n){"use strict";n.r(e),e.default=""},"77DD":function(t,e,n){"use strict";n.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\ntable {\n    width: 100% !important;\n}"},"7E+n":function(t,e,n){"use strict";n.r(e),e.default=".fullWidth { width: 100%; }\r\n.iconFontSize {\r\n    font-size: 34pt !important;\r\n}"},"7roY":function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n  <div class="col m5 s12">\n    <app-cajacorte-lista  #lstCortecaja (getCajacorteEv)="editarCajaCorte($event)"></app-cajacorte-lista>\n  </div>\n  <div class="col m7 s12">\n    <app-cajacorte-form #frmCortecaja [ccorte]="ccorte" (cajacorteSavedEv)="actualizaLista()"></app-cajacorte-form>\n  </div>\n</div>'},"82jH":function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-area #listaAreas (getEntidadEv)="setArea($event)"></app-lista-area>\n    </div>\n    <div class="col m7 s12">\n        <app-form-area [entidad]="area" (entidadSavedEv)="refreshAreaList()"></app-form-area>\n    </div>\n</div>'},"9yMN":function(t,e,n){"use strict";n.r(e),e.default='<div fxLayout="row" fxLayout.xs="column" fxFlexFill>\n    <div fxFlex="50%" fxFlex.xs="100%" class="bordeRght">\n        <div class="divContenedor" fxLayout="row wrap" fxLayoutGap="10px grid" fxFlexFill fxLayoutAlign="start start">\n            <div fxFlex="100%" fxLayoutAlign="center start"><h4>Pendientes</h4></div>\n            <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="50%" *ngFor="let cmd of lstComandasCocina">\n                <mat-card class="mat-elevation-z4">\n                    <mat-card-header>\n                        <mat-card-title>Comanda #{{cmd.comanda}}</mat-card-title>\n                        <mat-card-subtitle>Area {{cmd.mesa.area.nombre}} - Mesa #{{cmd.mesa.numero}}</mat-card-subtitle>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <ng-container *ngFor="let cta of cmd.cuentas">\n                            <mat-list role="list" *ngIf="cta.productos.length > 0">\n                                <mat-list-item role="listitem" *ngFor="let prod of cta.productos">\n                                    {{prod.cantidad}} {{prod.articulo.descripcion}}\n                                    <mat-divider [inset]="true"></mat-divider>\n                                </mat-list-item>                        \n                            </mat-list>\n                        </ng-container>\n                    </mat-card-content>\n                    <mat-card-actions align="end">\n                        <button mat-raised-button color="accent" type="button" (click)="setCocinado(cmd, 1)">Vista</button>\n                    </mat-card-actions>\n                </mat-card>\n            </div>\n        </div>\n    </div>\n    <div fxFlex="50%" fxFlex.xs="100%" class="bordeLft">\n        <div class="divContenedor" fxLayout="row wrap" fxLayoutGap="10px grid" fxFlexFill fxLayoutAlign="start start">\n            <div fxFlex="100%" fxLayoutAlign="center start"><h4>En Proceso</h4></div>\n            <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="50%" *ngFor="let cmdEnProceso of lstComandasCocinaEnProceso">\n                <mat-card class="mat-elevation-z4">\n                    <mat-card-header>\n                        <mat-card-title>Comanda #{{cmdEnProceso.comanda}}</mat-card-title>\n                        <mat-card-subtitle>Area {{cmdEnProceso.mesa.area.nombre}} - Mesa #{{cmdEnProceso.mesa.numero}}</mat-card-subtitle>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <ng-container *ngFor="let cta of cmdEnProceso.cuentas">\n                            <mat-list role="list" *ngIf="cta.productos.length > 0">\n                                <mat-list-item role="listitem" *ngFor="let prod of cta.productos">\n                                    {{prod.cantidad}} {{prod.articulo.descripcion}}\n                                    <mat-divider [inset]="true"></mat-divider>\n                                </mat-list-item>                        \n                            </mat-list>\n                        </ng-container>\n                    </mat-card-content>\n                    <mat-card-actions align="end">\n                        <button mat-raised-button color="accent" type="button" (click)="setCocinado(cmdEnProceso)">Cocinado</button>\n                    </mat-card-actions>\n                </mat-card>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n'},AjM8:function(t,e,n){"use strict";n.r(e),e.default=""},BHSW:function(t,e,n){"use strict";n.r(e),e.default=""},CqNL:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-turno #lstTurno (getTurnoEv)="setTurno($event)"></app-lista-turno>\n    </div>\n    <div class="col m7 s12">\n        <app-form-turno #frmTurno [turno]="turno" (turnoSavedEv)="refreshTurnoList()"></app-form-turno>\n    </div>\n</div>'},Csbo:function(t,e,n){"use strict";n.r(e),e.default=""},"G+Be":function(t,e,n){"use strict";n.r(e),e.default=""},"G+t/":function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Unir cuentas</h1>\n<div mat-dialog-content>\n    <form #frmUnirCuenta="ngForm" novalidate>\n        <mat-form-field>\n            <mat-label>Unir cuenta de</mat-label>\n            <mat-select name="cuentaDe" [(ngModel)]="cuentaDe" required>\n                <mat-option *ngFor="let ctaDe of data.mesaEnUso.cuentas" [value]="ctaDe">\n                    {{ctaDe.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-form-field>\n            <mat-label>con la cuenta de</mat-label>\n            <mat-select name="cuentaA" [(ngModel)]="cuentaA" required>\n                <mat-option *ngFor="let ctaA of data.mesaEnUso.cuentas" [value]="ctaA">\n                    {{ctaA.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button type="button" color="accent" (click)="unirCuentas(cuentaDe, cuentaA)" [disabled]="!frmUnirCuenta.form.valid || +cuentaDe === +cuentaA">\n        Unir cuentas\n    </button>\n    \x3c!--\n    <button mat-raised-button type="button" color="accent" (click)="unirTodas()">\n        Unir todas en una sola\n    </button>\n    --\x3e\n</div>'},G629:function(t,e,n){"use strict";n.r(e),e.default=""},GFj5:function(t,e,n){"use strict";n.r(e),e.default=".divMesa {\n    background-repeat: no-repeat;\n    background-position: center;\n    position: absolute;\n    text-align: right;\n    padding-top: 0;\n}\n\nspan {\n    font-size: 12pt;\n    font-weight: bold;\n}\n\n.disponible {\n    background-color: lightgreen;\n}\n\n.ocupada {    \n    background-color: #da332d;\n}\n\n.debaja {\n    background-color: black;\n}"},HNm3:function(t,e,n){"use strict";n.r(e),e.default=".anulaicon {\n\tcursor: pointer;\n}"},LCbO:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de propinas</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptPropinas="ngForm" novalidate>\n          <mat-form-field class="fullWidth">\n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">\n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>'},M0mC:function(t,e,n){"use strict";n.r(e),e.default=""},NyI3:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n  <mat-card-title>\n    <h5>Corte de caja</h5>\n  </mat-card-title>\n  <mat-card-content>\n    <form #frmcc="ngForm" (ngSubmit)="frmcc.form.valid && guardar()" novalidate>\n      <mat-form-field class="fullWidth">\n        <mat-label>Tipo de Corte</mat-label>\n        <mat-select name="tipo" [(ngModel)]="ccorte.caja_corte_tipo" (selectionChange)="setNameTipo()" required>\n          <mat-option *ngFor="let m of ccorteTipo" [value]="m.caja_corte_tipo">\n            {{m.descripcion}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <p>Agregar nominaciones</p>\n      <div class="example-container">\n        <mat-form-field>\n          <mat-label>Nominación:</mat-label>\n          <mat-select name="nominacion" [(ngModel)]="detalle.caja_corte_nominacion" (selectionChange)="setNamenomi()">\n            <mat-option *ngFor="let m of ccorteNomi" [value]="m.caja_corte_nominacion">\n              {{m.nombre}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Cantidad:</mat-label>\n          <input matInput type="number" step="0.01" name="cantidad" [(ngModel)]="detalle.cantidad" (blur)="setTotal()">\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Total:</mat-label>\n          <input matInput type="number" step="0.01" name="total" [(ngModel)]="detalle.total" readonly>\n        </mat-form-field>\n        <button mat-icon-button type="button" color="accent" (click)="agregarDetalle()" title="Agregar el detalle">\n          <mat-icon>add</mat-icon>\n        </button>\n      </div>\n      <mat-grid-list cols="4" rowHeight="7:1">\n        <mat-grid-tile><b>Nominación</b></mat-grid-tile>\n        <mat-grid-tile><b>Cantidad</b></mat-grid-tile>\n        <mat-grid-tile><b>Total</b></mat-grid-tile>\n        <mat-grid-tile></mat-grid-tile>\n      </mat-grid-list>\n\n      <mat-grid-list *ngFor="let m of ccorte.detalle" cols="4" rowHeight="7:1">\n        <mat-grid-tile>{{ m.nombre }}</mat-grid-tile>\n        <mat-grid-tile>{{ m.cantidad }}</mat-grid-tile>\n        <mat-grid-tile>{{ m.total }}</mat-grid-tile>\n        <mat-grid-tile>\n          <mat-icon class="anulacion" (click)="anularCajaDetalle(m)" mat-list-icon>close</mat-icon>\n        </mat-grid-tile>\n      </mat-grid-list>\n      <hr>\n      <div align="end">\n        <button mat-icon-button type="button" color="accent" (click)="reseteGeneral()" *ngIf="ccorte.caja_corte">\n          <mat-icon>add</mat-icon>\n        </button>\n        <button mat-icon-button type="submit" color="accent" [disabled]="!frmcc.form.valid" title="Guardar corte de caja">\n          <mat-icon>save</mat-icon>\n        </button>\n      </div>\n    </form>\n  </mat-card-content>\n</mat-card>\n'},Nyij:function(t,e,n){"use strict";n.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\n.spacer {\n    flex: 1 1 auto !important;\n}\n\n.noImpreso {\n    background-color: #c7c7c7;\n}"},OKyJ:function(t,e,n){"use strict";n.r(e),e.default=""},PmOz:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmPropina="ngForm" (ngSubmit)="frmPropina.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth">\n                <mat-label>Tipo Usuario</mat-label>\n                <mat-select name="usuario" [(ngModel)]="propina.usuario_tipo" required>\n                    <mat-option *ngFor="let m of usuarios" [value]="m.usuario_tipo">\n                        {{m.descripcion}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <input matInput type="number" step="0.01" placeholder="Porcentaje" name="porcentaje" [(ngModel)]="propina.porcentaje" required>\n            </mat-form-field>\n            <mat-checkbox name="anulado" class="fullWidth" [(ngModel)]="+propina.anulado">Anulado</mat-checkbox>\n            <div align="end">\n                <button mat-icon-button type="submit" color="accent" [disabled]="!frmPropina.form.valid">\n                    <mat-icon>save</mat-icon>\n                </button>\n                <button mat-icon-button type="button" color="accent" (click)="resetPropina()" *ngIf="propina.propina_distribucion">\n                    <mat-icon>add</mat-icon>\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>\n'},PwNf:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..." [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item *ngFor="let element of lstTurnosPaged" (click)="getTurno(element)">\n                <mat-icon mat-list-icon>schedule</mat-icon>\n                <h5 mat-line>Inicio: {{element.inicio | date: \'dd/MM/yyyy HH:mm:ss\'}}</h5><br/>\n                <p mat-line>\n                    Fin: {{element.fin | date: \'dd/MM/yyyy\'}}\n                </p>\n            </mat-list-item>            \n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>\n'},QNkw:function(t,e,n){"use strict";n.r(e),e.default=".matSideNavContainer {\n    height: 90%;\n    overflow: hidden !important; \n}\n\n.divAreaMesa {\n    width: 100vw;\n    height: 90vh;\n    background-color: #c7c7c749;\n}\n\nmat-sidenav {\n    width: 97vw; \n}"},QduS:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Autoconsulta</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" novalidate>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Campos</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.campos" multiple="multiple" required>\n                            <mat-option *ngFor="let campo of campos" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Del" name="fdel" [(ngModel)]="params.fdel" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Al" name="fal" [(ngModel)]="params.fal" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Filtrar Por</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.fecha" required>\n                            <mat-option *ngFor="let campo of fechas" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Ordenar Por</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.orden">\n                            <mat-option *ngFor="let campo of orden" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <app-rpt-botones [configuracion]="configBotones" (excelClick)="getReporte()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>\n    </div>\n</div>\n'},Rflk:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>\n            Turno {{!!turno.turno ? (turno.inicio | date:\'dd/MM/yyyy HH:mm:ss\') : \'\'}}\n            <button mat-icon-button type="button" color="accent" (click)="showTurnoForm = true;" *ngIf="!showTurnoForm">\n                <mat-icon class="iconFontSize">expand_more</mat-icon>\n            </button>\n            <button mat-icon-button type="button" color="accent" (click)="showTurnoForm = false;" *ngIf="showTurnoForm">\n                <mat-icon class="iconFontSize">expand_less</mat-icon>\n            </button>\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmTurno="ngForm" *ngIf="showTurnoForm" (ngSubmit)="frmTurno.form.valid && onSubmit()" novalidate>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Tipo de turno</mat-label>\n                    <mat-select name="turno_tipo" [(ngModel)]="turno.turno_tipo" required>\n                        <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                            {{tt.descripcion}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input matInput type="datetime-locale" placeholder="Inicio" name="inicio" [(ngModel)]="turno.inicio" required>\n                    <button type="button" *ngIf="!turno.inicio" mat-button matSuffix mat-icon-button (click)="turno.inicio=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.inicio" matSuffix mat-icon-button aria-label="Clear" (click)="turno.inicio=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="phone" ng-virtual-keyboard-placeholder="Inicio" type="datetime-locale" placeholder="Inicio" name="inicio" [(ngModel)]="turno.inicio" required>\n                    <button type="button" *ngIf="!turno.inicio" mat-button matSuffix mat-icon-button (click)="turno.inicio=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.inicio" matSuffix mat-icon-button aria-label="Clear" (click)="turno.inicio=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>                    \n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input matInput type="datetime-locale" placeholder="Fin" name="fin" [(ngModel)]="turno.fin">\n                    <button type="button" *ngIf="!turno.fin" mat-button matSuffix mat-icon-button (click)="turno.fin=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.fin" matSuffix mat-icon-button aria-label="Clear" (click)="turno.fin=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="phone" ng-virtual-keyboard-placeholder="Fin" type="datetime-locale" placeholder="Fin" name="fin" [(ngModel)]="turno.fin">\n                    <button type="button" *ngIf="!turno.fin" mat-button matSuffix mat-icon-button (click)="turno.fin=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.fin" matSuffix mat-icon-button aria-label="Clear" (click)="turno.fin=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>                    \n                </mat-form-field>\n            </div>\n            <div role="group" align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmTurno.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetTurno()" *ngIf="turno.turno">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>\n<hr *ngIf="turno.turno" />\n<mat-card class="mat-elevation-z4 fullWidth" *ngIf="turno.turno">\n    <mat-card-title>\n        <h4>\n            Detalle del turno {{turno.inicio | date:\'dd/MM/yyyy HH:mm:ss\'}}\n            <button mat-icon-button type="button" color="accent" (click)="showDetalleTurnoForm = true;" *ngIf="!showDetalleTurnoForm">\n                <mat-icon class="iconFontSize">expand_more</mat-icon>\n            </button>\n            <button mat-icon-button type="button" color="accent" (click)="showDetalleTurnoForm = false;" *ngIf="showDetalleTurnoForm">\n                <mat-icon class="iconFontSize">expand_less</mat-icon>\n            </button>\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmDetalleTurno="ngForm" *ngIf="showDetalleTurnoForm" (ngSubmit)="frmDetalleTurno.form.valid && onSubmitDetail()" novalidate>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Tipo</mat-label>\n                    <mat-select name="usuario_tipo" [(ngModel)]="detalleTurno.usuario_tipo" required>\n                        <mat-option *ngFor="let tu of tiposUsuario" [value]="tu.usuario_tipo">\n                            {{tu.descripcion}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Usuario</mat-label>\n                    <mat-select name="usuario" [(ngModel)]="detalleTurno.usuario" required>\n                        <mat-option *ngFor="let u of usuarios" [value]="u.usuario">\n                            {{u.nombres}} {{u.apellidos}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="btn-group d-flex justify-content-end" role="group">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmDetalleTurno.form.valid || !!turno.fin">\n                    Guardar\n                </button>\n                \x3c!--\n                <button mat-icon-button type="button" color="accent" (click)="resetDetalleIngreso()"\n                    *ngIf="detalleTurno.ingreso_detalle">\n                    <mat-icon>add</mat-icon>\n                </button>\n                --\x3e\n            </div>\n        </form>\n        <hr *ngIf="detallesTurno.length > 0"/>\n        <table mat-table [dataSource]="dataSource" class="mat-elevation-z4 full-width" *ngIf="detallesTurno.length > 0">\n            <ng-container matColumnDef="usuario_tipo">\n                <th mat-header-cell *matHeaderCellDef>Tipo</th>\n                <td mat-cell *matCellDef="let element" class="text-wrap">{{element.usuario_tipo.descripcion}}</td>\n            </ng-container>\n            <ng-container matColumnDef="usuario">\n                <th mat-header-cell *matHeaderCellDef class="text-right">Usuario</th>\n                <td mat-cell *matCellDef="let element" class="text-right">{{element.usuario.nombres}} {{element.usuario.apellidos}}</td>\n            </ng-container>\n            <ng-container matColumnDef="editItem">\n                <th mat-header-cell *matHeaderCellDef>&nbsp;</th>\n                <td mat-cell *matCellDef="let element" class="text-wrap">\n                    <button mat-raised-button type="button" color="accent" (click)="anularDetalleTurno(element)" [disabled]="!!turno.fin">\n                        Anular\n                    </button>\n                </td>\n            </ng-container>\n            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n            <tr mat-row *matRowDef="let row; columns: displayedColumns;">\n            </tr>\n        </table>\n    </mat-card-content>\n</mat-card>'},RgUP:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de facturas</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptFactura="ngForm" novalidate>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-checkbox name="traslado" class="fullWidth" [(ngModel)]="+params._detalle">Mostrar Detalle</mat-checkbox>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>\n'},TRt2:function(t,e,n){"use strict";n.r(e),e.default=".full-width {\n    width: 100%;\n}"},TaTT:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-header>\n        <mat-card-title>Reporte de ventas</mat-card-title>\n        <mat-card-subtitle>\n            Por artículo<br />\n            Del {{params.fdel | date:\'dd/MM/yyyy\'}} al {{params.fal | date:\'dd/MM/yyyy\'}}\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n        <table class="tbl">\n            <thead>\n                <tr>\n                    <th class="brdTSingleBSingle">Descripción</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Cantidad</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Total</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor="let art of data">\n                    <tr>\n                        <td class="doubleTab brdBSingle">{{art.articulo.descripcion}}</td>\n                        <td class="rtxt numWidth brdBSingle">{{art.cantidad | number:\'1.2-2\'}}</td>\n                        <td class="rtxt numWidth brdBSingle">{{art.total | number:\'1.2-2\'}}</td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </mat-card-content>\n    \x3c!--\n    <mat-card-footer>\n    </mat-card-footer>\n    --\x3e\n</mat-card>'},X00p:function(t,e,n){"use strict";n.r(e),e.default=""},YC1U:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-turno-tipo #lstTurno (getTurnoEv)="setTurno($event)"></app-lista-turno-tipo>\n    </div>\n    <div class="col m7 s12">\n        <app-form-turno-tipo #frmTurno [turno]="turno" (turnoSavedEv)="refreshTurnoList()"></app-form-turno-tipo>\n    </div>\n</div>'},Z8zX:function(t,e,n){"use strict";n.r(e),e.default=""},ZtfH:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Reporte de ventas</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" (ngSubmit)="frmEntidad.form.valid && onSubmit()" novalidate>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Tipo</mat-label>\n                        <mat-select name="tipo_reporte" [(ngModel)]="params.tipo_reporte" required>\n                            <mat-option *ngFor="let tr of tiposReporte" [value]="tr.tipo_reporte">\n                                {{tr.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Tipo de turno</mat-label>\n                        <mat-select name="turno_tipo" [(ngModel)]="params.turno_tipo">\n                            <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                                {{tt.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Del" name="fdel" [(ngModel)]="params.fdel" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Al" name="fal" [(ngModel)]="params.fal" required>\n                    </mat-form-field>\n                    <app-rpt-botones [configuracion]="configBotones" (htmlClick)="getReporte(1)" (pdfClick)="getReporte(2)" (resetParamsClick)="resetParams()"></app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>\n    </div>\n</div>\n<div class="row" *ngIf="params.tipo_reporte === 1 && porCategoria.length > 0">\n    <div class="col m12 s12">\n        <app-por-categoria [params]="params" [data]="porCategoria"></app-por-categoria>\n    </div>\n</div>\n<div class="row" *ngIf="params.tipo_reporte === 2 && porArticulo.length > 0">\n    <div class="col m12 s12">\n        <app-por-articulo [params]="params" [data]="porArticulo"></app-por-articulo>\n    </div>\n</div>'},Zxss:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>\n            Tipo de Turno {{!!turno.turno_tipo ? turno.descripcion : \'\'}}\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmTurno="ngForm" (ngSubmit)="frmTurno.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth">\n                <input matInput type="text" placeholder="Descripción" name="descripcion" [(ngModel)]="turno.descripcion" required>\n            </mat-form-field>\n            <mat-checkbox name="activo" class="fullWidth" [(ngModel)]="+turno.activo">Activo</mat-checkbox>\n            <div align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmTurno.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetTurno()" *ngIf="turno.turno_tipo">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>'},cqsm:function(t,e,n){"use strict";n.r(e),e.default=""},dgKD:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">\n            <ng-container matColumnDef="comanda">\n                <th mat-header-cell *matHeaderCellDef>No.</th>\n                <td mat-cell *matCellDef="let element">{{element.comanda}} </td>\n            </ng-container>\n            <ng-container matColumnDef="orden">\n                <th mat-header-cell *matHeaderCellDef>Orden</th>\n                <td mat-cell *matCellDef="let element">{{element.origen_datos.numero_orden || \'\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="fechahora">\n                <th mat-header-cell *matHeaderCellDef>Fecha/Hora</th>\n                <td mat-cell *matCellDef="let element">{{(element.fhcreacion | date:\'dd/MM/yyyy HH:mm:ss\') || \'\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="nombre">\n                <th mat-header-cell *matHeaderCellDef>Cliente</th>\n                <td mat-cell *matCellDef="let element">{{element.cuentas[0].nombre}}</td>\n            </ng-container>\n            <ng-container matColumnDef="total">\n                <th mat-header-cell *matHeaderCellDef>Total</th>\n                <td mat-cell *matCellDef="let element">{{element.total | number: \'1.2-2\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="pdf">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">PDF</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="getPdf(element)">\n                        PDF\n                    </button>\n                </td>\n            </ng-container>\n            <ng-container matColumnDef="imprimir">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">Imprimir</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="imprimir(element)">\n                        Imprimir\n                    </button>\n                </td>\n            </ng-container>\n            <ng-container matColumnDef="facturar">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">Facturar</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="firmar(element)">\n                        Facturar\n                    </button>\n                </td>\n            </ng-container>\n\n            \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n            <ng-container matColumnDef="expandedDetail">\n                <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n                    <div class="example-element-detail" [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n                        <table style="width: 50%; background-color:#f5f5f5;">\n                            <caption>\n                                <h5>Detalle del pedido #{{element.comanda}}</h5>\n                                <h6 *ngIf="element.origen_datos.numero_orden">Orden #{{element.origen_datos.numero_orden}}</h6>\n                            </caption>\n                            <thead>\n                                <th>Producto</th>\n                                <th class="rtxt">Precio</th>\n                                <th class="rtxt">Total</th>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor="let det of element.cuentas[0].productos">\n                                    <td>{{det.cantidad}} {{det.articulo.descripcion}}</td>\n                                    <td class="rtxt">{{det.precio | number: \'1.2-2\'}}</td>\n                                    <td class="rtxt">{{det.total | number: \'1.2-2\'}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"\n                [class.example-expanded-row]="expandedElement === element"\n                (click)="expandedElement = expandedElement === element ? null : element">\n            </tr>\n            <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="example-detail-row"></tr>\n        </table>\n    </div>\n</div>'},doAD:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Reporte de Turnos</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" novalidate>\n                    <app-rpt-fechas [(fdel)]="params.fdel" [(fal)]="params.fal" [configuracion]="configParams"></app-rpt-fechas>\n                    <app-rpt-botones\n                        [configuracion]="configBotones"\n                        (htmlClick)="getReporte()"\n                        (pdfClick)="getReporte()"\n                        (excelClick)="getReporte()"\n                        (resetParamsClick)="resetParams()">\n                    </app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>                \n    </div>\n</div>\n'},dyZP:function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Configuración de mesa {{mesa.numero}}</h1>\n<div mat-dialog-content>\n    <form #frmConfigMesa="ngForm" novalidate>\n        <mat-form-field class="fullWidth">\n            <mat-label>Impresora</mat-label>\n            <mat-select name="impresora" [(ngModel)]="mesa.impresora">\n                <mat-option *ngFor="let imp of impresoras" [value]="imp.impresora">\n                    {{imp.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="guardarConfiguracion()" color="accent" [disabled]="!frmConfigMesa.form.valid">\n        Guardar        \n    </button>\n</div>\n'},eQgW:function(t,e,n){"use strict";n.r(e),e.default=""},hiO9:function(t,e,n){"use strict";n.r(e),e.default=".numWidth {\r\n    width: 10%;\r\n}\r\n\r\ntr {\r\n    border: none;\r\n}\r\n\r\nth, td {\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n}"},inSe:function(t,e,n){"use strict";n.r(e),e.default=""},k2MF:function(t,e,n){"use strict";n.r(e);var a=n("mrSG"),i=n("CcnG"),o=n("Ip0R"),r=n("t/Na"),s=n("gIcY"),c=n("PCNd"),l=n("vtFA"),d=n("qodq"),u=n("V9q+"),p=n("0/Q6"),m=n("SMsm"),h=n("seP3"),f=n("b716"),g=n("FVSy"),b=n("LC5p"),v=n("La40"),_=n("BHnd"),y=n("uGex"),C=n("de3e"),D=n("UodH"),w=n("vARd"),x=n("8mMr"),k=n("mVsa"),S=n("r43C"),O=n("4epT"),E=n("o3x0"),A=n("Nsh5"),I=n("K9Ia"),P=n("pugT"),T=n("p0ib"),j=n("F/XL"),R=n("t9fZ"),M=n("VnD/"),F=n("YSh2"),V=n("Wf4p"),N=n("Fzqc"),L=n("4c35"),z=n("ihYY"),B=n("n6gG"),U=n("eDkP"),H=n("lLAP");function Y(t){return Error("MatDatepicker: No provider found for "+t+". You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}var W=function(){function t(){this.changes=new I.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return t.prototype.formatYearRange=function(t,e){return t+" – "+e},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=Object(i["ɵɵdefineInjectable"])({factory:function(){return new t},token:t,providedIn:"root"}),t}(),q=function(t,e,n,a,i){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=a,this.cssClasses=i},G=function(){function t(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new i.EventEmitter}return t.prototype._cellClicked=function(t){t.enabled&&this.selectedValueChange.emit(t.value)},t.prototype.ngOnChanges=function(t){var e=t.numCols,n=this.rows,a=this.numCols;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?a-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/a+"%"),!e&&this._cellWidth||(this._cellWidth=100/a+"%")},t.prototype._isActiveCell=function(t,e){var n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell},t.prototype._focusActiveCell=function(){var t=this;this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe((function(){var e=t._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&e.focus()}))}))},t.decorators=[{type:i.Component,args:[{selector:"[mat-calendar-body]",template:'<tr *ngIf="_firstRowOffset < labelMinRequiredCells" aria-hidden="true"><td class="mat-calendar-body-label" [attr.colspan]="numCols" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{label}}</td></tr><tr *ngFor="let row of rows; let rowIndex = index" role="row"><td *ngIf="rowIndex === 0 && _firstRowOffset" aria-hidden="true" class="mat-calendar-body-label" [attr.colspan]="_firstRowOffset" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{_firstRowOffset >= labelMinRequiredCells ? label : \'\'}}</td><td *ngFor="let item of row; let colIndex = index" role="gridcell" class="mat-calendar-body-cell" [ngClass]="item.cssClasses" [tabindex]="_isActiveCell(rowIndex, colIndex) ? 0 : -1" [class.mat-calendar-body-disabled]="!item.enabled" [class.mat-calendar-body-active]="_isActiveCell(rowIndex, colIndex)" [attr.aria-label]="item.ariaLabel" [attr.aria-disabled]="!item.enabled || null" [attr.aria-selected]="selectedValue === item.value" (click)="_cellClicked(item)" [style.width]="_cellWidth" [style.paddingTop]="_cellPadding" role="button" [style.paddingBottom]="_cellPadding"><div class="mat-calendar-body-cell-content" [class.mat-calendar-body-selected]="selectedValue === item.value" [class.mat-calendar-body-today]="todayValue === item.value">{{item.displayValue}}</div></td></tr>',styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],host:{class:"mat-calendar-body",role:"grid","aria-readonly":"true"},exportAs:"matCalendarBody",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},t.propDecorators={label:[{type:i.Input}],rows:[{type:i.Input}],todayValue:[{type:i.Input}],selectedValue:[{type:i.Input}],labelMinRequiredCells:[{type:i.Input}],numCols:[{type:i.Input}],activeCell:[{type:i.Input}],cellAspectRatio:[{type:i.Input}],selectedValueChange:[{type:i.Output}]},t}(),Z=function(){function t(t,e,n,a){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=a,this.selectedChange=new i.EventEmitter,this._userSelection=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw Y("DateAdapter");if(!this._dateFormats)throw Y("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(t.prototype,"activeDate",{get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._init()},t.prototype._dateSelected=function(t){if(this._selectedDate!=t){var e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(a)}this._userSelection.emit()},t.prototype._handleCalendarBodyKeydown=function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case F.b:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case F.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case F.j:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case F.i:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case F.d:case F.l:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()},t.prototype._init=function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()},t.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},t.prototype._initWeekdays=function(){var t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((function(t,n){return{long:t,narrow:e[n]}}));this._weekdays=n.slice(t).concat(n.slice(0,t))},t.prototype._createWeekCells=function(){var t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,a=this._firstWeekOffset;n<t;n++,a++){7==a&&(this._weeks.push([]),a=0);var i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),o=this._shouldEnableDate(i),r=this._dateAdapter.format(i,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(i):void 0;this._weeks[this._weeks.length-1].push(new q(n+1,e[n],r,o,s))}},t.prototype._shouldEnableDate=function(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)},t.prototype._getDateInCurrentMonth=function(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null},t.prototype._hasSameMonthAndYear=function(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},t.decorators=[{type:i.Component,args:[{selector:"mat-month-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th scope="col" *ngFor="let day of _weekdays" [attr.aria-label]="day.long">{{day.narrow}}</th></tr><tr><th class="mat-calendar-table-header-divider" colspan="7" aria-hidden="true"></th></tr></thead><tbody mat-calendar-body [label]="_monthLabel" [rows]="_weeks" [todayValue]="_todayDate" [selectedValue]="_selectedDate" [labelMinRequiredCells]="3" [activeCell]="_dateAdapter.getDate(activeDate) - 1" (selectedValueChange)="_dateSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMonthView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}]},t.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],dateClass:[{type:i.Input}],selectedChange:[{type:i.Output}],_userSelection:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[G,{static:!1}]}]},t}(),$=24,K=function(){function t(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this.selectedChange=new i.EventEmitter,this.yearSelected=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw Y("DateAdapter");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(t.prototype,"activeDate",{get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),X(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._init()},t.prototype._init=function(){var t=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var e=this._dateAdapter.getYear(this._activeDate)-J(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,a=[];n<$;n++)a.push(e+n),4==a.length&&(this._years.push(a.map((function(e){return t._createCellForYear(e)}))),a=[]);this._changeDetectorRef.markForCheck()},t.prototype._yearSelected=function(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));var e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))},t.prototype._handleCalendarBodyKeydown=function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case F.b:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case F.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-J(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,$-J(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case F.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-$:-$);break;case F.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*$:$);break;case F.d:case F.l:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()},t.prototype._getActiveCell=function(){return J(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)},t.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},t.prototype._createCellForYear=function(t){var e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new q(t,e,e,this._shouldEnableYear(t))},t.prototype._shouldEnableYear=function(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},t.decorators=[{type:i.Component,args:[{selector:"mat-multi-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [rows]="_years" [todayValue]="_todayYear" [selectedValue]="_selectedYear" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_getActiveCell()" (selectedValueChange)="_yearSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMultiYearView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}]},t.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],selectedChange:[{type:i.Output}],yearSelected:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[G,{static:!1}]}]},t}();function X(t,e,n,a,i){var o=t.getYear(e),r=t.getYear(n),s=Q(t,a,i);return Math.floor((o-s)/$)===Math.floor((r-s)/$)}function J(t,e,n,a){var i,o=t.getYear(e);return((o-Q(t,n,a))%(i=$)+i)%i}function Q(t,e,n){var a=0;n?a=t.getYear(n)-$+1:e&&(a=t.getYear(e));return a}var tt=function(){function t(t,e,n,a){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=a,this.selectedChange=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw Y("DateAdapter");if(!this._dateFormats)throw Y("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(t.prototype,"activeDate",{get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._init()},t.prototype._monthSelected=function(t){var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);var n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))},t.prototype._handleCalendarBodyKeydown=function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case F.b:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case F.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case F.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case F.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case F.d:case F.l:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()},t.prototype._init=function(){var t=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map((function(n){return n.map((function(n){return t._createCellForMonth(n,e[n])}))})),this._changeDetectorRef.markForCheck()},t.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},t.prototype._getMonthInCurrentYear=function(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null},t.prototype._createCellForMonth=function(t,e){var n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new q(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))},t.prototype._shouldEnableMonth=function(t){var e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1},t.prototype._isYearAndMonthAfterMaxDate=function(t,e){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>a}return!1},t.prototype._isYearAndMonthBeforeMinDate=function(t,e){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<a}return!1},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},t.decorators=[{type:i.Component,args:[{selector:"mat-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [label]="_yearLabel" [rows]="_months" [todayValue]="_todayMonth" [selectedValue]="_selectedMonth" [labelMinRequiredCells]="2" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_dateAdapter.getMonth(activeDate)" (selectedValueChange)="_monthSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matYearView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}]},t.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],selectedChange:[{type:i.Output}],monthSelected:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[G,{static:!1}]}]},t}(),et=function(){function t(t,e,n,a,i){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=a,this.calendar.stateChanges.subscribe((function(){return i.markForCheck()}))}return Object.defineProperty(t.prototype,"periodButtonText",{get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var t=this._dateAdapter.getYear(this.calendar.activeDate)-J(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+$-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(n,a)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periodButtonLabel",{get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prevButtonLabel",{get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextButtonLabel",{get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]},enumerable:!0,configurable:!0}),t.prototype.currentPeriodClicked=function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"},t.prototype.previousClicked=function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-$)},t.prototype.nextClicked=function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:$)},t.prototype.previousEnabled=function(){return!this.calendar.minDate||(!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate))},t.prototype.nextEnabled=function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)},t.prototype._isSameView=function(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):X(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)},t.decorators=[{type:i.Component,args:[{selector:"mat-calendar-header",template:'<div class="mat-calendar-header"><div class="mat-calendar-controls"><button mat-button type="button" class="mat-calendar-period-button" (click)="currentPeriodClicked()" [attr.aria-label]="periodButtonLabel" cdkAriaLive="polite">{{periodButtonText}}<div class="mat-calendar-arrow" [class.mat-calendar-invert]="calendar.currentView != \'month\'"></div></button><div class="mat-calendar-spacer"></div><ng-content></ng-content><button mat-icon-button type="button" class="mat-calendar-previous-button" [disabled]="!previousEnabled()" (click)="previousClicked()" [attr.aria-label]="prevButtonLabel"></button> <button mat-icon-button type="button" class="mat-calendar-next-button" [disabled]="!nextEnabled()" (click)="nextClicked()" [attr.aria-label]="nextButtonLabel"></button></div></div>',exportAs:"matCalendarHeader",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:W},{type:nt,decorators:[{type:i.Inject,args:[Object(i.forwardRef)((function(){return nt}))]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:i.ChangeDetectorRef}]},t}(),nt=function(){function t(t,e,n,a){var o=this;if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new i.EventEmitter,this.yearSelected=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this._userSelection=new i.EventEmitter,this.stateChanges=new I.a,!this._dateAdapter)throw Y("DateAdapter");if(!this._dateFormats)throw Y("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe((function(){a.markForCheck(),o.stateChanges.next()}))}return Object.defineProperty(t.prototype,"startAt",{get:function(){return this._startAt},set:function(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeDate",{get:function(){return this._clampedActiveDate},set:function(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentView",{get:function(){return this._currentView},set:function(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._calendarHeaderPortal=new L.d(this.headerComponent||et),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView},t.prototype.ngAfterViewChecked=function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())},t.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()},t.prototype.ngOnChanges=function(t){var e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()},t.prototype.focusActiveCell=function(){this._getCurrentViewComponent()._focusActiveCell()},t.prototype.updateTodaysDate=function(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()},t.prototype._dateSelected=function(t){this._dateAdapter.sameDate(t,this.selected)||this.selectedChange.emit(t)},t.prototype._yearSelectedInMultiYearView=function(t){this.yearSelected.emit(t)},t.prototype._monthSelectedInYearView=function(t){this.monthSelected.emit(t)},t.prototype._userSelected=function(){this._userSelection.emit()},t.prototype._goToDateInView=function(t,e){this.activeDate=t,this.currentView=e},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.prototype._getCurrentViewComponent=function(){return this.monthView||this.yearView||this.multiYearView},t.decorators=[{type:i.Component,args:[{selector:"mat-calendar",template:'<ng-template [cdkPortalOutlet]="_calendarHeaderPortal"></ng-template><div class="mat-calendar-content" [ngSwitch]="currentView" cdkMonitorSubtreeFocus tabindex="-1"><mat-month-view *ngSwitchCase="\'month\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" [dateClass]="dateClass" (selectedChange)="_dateSelected($event)" (_userSelection)="_userSelected()"></mat-month-view><mat-year-view *ngSwitchCase="\'year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (monthSelected)="_monthSelectedInYearView($event)" (selectedChange)="_goToDateInView($event, \'month\')"></mat-year-view><mat-multi-year-view *ngSwitchCase="\'multi-year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (yearSelected)="_yearSelectedInMultiYearView($event)" (selectedChange)="_goToDateInView($event, \'year\')"></mat-multi-year-view></div>',styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],host:{class:"mat-calendar"},exportAs:"matCalendar",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:W},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:i.ChangeDetectorRef}]},t.propDecorators={headerComponent:[{type:i.Input}],startAt:[{type:i.Input}],startView:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],dateClass:[{type:i.Input}],selectedChange:[{type:i.Output}],yearSelected:[{type:i.Output}],monthSelected:[{type:i.Output}],_userSelection:[{type:i.Output}],monthView:[{type:i.ViewChild,args:[Z,{static:!1}]}],yearView:[{type:i.ViewChild,args:[tt,{static:!1}]}],multiYearView:[{type:i.ViewChild,args:[K,{static:!1}]}]},t}(),at={transformPanel:Object(z.n)("transformPanel",[Object(z.k)("void",Object(z.l)({opacity:0,transform:"scale(1, 0.8)"})),Object(z.m)("void => enter",Object(z.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(z.l)({opacity:1,transform:"scale(1, 1)"}))),Object(z.m)("* => void",Object(z.e)("100ms linear",Object(z.l)({opacity:0})))]),fadeInCalendar:Object(z.n)("fadeInCalendar",[Object(z.k)("void",Object(z.l)({opacity:0})),Object(z.k)("enter",Object(z.l)({opacity:1})),Object(z.m)("void => *",Object(z.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},it=0,ot=new i.InjectionToken("mat-datepicker-scroll-strategy");var rt={provide:ot,deps:[U.b],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},st=function(t){this._elementRef=t},ct=function(t){function e(e){return t.call(this,e)||this}return Object(a.d)(e,t),e.prototype.ngAfterViewInit=function(){this._calendar.focusActiveCell()},e.decorators=[{type:i.Component,args:[{selector:"mat-datepicker-content",template:'<mat-calendar cdkTrapFocus [id]="datepicker.id" [ngClass]="datepicker.panelClass" [startAt]="datepicker.startAt" [startView]="datepicker.startView" [minDate]="datepicker._minDate" [maxDate]="datepicker._maxDate" [dateFilter]="datepicker._dateFilter" [headerComponent]="datepicker.calendarHeaderComponent" [selected]="datepicker._selected" [dateClass]="datepicker.dateClass" [@fadeInCalendar]="\'enter\'" (selectedChange)="datepicker.select($event)" (yearSelected)="datepicker._selectYear($event)" (monthSelected)="datepicker._selectMonth($event)" (_userSelection)="datepicker.close()"></mat-calendar>',styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],host:{class:"mat-datepicker-content","[@transformPanel]":'"enter"',"[class.mat-datepicker-content-touch]":"datepicker.touchUi"},animations:[at.transformPanel,at.fadeInCalendar],exportAs:"matDatepickerContent",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,inputs:["color"]}]}],e.ctorParameters=function(){return[{type:i.ElementRef}]},e.propDecorators={_calendar:[{type:i.ViewChild,args:[nt,{static:!1}]}]},e}(Object(V.w)(st)),lt=function(){function t(t,e,n,a,o,r,s,c){if(this._dialog=t,this._overlay=e,this._ngZone=n,this._viewContainerRef=a,this._dateAdapter=r,this._dir=s,this._document=c,this.startView="month",this._touchUi=!1,this.yearSelected=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this.openedStream=new i.EventEmitter,this.closedStream=new i.EventEmitter,this._opened=!1,this.id="mat-datepicker-"+it++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=P.a.EMPTY,this._disabledChange=new I.a,this._selectedChanged=new I.a,!this._dateAdapter)throw Y("DateAdapter");this._scrollStrategy=o}return Object.defineProperty(t.prototype,"startAt",{get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)},set:function(t){this._color=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touchUi",{get:function(){return this._touchUi},set:function(t){this._touchUi=Object(B.c)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(t){var e=Object(B.c)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},set:function(t){t?this.open():this.close()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_selected",{get:function(){return this._validSelected},set:function(t){this._validSelected=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_minDate",{get:function(){return this._datepickerInput&&this._datepickerInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_maxDate",{get:function(){return this._datepickerInput&&this._datepickerInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_dateFilter",{get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)},t.prototype.select=function(t){var e=this._selected;this._selected=t,this._dateAdapter.sameDate(e,this._selected)||this._selectedChanged.next(t)},t.prototype._selectYear=function(t){this.yearSelected.emit(t)},t.prototype._selectMonth=function(t){this.monthSelected.emit(t)},t.prototype._registerInput=function(t){var e=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=t,this._inputSubscription=this._datepickerInput._valueChange.subscribe((function(t){return e._selected=t}))},t.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}},t.prototype.close=function(){var t=this;if(this._opened){this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();var e=function(){t._opened&&(t._opened=!1,t.closedStream.emit(),t._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}},t.prototype._openAsDialog=function(){var t=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(ct,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe((function(){return t.close()})),this._dialogRef.componentInstance.datepicker=this,this._setColor()},t.prototype._openAsPopup=function(){var t=this;this._calendarPortal||(this._calendarPortal=new L.d(ct,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._setColor(),this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe((function(){t._popupRef.updatePosition()})))},t.prototype._createPopup=function(){var t=this,e=new U.c({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(T.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(M.a)((function(e){return e.keyCode===F.e||t._datepickerInput&&e.altKey&&e.keyCode===F.n})))).subscribe((function(e){e&&e.preventDefault(),t.close()}))},t.prototype._createPopupPositionStrategy=function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.prototype._setColor=function(){var t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)},t.decorators=[{type:i.Component,args:[{selector:"mat-datepicker",template:"",exportAs:"matDatepicker",changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:E.b},{type:U.b},{type:i.NgZone},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[ot]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[o.DOCUMENT]}]}]},t.propDecorators={calendarHeaderComponent:[{type:i.Input}],startAt:[{type:i.Input}],startView:[{type:i.Input}],color:[{type:i.Input}],touchUi:[{type:i.Input}],disabled:[{type:i.Input}],yearSelected:[{type:i.Output}],monthSelected:[{type:i.Output}],panelClass:[{type:i.Input}],dateClass:[{type:i.Input}],openedStream:[{type:i.Output,args:["opened"]}],closedStream:[{type:i.Output,args:["closed"]}],opened:[{type:i.Input}]},t}(),dt={provide:s.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return mt})),multi:!0},ut={provide:s.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return mt})),multi:!0},pt=function(t,e){this.target=t,this.targetElement=e,this.value=this.target.value},mt=function(){function t(t,e,n,a){var o=this;if(this._elementRef=t,this._dateAdapter=e,this._dateFormats=n,this._formField=a,this.dateChange=new i.EventEmitter,this.dateInput=new i.EventEmitter,this._valueChange=new i.EventEmitter,this._disabledChange=new i.EventEmitter,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=P.a.EMPTY,this._localeSubscription=P.a.EMPTY,this._parseValidator=function(){return o._lastValueValid?null:{matDatepickerParse:{text:o._elementRef.nativeElement.value}}},this._minValidator=function(t){var e=o._getValidDateOrNull(o._dateAdapter.deserialize(t.value));return!o.min||!e||o._dateAdapter.compareDate(o.min,e)<=0?null:{matDatepickerMin:{min:o.min,actual:e}}},this._maxValidator=function(t){var e=o._getValidDateOrNull(o._dateAdapter.deserialize(t.value));return!o.max||!e||o._dateAdapter.compareDate(o.max,e)>=0?null:{matDatepickerMax:{max:o.max,actual:e}}},this._filterValidator=function(t){var e=o._getValidDateOrNull(o._dateAdapter.deserialize(t.value));return o._dateFilter&&e&&!o._dateFilter(e)?{matDatepickerFilter:!0}:null},this._validator=s.Validators.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw Y("DateAdapter");if(!this._dateFormats)throw Y("MAT_DATE_FORMATS");this._localeSubscription=e.localeChanges.subscribe((function(){o.value=o.value}))}return Object.defineProperty(t.prototype,"matDatepicker",{set:function(t){var e=this;t&&(this._datepicker=t,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe((function(t){e.value=t,e._cvaOnChange(t),e._onTouched(),e.dateInput.emit(new pt(e,e._elementRef.nativeElement)),e.dateChange.emit(new pt(e,e._elementRef.nativeElement))})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matDatepickerFilter",{set:function(t){this._dateFilter=t,this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);var e=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this._disabled},set:function(t){var e=Object(B.c)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&n.blur&&n.blur()},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()},t.prototype.registerOnValidatorChange=function(t){this._validatorOnChange=t},t.prototype.validate=function(t){return this._validator?this._validator(t):null},t.prototype.getPopupConnectionElementRef=function(){return this.getConnectedOverlayOrigin()},t.prototype.getConnectedOverlayOrigin=function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this._cvaOnChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype._onKeydown=function(t){var e=t.altKey&&t.keyCode===F.b;this._datepicker&&e&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),t.preventDefault())},t.prototype._onInput=function(t){var e=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e),this._dateAdapter.sameDate(e,this._value)?this._validatorOnChange():(this._value=e,this._cvaOnChange(e),this._valueChange.emit(e),this.dateInput.emit(new pt(this,this._elementRef.nativeElement)))},t.prototype._onChange=function(){this.dateChange.emit(new pt(this,this._elementRef.nativeElement))},t.prototype._getThemePalette=function(){return this._formField?this._formField.color:void 0},t.prototype._onBlur=function(){this.value&&this._formatValue(this.value),this._onTouched()},t.prototype._formatValue=function(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""},t.prototype._getValidDateOrNull=function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null},t.decorators=[{type:i.Directive,args:[{selector:"input[matDatepicker]",providers:[dt,ut,{provide:f.a,useExisting:t}],host:{"[attr.aria-haspopup]":'_datepicker ? "dialog" : null',"[attr.aria-owns]":"(_datepicker?.opened && _datepicker.id) || null","[attr.min]":"min ? _dateAdapter.toIso8601(min) : null","[attr.max]":"max ? _dateAdapter.toIso8601(max) : null","[disabled]":"disabled","(input)":"_onInput($event.target.value)","(change)":"_onChange()","(blur)":"_onBlur()","(keydown)":"_onKeydown($event)"},exportAs:"matDatepickerInput"}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:h.a,decorators:[{type:i.Optional}]}]},t.propDecorators={matDatepicker:[{type:i.Input}],matDatepickerFilter:[{type:i.Input}],value:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],disabled:[{type:i.Input}],dateChange:[{type:i.Output}],dateInput:[{type:i.Output}]},t}(),ht=function(){function t(){}return t.decorators=[{type:i.Directive,args:[{selector:"[matDatepickerToggleIcon]"}]}],t}(),ft=function(){function t(t,e,n){this._intl=t,this._changeDetectorRef=e,this._stateChanges=P.a.EMPTY;var a=Number(n);this.tabIndex=a||0===a?a:null}return Object.defineProperty(t.prototype,"disabled",{get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(t){this._disabled=Object(B.c)(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){t.datepicker&&this._watchStateChanges()},t.prototype.ngOnDestroy=function(){this._stateChanges.unsubscribe()},t.prototype.ngAfterContentInit=function(){this._watchStateChanges()},t.prototype._open=function(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())},t.prototype._watchStateChanges=function(){var t=this,e=this.datepicker?this.datepicker._disabledChange:Object(j.a)(),n=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(j.a)(),a=this.datepicker?Object(T.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(j.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(T.a)(this._intl.changes,e,n,a).subscribe((function(){return t._changeDetectorRef.markForCheck()}))},t.decorators=[{type:i.Component,args:[{selector:"mat-datepicker-toggle",template:'<button #button mat-icon-button type="button" [attr.aria-haspopup]="datepicker ? \'dialog\' : null" [attr.aria-label]="_intl.openCalendarLabel" [attr.tabindex]="disabled ? -1 : tabIndex" [disabled]="disabled" [disableRipple]="disableRipple" (click)="_open($event)"><svg *ngIf="!_customIcon" class="mat-datepicker-toggle-default-icon" viewBox="0 0 24 24" width="24px" height="24px" fill="currentColor" focusable="false"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg><ng-content select="[matDatepickerToggleIcon]"></ng-content></button>',styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}"],host:{class:"mat-datepicker-toggle","[attr.tabindex]":"-1","[class.mat-datepicker-toggle-active]":"datepicker && datepicker.opened","[class.mat-accent]":'datepicker && datepicker.color === "accent"',"[class.mat-warn]":'datepicker && datepicker.color === "warn"',"(focus)":"_button.focus()"},exportAs:"matDatepickerToggle",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:W},{type:i.ChangeDetectorRef},{type:String,decorators:[{type:i.Attribute,args:["tabindex"]}]}]},t.propDecorators={datepicker:[{type:i.Input,args:["for"]}],tabIndex:[{type:i.Input}],disabled:[{type:i.Input}],disableRipple:[{type:i.Input}],_customIcon:[{type:i.ContentChild,args:[ht,{static:!1}]}],_button:[{type:i.ViewChild,args:["button",{static:!1}]}]},t}(),gt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[o.CommonModule,D.b,E.c,U.e,H.a,L.i],exports:[nt,G,lt,ct,mt,ft,ht,Z,tt,K,et],declarations:[nt,G,lt,ct,mt,ft,ht,Z,tt,K,et],providers:[W,rt],entryComponents:[ct,et]}]}],t}(),bt=n("dWZg"),vt=n("6blF"),_t=n("T1DM"),yt=n("/21U");function Ct(t){var e=t.subscriber,n=t.counter,a=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:a},a)}var Dt=n("tHPV"),wt=n("p0Sj"),xt=n("ny24"),kt=n("67Y/"),St=n("xMyE"),Ot=n("15JJ"),Et=n("qAlS");function At(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function It(t,e){var n=e?"":"none";At(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Pt(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Tt(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}var jt=Object(bt.g)({passive:!0}),Rt=Object(bt.g)({passive:!1}),Mt=function(){function t(t,e,n,a,i,o){var r=this;this._config=e,this._document=n,this._ngZone=a,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new I.a,this._pointerMoveSubscription=P.a.EMPTY,this._pointerUpSubscription=P.a.EMPTY,this._scrollSubscription=P.a.EMPTY,this._resizeSubscription=P.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I.a,this.started=new I.a,this.released=new I.a,this.ended=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(r.beforeStarted.next(),r._handles.length){var e=r._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||r._disabledHandles.has(e)||r.disabled||r._initializeDragSequence(e,t)}else r.disabled||r._initializeDragSequence(r._rootElement,t)},this._pointerMove=function(t){if(r._hasStartedDragging){r._boundaryElement&&(r._previewRect&&(r._previewRect.width||r._previewRect.height)||(r._previewRect=(r._preview||r._rootElement).getBoundingClientRect()));var e=r._getConstrainedPointerPosition(t);if(r._hasMoved=!0,t.preventDefault(),r._updatePointerDirectionDelta(e),r._dropContainer)r._updateActiveDropContainer(e);else{var n=r._activeTransform;if(n.x=e.x-r._pickupPositionOnPage.x+r._passiveTransform.x,n.y=e.y-r._pickupPositionOnPage.y+r._passiveTransform.y,r._applyRootElementTransform(n.x,n.y),"undefined"!=typeof SVGElement&&r._rootElement instanceof SVGElement){var a="translate("+n.x+" "+n.y+")";r._rootElement.setAttribute("transform",a)}}r._moveEvents.observers.length&&r._ngZone.run((function(){r._moveEvents.next({source:r,pointerPosition:e,event:t,distance:r._getDragDistance(e),delta:r._pointerDirectionDelta})}))}else{var i=r._getPointerPositionOnPage(t);if(Math.abs(i.x-r._pickupPositionOnPage.x)+Math.abs(i.y-r._pickupPositionOnPage.y)>=r._config.dragStartThreshold){if(!(Date.now()>=r._dragStartTime+(r.dragStartDelay||0)))return void r._endDragSequence(t);r._dropContainer&&r._dropContainer.isDragging()||(r._hasStartedDragging=!0,r._ngZone.run((function(){return r._startDragSequence(t)})))}}},this._pointerUp=function(t){r._endDragSequence(t)},this.withRootElement(t),o.registerDragItem(this)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(B.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._placeholder},t.prototype.getRootElement=function(){return this._rootElement},t.prototype.withHandles=function(t){return this._handles=t.map((function(t){return Object(B.e)(t)})),this._handles.forEach((function(t){return It(t,!1)})),this._toggleNativeDragInteractions(),this},t.prototype.withPreviewTemplate=function(t){return this._previewTemplate=t,this},t.prototype.withPlaceholderTemplate=function(t){return this._placeholderTemplate=t,this},t.prototype.withRootElement=function(t){var e=Object(B.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,Rt),e.addEventListener("touchstart",this._pointerDown,jt),this._initialTransform=void 0,this._rootElement=e),this},t.prototype.withBoundaryElement=function(t){var e=this;return this._boundaryElement=t?Object(B.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this},t.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Lt(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null},t.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},t.prototype.reset=function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},t.prototype.disableHandle=function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)},t.prototype.enableHandle=function(t){this._disabledHandles.delete(t)},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype._withDropContainer=function(t){this._dropContainer=t},t.prototype.getFreeDragPosition=function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}},t.prototype.setFreeDragPosition=function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this},t.prototype._sortFromLastPointerPosition=function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)},t.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()},t.prototype._destroyPreview=function(){this._preview&&Lt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},t.prototype._destroyPlaceholder=function(){this._placeholder&&Lt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},t.prototype._endDragSequence=function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))},t.prototype._startDragSequence=function(t){if(this.started.next({source:this}),zt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){var e=this._rootElement;this._nextSibling=e.nextSibling;var n=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(a,e)),(i=this._document,i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body).appendChild(n),this._dropContainer.start()}var i},t.prototype._initializeDragSequence=function(t,e){var n=this;e.stopPropagation();var a=this.isDragging(),i=zt(e),o=!i&&0!==e.button,r=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(a||o||s)){this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor,r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object(wt.a)(null)).subscribe((function(){n._scrollPosition=n._viewportRuler.getViewportScrollPosition()})),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}},t.prototype._cleanupDragArtifacts=function(t){var e=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):Object(B.e)(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,a=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),r=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:a,previousIndex:e._initialContainer.getItemIndex(e),container:n,previousContainer:e._initialContainer,isPointerOverContainer:r,distance:o}),n.drop(e,a,e._initialContainer,r,o),e._dropContainer=e._initialContainer}))},t.prototype._updateActiveDropContainer=function(t){var e=this,n=t.x,a=t.y,i=this._initialContainer._getSiblingContainerFromPosition(this,n,a);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,a)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=i,e._dropContainer.enter(e,n,a),e.entered.next({item:e,container:i,currentIndex:i.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,a),this._dropContainer._sortItem(this,n,a,this._pointerDirectionDelta),this._preview.style.transform=Ft(n-this._pickupPositionInElement.x,a-this._pickupPositionInElement.y)},t.prototype._createPreviewElement=function(){var t,e=this._previewTemplate,n=e?e.template:null;if(n){var a=e.viewContainer.createEmbeddedView(n,e.context);t=Bt(a,this._document),this._previewRef=a,t.style.transform=Ft(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var i=this._rootElement,o=i.getBoundingClientRect();(t=Vt(i)).style.width=o.width+"px",t.style.height=o.height+"px",t.style.transform=Ft(o.left,o.top)}return At(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),It(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),t},t.prototype._animatePreviewToPlaceholder=function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Ft(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=Tt(e,"transition-property"),a=n.find((function(t){return"transform"===t||"all"===t}));if(!a)return 0;var i=n.indexOf(a),o=Tt(e,"transition-duration"),r=Tt(e,"transition-delay");return Pt(o[i])+Pt(r[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var a=function(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",a),e(),clearTimeout(i))},i=setTimeout(a,1.5*n);t._preview.addEventListener("transitionend",a)}))}))},t.prototype._createPlaceholderElement=function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),t=Bt(this._placeholderRef,this._document)):t=Vt(this._rootElement),t.classList.add("cdk-drag-placeholder"),t},t.prototype._getPointerPositionInElement=function(t,e){var n=this._rootElement.getBoundingClientRect(),a=t===this._rootElement?null:t,i=a?a.getBoundingClientRect():n,o=zt(e)?e.targetTouches[0]:e,r=o.pageX-i.left-this._scrollPosition.left,s=o.pageY-i.top-this._scrollPosition.top;return{x:i.left-n.left+r,y:i.top-n.top+s}},t.prototype._getPointerPositionOnPage=function(t){var e=zt(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}},t.prototype._getConstrainedPointerPosition=function(t){var e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,a=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===a?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==a||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){var i=this._pickupPositionInElement,o=i.x,r=i.y,s=this._boundaryRect,c=this._previewRect,l=s.top+r,d=s.bottom-(c.height-r),u=s.left+o,p=s.right-(c.width-o);n.x=Nt(n.x,u,p),n.y=Nt(n.y,l,d)}return n},t.prototype._updatePointerDirectionDelta=function(t){var e=t.x,n=t.y,a=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),r=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(a.x=e>i.x?1:-1,i.x=e),r>this._config.pointerDirectionChangeThreshold&&(a.y=n>i.y?1:-1,i.y=n),a},t.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,It(this._rootElement,t))}},t.prototype._removeRootElementListeners=function(t){t.removeEventListener("mousedown",this._pointerDown,Rt),t.removeEventListener("touchstart",this._pointerDown,jt)},t.prototype._applyRootElementTransform=function(t,e){var n=Ft(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n},t.prototype._getDragDistance=function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}},t.prototype._cleanupCachedDimensions=function(){this._boundaryRect=this._previewRect=void 0},t.prototype._containInsideBoundaryOnResize=function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var a=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),o=a.left-i.left,r=i.right-a.right,s=a.top-i.top,c=i.bottom-a.bottom;a.width>i.width?(o>0&&(e+=o),r>0&&(e-=r)):e=0,a.height>i.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}},t}();function Ft(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function Vt(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),a=t.querySelectorAll("canvas");e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");if(a.length){var o=e.querySelectorAll("canvas");for(i=0;i<a.length;i++){var r=o[i].getContext("2d");r&&r.drawImage(a[i],0,0)}}return e}function Nt(t,e,n){return Math.max(e,Math.min(n,t))}function Lt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function zt(t){return"t"===t.type[0]}function Bt(t,e){var n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){var a=e.createElement("div");return a.appendChild(n),a}return n}function Ut(t,e){return Math.max(0,Math.min(e,t))}var Ht=0,Yt=.05,Wt=2,qt=function(){function t(t,e,n,a,i){var o=this;this._dragDropRegistry=e,this._ngZone=a,this._viewportRuler=i,this.id="cdk-drop-list-ref-"+Ht++,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.sorted=new I.a,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=P.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I.a,this._handleScroll=function(){if(o.isDragging()){var t=Object(B.e)(o.element);o._updateAfterScroll(o._scrollPosition,t.scrollTop,t.scrollLeft)}},this._startScrollInterval=function(){var t,e;o._stopScrolling(),(t=0,e=Dt.a,void 0===t&&(t=0),void 0===e&&(e=_t.a),(!Object(yt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=_t.a),new vt.a((function(n){return n.add(e.schedule(Ct,t,{subscriber:n,counter:0,period:t})),n}))).pipe(Object(xt.a)(o._stopScrollTimers)).subscribe((function(){var t=o._scrollNode;1===o._verticalScrollDirection?Xt(t,-Wt):2===o._verticalScrollDirection&&Xt(t,Wt),1===o._horizontalScrollDirection?Jt(t,-Wt):2===o._horizontalScrollDirection&&Jt(t,Wt)}))};var r=this.element=Object(B.e)(t);this._shadowRoot=function(t){if(Object(bt.d)()){var e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(r)||n,e.registerDropContainer(this)}return t.prototype.dispose=function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)},t.prototype.isDragging=function(){return this._isDragging},t.prototype.start=function(){var t=this,e=Object(B.e)(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular((function(){return e.addEventListener("scroll",t._handleScroll)})):e.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()},t.prototype.enter=function(t,e,n){this.start();var a=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===a&&(a=this._getItemIndexFromPointerPosition(t,e,n));var i=this._activeDraggables,o=i.indexOf(t),r=t.getPlaceholderElement(),s=i[a];if(s===t&&(s=i[a+1]),o>-1&&i.splice(o,1),s&&!this._dragDropRegistry.isDragging(s)){var c=s.getRootElement();c.parentElement.insertBefore(r,c),i.splice(a,0,t)}else Object(B.e)(this.element).appendChild(r),i.push(t);r.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})},t.prototype.exit=function(t){this._reset(),this.exited.next({item:t,container:this})},t.prototype.drop=function(t,e,n,a,i){void 0===i&&(i={x:0,y:0}),this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:a,distance:i})},t.prototype.withItems=function(t){var e=this;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&this._cacheItems(),this},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype.connectedTo=function(t){return this._siblings=t.slice(),this},t.prototype.withOrientation=function(t){return this._orientation=t,this},t.prototype.getItemIndex=function(t){return this._isDragging?Zt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)},t.prototype.isReceiving=function(){return this._activeSiblings.size>0},t.prototype._sortItem=function(t,e,n,a){if(!this.sortingDisabled&&this._isPointerNearDropContainer(e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,a);if(!(-1===o&&i.length>0)){var r="horizontal"===this._orientation,s=Zt(i,(function(e){return e.drag===t})),c=i[o],l=i[s].clientRect,d=c.clientRect,u=s>o?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=r?a.x:a.y;var p=this._getItemOffsetPx(l,d,u),m=this._getSiblingOffsetPx(s,i,u),h=i.slice();!function(t,e,n){var a=Ut(e,t.length-1),i=Ut(n,t.length-1);if(a!==i){for(var o=t[a],r=i<a?-1:1,s=a;s!==i;s+=r)t[s]=t[s+r];t[i]=o}}(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach((function(e,n){if(h[n]!==e){var a=e.drag===t,i=a?p:m,o=a?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,r?(o.style.transform="translate3d("+Math.round(e.offset)+"px, 0, 0)",Gt(e.clientRect,0,i)):(o.style.transform="translate3d(0, "+Math.round(e.offset)+"px, 0)",Gt(e.clientRect,i,0))}}))}}},t.prototype._startScrollingIfNecessary=function(t,e){var n;if(!this.autoScrollDisabled){var a,i=0,o=0;if(this._isPointerNearDropContainer(t,e)){var r=Object(B.e)(this.element);n=function(t,e,n,a){var i=Qt(e,a),o=te(e,n),r=0,s=0;if(i){var c=t.scrollTop;1===i?c>0&&(r=1):t.scrollHeight-c>t.clientHeight&&(r=2)}if(o){var l=t.scrollLeft;1===o?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[r,s]}(r,this._clientRect,t,e),i=n[0],o=n[1],(i||o)&&(a=r)}if(this._viewportRuler&&!i&&!o){var s=this._viewportRuler.getViewportSize(),c=s.width,l=s.height,d={width:c,height:l,top:0,right:c,bottom:l,left:0};i=Qt(d,e),o=te(d,t),a=window}!a||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&a===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=a,(i||o)&&a?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}},t.prototype._stopScrolling=function(){this._stopScrollTimers.next()},t.prototype._cacheOwnPosition=function(){var t=Object(B.e)(this.element);this._clientRect=Kt(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}},t.prototype._cacheItemPositions=function(){var t=this,e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(e){var n=t._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement();return{drag:e,offset:0,clientRect:Kt(n)}})).sort((function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top}))},t.prototype._reset=function(){var t=this;this._isDragging=!1,this._activeDraggables.forEach((function(t){return t.getRootElement().style.transform=""})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()},t.prototype._getSiblingOffsetPx=function(t,e,n){var a="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],r=i[a?"width":"height"]*n;if(o){var s=a?"left":"top",c=a?"right":"bottom";-1===n?r-=o.clientRect[s]-i[c]:r+=i[s]-o.clientRect[c]}return r},t.prototype._isPointerNearDropContainer=function(t,e){var n=this._clientRect,a=n.top,i=n.right,o=n.bottom,r=n.left,s=.05*n.width,c=.05*n.height;return e>a-c&&e<o+c&&t>r-s&&t<i+s},t.prototype._getItemOffsetPx=function(t,e,n){var a="horizontal"===this._orientation,i=a?e.left-t.left:e.top-t.top;return-1===n&&(i+=a?e.width-t.width:e.height-t.height),i},t.prototype._getItemIndexFromPointerPosition=function(t,e,n,a){var i=this,o="horizontal"===this._orientation;return Zt(this._itemPositions,(function(r,s,c){var l=r.drag,d=r.clientRect;if(l===t)return c.length<2;if(a){var u=o?a.x:a.y;if(l===i._previousSwap.drag&&u===i._previousSwap.delta)return!1}return o?e>=Math.floor(d.left)&&e<=Math.floor(d.right):n>=Math.floor(d.top)&&n<=Math.floor(d.bottom)}))},t.prototype._cacheItems=function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()},t.prototype._updateAfterScroll=function(t,e,n,a){var i=this,o=t.top-e,r=t.left-n;a&&Gt(a,o,r),this._itemPositions.forEach((function(t){Gt(t.clientRect,o,r)})),this._itemPositions.forEach((function(t){var e=t.drag;i._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})),t.top=e,t.left=n},t.prototype._removeListeners=function(){Object(B.e)(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()},t.prototype._isOverContainer=function(t,e){return $t(this._clientRect,t,e)},t.prototype._getSiblingContainerFromPosition=function(t,e,n){return this._siblings.find((function(a){return a._canReceive(t,e,n)}))},t.prototype._canReceive=function(t,e,n){if(!this.enterPredicate(t,this)||!$t(this._clientRect,e,n))return!1;var a=this._shadowRoot.elementFromPoint(e,n);if(!a)return!1;var i=Object(B.e)(this.element);return a===i||i.contains(a)},t.prototype._startReceiving=function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())},t.prototype._stopReceiving=function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()},t.prototype._listenToScrollEvents=function(){var t=this;this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(){if(t.isDragging()){var e=t._viewportRuler.getViewportScrollPosition();t._updateAfterScroll(t._viewportScrollPosition,e.top,e.left,t._clientRect)}else t.isReceiving()&&t._cacheOwnPosition()}))},t}();function Gt(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Zt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function $t(t,e,n){var a=t.top,i=t.bottom,o=t.left,r=t.right;return n>=a&&n<=i&&e>=o&&e<=r}function Kt(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Xt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Jt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Qt(t,e){var n=t.top,a=t.bottom,i=t.height*Yt;return e>=n-i&&e<=n+i?1:e>=a-i&&e<=a+i?2:0}function te(t,e){var n=t.left,a=t.right,i=t.width*Yt;return e>=n-i&&e<=n+i?1:e>=a-i&&e<=a+i?2:0}var ee=Object(bt.g)({passive:!1,capture:!0}),ne=function(){function t(t,e){var n=this;this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new I.a,this.pointerUp=new I.a,this.scroll=new I.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=e}return t.prototype.registerDropContainer=function(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error('Drop instance with id "'+t.id+'" has already been registered.');this._dropInstances.add(t)}},t.prototype.registerDragItem=function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,ee)}))},t.prototype.removeDropContainer=function(t){this._dropInstances.delete(t)},t.prototype.removeDragItem=function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,ee)},t.prototype.startDragging=function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var a=e.type.startsWith("touch"),i=a?"touchmove":"mousemove",o=a?"touchend":"mouseup";this._globalListeners.set(i,{handler:function(t){return n.pointerMove.next(t)},options:ee}).set(o,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ee}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}},t.prototype.stopDragging=function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()},t.prototype.isDragging=function(t){return this._activeDragInstances.has(t)},t.prototype.getDropContainer=function(t){return Array.from(this._dropInstances).find((function(e){return e.id===t}))},t.prototype.ngOnDestroy=function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},t.prototype._clearGlobalListeners=function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]}]},t.ngInjectableDef=Object(i["ɵɵdefineInjectable"])({factory:function(){return new t(Object(i["ɵɵinject"])(i.NgZone),Object(i["ɵɵinject"])(o.DOCUMENT))},token:t,providedIn:"root"}),t}(),ae={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ie=function(){function t(t,e,n,a){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=a}return t.prototype.createDrag=function(t,e){return void 0===e&&(e=ae),new Mt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)},t.prototype.createDropList=function(t){return new qt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.NgZone},{type:Et.e},{type:ne}]},t.ngInjectableDef=Object(i["ɵɵdefineInjectable"])({factory:function(){return new t(Object(i["ɵɵinject"])(o.DOCUMENT),Object(i["ɵɵinject"])(i.NgZone),Object(i["ɵɵinject"])(Et.e),Object(i["ɵɵinject"])(ne))},token:t,providedIn:"root"}),t}(),oe=new i.InjectionToken("CDK_DROP_LIST"),re=oe,se=new i.InjectionToken("CDK_DRAG_PARENT"),ce=function(){function t(t,e){this.element=t,this._stateChanges=new I.a,this._disabled=!1,this._parentDrag=e,It(t.nativeElement,!1)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Object(B.c)(t),this._stateChanges.next(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._stateChanges.complete()},t.decorators=[{type:i.Directive,args:[{selector:"[cdkDragHandle]",host:{class:"cdk-drag-handle"}}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Inject,args:[se]},{type:i.Optional}]}]},t.propDecorators={disabled:[{type:i.Input,args:["cdkDragHandleDisabled"]}]},t}(),le=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"ng-template[cdkDragPlaceholder]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t.propDecorators={data:[{type:i.Input}]},t}(),de=function(){function t(t){this.templateRef=t}return t.decorators=[{type:i.Directive,args:[{selector:"ng-template[cdkDragPreview]"}]}],t.ctorParameters=function(){return[{type:i.TemplateRef}]},t.propDecorators={data:[{type:i.Input}]},t}(),ue=new i.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}});var pe=function(){function t(t,e,n,a,o,r,s,c,l){var d=this;this.element=t,this.dropContainer=e,this._document=n,this._ngZone=a,this._viewContainerRef=o,this._dir=s,this._changeDetectorRef=l,this._destroyed=new I.a,this.dragStartDelay=0,this._disabled=!1,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new vt.a((function(t){var e=d._dragRef.moved.pipe(Object(kt.a)((function(t){return{source:d,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(t,r),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return Object.defineProperty(t.prototype,"boundaryElementSelector",{get:function(){return"string"==typeof this.boundaryElement?this.boundaryElement:void 0},set:function(t){this.boundaryElement=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Object(B.c)(t),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},t.prototype.getRootElement=function(){return this._dragRef.getRootElement()},t.prototype.reset=function(){this._dragRef.reset()},t.prototype.getFreeDragPosition=function(){return this._dragRef.getFreeDragPosition()},t.prototype.ngAfterViewInit=function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(R.a)(1),Object(xt.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(wt.a)(t._handles),Object(St.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),Object(Ot.a)((function(t){return T.a.apply(void 0,t.map((function(t){return t._stateChanges})))})),Object(xt.a)(t._destroyed)).subscribe((function(e){var n=t._dragRef,a=e.element.nativeElement;e.disabled?n.disableHandle(a):n.enableHandle(a)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))},t.prototype.ngOnChanges=function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},t.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()},t.prototype._updateRootElement=function(){var t=this.element.nativeElement,e=this.rootElementSelector?me(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+e.nodeName+'".');this._dragRef.withRootElement(e||t)},t.prototype._getBoundaryElement=function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return me(this.element.nativeElement,t);var e=Object(B.e)(t);if(Object(i.isDevMode)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e},t.prototype._syncInputs=function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,a=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,i=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay=Object(B.f)(e.dragStartDelay),t.constrainPosition=e.constrainPosition,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(i),n&&t.withDirection(n.value)}}))},t.prototype._handleEvents=function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))},t.decorators=[{type:i.Directive,args:[{selector:"[cdkDrag]",exportAs:"cdkDrag",host:{class:"cdk-drag","[class.cdk-drag-disabled]":"disabled","[class.cdk-drag-dragging]":"_dragRef.isDragging()"},providers:[{provide:se,useExisting:t}]}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Inject,args:[oe]},{type:i.Optional},{type:i.SkipSelf}]},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.NgZone},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[ue]}]},{type:N.b,decorators:[{type:i.Optional}]},{type:ie},{type:i.ChangeDetectorRef}]},t.propDecorators={_handles:[{type:i.ContentChildren,args:[ce,{descendants:!0}]}],_previewTemplate:[{type:i.ContentChild,args:[de,{static:!1}]}],_placeholderTemplate:[{type:i.ContentChild,args:[le,{static:!1}]}],data:[{type:i.Input,args:["cdkDragData"]}],lockAxis:[{type:i.Input,args:["cdkDragLockAxis"]}],rootElementSelector:[{type:i.Input,args:["cdkDragRootElement"]}],boundaryElement:[{type:i.Input,args:["cdkDragBoundary"]}],dragStartDelay:[{type:i.Input,args:["cdkDragStartDelay"]}],freeDragPosition:[{type:i.Input,args:["cdkDragFreeDragPosition"]}],disabled:[{type:i.Input,args:["cdkDragDisabled"]}],constrainPosition:[{type:i.Input,args:["cdkDragConstrainPosition"]}],started:[{type:i.Output,args:["cdkDragStarted"]}],released:[{type:i.Output,args:["cdkDragReleased"]}],ended:[{type:i.Output,args:["cdkDragEnded"]}],entered:[{type:i.Output,args:["cdkDragEntered"]}],exited:[{type:i.Output,args:["cdkDragExited"]}],dropped:[{type:i.Output,args:["cdkDragDropped"]}],moved:[{type:i.Output,args:["cdkDragMoved"]}]},t}();function me(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var he=function(){function t(){this._items=new Set,this._disabled=!1}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Object(B.c)(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._items.clear()},t.decorators=[{type:i.Directive,args:[{selector:"[cdkDropListGroup]",exportAs:"cdkDropListGroup"}]}],t.propDecorators={disabled:[{type:i.Input,args:["cdkDropListGroupDisabled"]}]},t}(),fe=0,ge=function(){function t(e,n,a,o,r){var s=this;this.element=e,this._changeDetectorRef=a,this._dir=o,this._group=r,this._destroyed=new I.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+fe++,this._disabled=!1,this._sortingDisabled=!1,this.enterPredicate=function(){return!0},this.autoScrollDisabled=!1,this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(t,e){return s.enterPredicate(t.data,e.data)},this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._disabled=Object(B.c)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortingDisabled",{get:function(){return this._sortingDisabled},set:function(t){this._sortingDisabled=Object(B.c)(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this._draggables.changes.pipe(Object(wt.a)(this._draggables),Object(xt.a)(this._destroyed)).subscribe((function(e){t._dropListRef.withItems(e.map((function(t){return t._dragRef})))}))},t.prototype.ngOnDestroy=function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()},t.prototype.start=function(){this._dropListRef.start()},t.prototype.drop=function(t,e,n,a){this._dropListRef.drop(t._dragRef,e,n._dropListRef,a)},t.prototype.enter=function(t,e,n){this._dropListRef.enter(t._dragRef,e,n)},t.prototype.exit=function(t){this._dropListRef.exit(t._dragRef)},t.prototype.getItemIndex=function(t){return this._dropListRef.getItemIndex(t._dragRef)},t.prototype._sortItem=function(t,e,n,a){return this._dropListRef._sortItem(t._dragRef,e,n,a)},t.prototype._getSiblingContainerFromPosition=function(t,e,n){var a=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,n);return a?a.data:null},t.prototype._isOverContainer=function(t,e){return this._dropListRef._isOverContainer(t,e)},t.prototype._syncInputs=function(e){var n=this;this._dir&&this._dir.change.pipe(Object(wt.a)(this._dir.value),Object(xt.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var a=Object(B.b)(n.connectedTo).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));n._group&&n._group._items.forEach((function(t){-1===a.indexOf(t)&&a.push(t)})),e.disabled=n.disabled,e.lockAxis=n.lockAxis,e.sortingDisabled=n.sortingDisabled,e.autoScrollDisabled=n.autoScrollDisabled,e.connectedTo(a.filter((function(t){return t&&t!==n})).map((function(t){return t._dropListRef}))).withOrientation(n.orientation)}))},t.prototype._handleEvents=function(t){var e=this;t.beforeStarted.subscribe((function(){e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))},t._dropLists=[],t.decorators=[{type:i.Directive,args:[{selector:"[cdkDropList], cdk-drop-list",exportAs:"cdkDropList",providers:[{provide:he,useValue:void 0},{provide:re,useExisting:t}],host:{class:"cdk-drop-list","[id]":"id","[class.cdk-drop-list-disabled]":"disabled","[class.cdk-drop-list-dragging]":"_dropListRef.isDragging()","[class.cdk-drop-list-receiving]":"_dropListRef.isReceiving()"}}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:ie},{type:i.ChangeDetectorRef},{type:N.b,decorators:[{type:i.Optional}]},{type:he,decorators:[{type:i.Optional},{type:i.SkipSelf}]}]},t.propDecorators={_draggables:[{type:i.ContentChildren,args:[Object(i.forwardRef)((function(){return pe})),{descendants:!1}]}],connectedTo:[{type:i.Input,args:["cdkDropListConnectedTo"]}],data:[{type:i.Input,args:["cdkDropListData"]}],orientation:[{type:i.Input,args:["cdkDropListOrientation"]}],id:[{type:i.Input}],lockAxis:[{type:i.Input,args:["cdkDropListLockAxis"]}],disabled:[{type:i.Input,args:["cdkDropListDisabled"]}],sortingDisabled:[{type:i.Input,args:["cdkDropListSortingDisabled"]}],enterPredicate:[{type:i.Input,args:["cdkDropListEnterPredicate"]}],autoScrollDisabled:[{type:i.Input,args:["cdkDropListAutoScrollDisabled"]}],dropped:[{type:i.Output,args:["cdkDropListDropped"]}],entered:[{type:i.Output,args:["cdkDropListEntered"]}],exited:[{type:i.Output,args:["cdkDropListExited"]}],sorted:[{type:i.Output,args:["cdkDropListSorted"]}]},t}(),be=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[ge,he,pe,ce,de,le],exports:[ge,he,pe,ce,de,le],providers:[ie]}]}],t}(),ve=n("vnWn"),_e=n("k5u/"),ye=n("drcI"),Ce=n("ZYCi"),De=n("0T/Q"),we=function(){function t(){var t=this;this.setArea=function(e){return t.area=e},this.refreshAreaList=function(){t.lstAreasComponent.loadEntidades()},this.area={area:null,sede:null,nombre:null}}return t.prototype.ngOnInit=function(){},a.c([Object(i.ViewChild)("listaAreas",{static:!1})],t.prototype,"lstAreasComponent",void 0),t=a.c([Object(i.Component)({selector:"app-area",template:a.f(n("82jH")).default,styles:[a.f(n("4Gwt")).default]})],t)}(),xe=n("sKxO"),ke=n("FY0D"),Se=n("92vz"),Oe=function(){function t(t,e,n,a){var i=this;this.dialogRef=t,this.data=e,this.snackBar=n,this.ls=a,this.displayedColumns=["numero","nombre"],this.esMovil=!1,this.terminar=function(){var t=i.todosConNombre(i.data.cuentas);t<0?i.dialogRef.close(i.data.cuentas):i.snackBar.open("Favor ingresar nombre a la cuenta #"+i.data.cuentas[t].cuenta+"...","Cuentas",{duration:5e3})},this.setTableDataSource=function(){return i.dataSource=new _.a(i.data.cuentas)},this.eliminarFila=function(t){var e=i.data.cuentas.findIndex((function(e){return+e.numero==+t.numero}));e>0?(i.data.cuentas.splice(e,1),i.data.cuentas.map((function(t,e){return t.numero=e+1})),i.dataSource.data=i.data.cuentas):console.log("No se encuentra esta cuenta...")}}return t.prototype.ngOnInit=function(){this.esMovil=this.ls.get(xe.a.usrTokenVar).enmovil||!1,this.setTableDataSource();for(var t=0;t<+this.data.comensales-1;t++)this.agregarFila()},t.prototype.todosConNombre=function(t){for(var e=0;e<t.length;e++)if(!t[e].nombre)return e;return-1},t.prototype.agregarFila=function(){this.data.cuentas.push({cuenta:0,numero:this.data.cuentas.length+1,nombre:null,productos:[]}),this.dataSource.data=this.data.cuentas},t.ctorParameters=function(){return[{type:E.d},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]},{type:w.a},{type:ke.a}]},t=a.c([Object(i.Component)({selector:"app-pide-datos-cuentas",template:a.f(n("zlRV")).default,styles:[a.f(n("7E+n")).default]}),a.h(1,Object(i.Inject)(E.a))],t)}(),Ee=n("K9lQ"),Ae=function(){function t(t,e,n,a,i){var o=this;this.dialogRef=t,this.data=e,this.dialogDatosCuentas=n,this.usuarioSrvc=a,this.ls=i,this.lstMeseros=[],this.esMovil=!1,this.loadMeseros=function(){o.usuarioSrvc.getMeserosTurno().subscribe((function(t){t&&(o.lstMeseros=t)}))},this.toNumber=function(t){return+t}}return t.prototype.ngOnInit=function(){this.esMovil=this.ls.get(xe.a.usrTokenVar).enmovil||!1,this.loadMeseros()},t.prototype.pedirDatosDeCuentas=function(t){var e=this;this.dialogDatosCuentas.open(Oe,{width:"50%",disableClose:!0,data:{cuentas:t.cuentas,comensales:this.data.comensales}}).afterClosed().subscribe((function(n){t.cuentas=n,e.dialogRef.close(t)}))},t.prototype.terminar=function(t){void 0===t&&(t=null),t?t.dividirCuentasPorSillas?this.pedirDatosDeCuentas(t):this.dialogRef.close(t):this.dialogRef.close()},t.ctorParameters=function(){return[{type:E.d},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]},{type:E.b},{type:Ee.a},{type:ke.a}]},t=a.c([Object(i.Component)({selector:"app-abrir-mesa",template:a.f(n("tGvL")).default,styles:[a.f(n("1QzS")).default]}),a.h(1,Object(i.Inject)(E.a))],t)}(),Ie=n("R5jZ"),Pe=n("5tAl"),Te=n("9Z1F"),je=n("Qyje"),Re=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="mante/area",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.url+"/"+this.moduleUrl+"/get_areas?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.save=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.url+"/"+this.moduleUrl+"/guardar"+(t.area?"/"+t.area:""),t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),Me=n("JKh+"),Fe=function(){function t(t,e,n,i,o,r){var s=this;this.dialog=t,this.snackBar=e,this.ls=n,this.areaSrvc=i,this.comandaSrvc=o,this.socket=r,this.divSize={h:0,w:0},this.cargando=!1,this.lstTabsAreas=[],this.lstTabsAreasForUpdate=[],this.actualizar=function(){var t=s.lstTabsAreas.find((function(t){return+t.area==+s.mesaSeleccionada.mesa.area.area})),e=s.lstTabsAreas.findIndex((function(t){return+t.area==+s.mesaSeleccionada.mesa.area.area})),n=t.mesas.findIndex((function(t){return+t.mesa==+s.mesaSeleccionada.mesa.mesa}));s.lstTabsAreas[e].mesas[n].estatus=1,s.toggleRightSidenav()},this.resetMesaSeleccionada=function(){return s.mesaSeleccionada={comanda:null,usuario:null,sede:null,estatus:null,mesa:{mesa:null,area:{area:null,sede:null,area_padre:null,nombre:null},numero:null,posx:null,posy:null,tamanio:null,estatus:null},cuentas:[]}},this.loadAreas=function(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),s.cargando=!0,s.areaSrvc.get({sede:+s.ls.get(xe.a.usrTokenVar).sede||0}).subscribe((function(n){t?(s.lstTabsAreasForUpdate=n,s.updateTableStatus(e.mesaenuso)):(s.lstTabsAreas=n,s.cargando=!1)}))},this.updateTableStatus=function(t){var e,n,i,o;void 0===t&&(t={});try{for(var r=a.k(s.lstTabsAreasForUpdate),c=r.next();!c.done;c=r.next()){var l=c.value;try{for(var d=(i=void 0,a.k(l.mesas)),u=d.next();!u.done;u=d.next()){var p=u.value;s.setEstatusMesa({area:+l.area,mesa:+p.mesa},+p.estatus)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}s.cargando=!1,s.rightSidenav.opened&&+s.mesaSeleccionada.comanda==+t.comanda&&s.toggleRightSidenav()},this.onResize=function(t){return s.setDivSize()},this.setEstatusMesa=function(t,e){var n=s.lstTabsAreas.findIndex((function(e){return+e.area==+t.area}));if(n>-1){var a=s.lstTabsAreas[n].mesas.findIndex((function(e){return+e.mesa==+t.mesa}));a>-1&&(s.lstTabsAreas[n].mesas[a].estatus=e)}},this.guardarMesa=function(t){s.comandaSrvc.save(s.mesaSeleccionadaToOpen).subscribe((function(e){e.exito?(s.socket.emit("refrescar:mesa",{}),s.mesaSeleccionada=e.comanda,s.setEstatusMesa(t,+e.comanda.mesa.estatus),s.snTrancomanda.llenaProductosSeleccionados(s.mesaSeleccionada),s.snTrancomanda.setSelectedCuenta(s.mesaSeleccionada.cuentas[0].numero),s.toggleRightSidenav()):s.snackBar.open(""+e.mensaje,"ERROR",{duration:5e3})}))},this.toggleRightSidenav=function(t){void 0===t&&(t=null),s.rightSidenav.toggle().then((function(e){"close"===e?(s.checkEstatusMesa(),t&&s.loadAreas(!0,{mesaenuso:t})):"open"===e&&1===s.mesaSeleccionada.cuentas.length&&s.snTrancomanda.setSelectedCuenta(s.mesaSeleccionada.cuentas[0].numero)}))},this.cerrandoRightSideNav=function(){s.snTrancomanda.resetMesaEnUso(),s.snTrancomanda.resetLstProductosDeCuenta(),s.snTrancomanda.resetLstProductosSeleccionados(),s.snTrancomanda.resetCuentaActiva(),s.snTrancomanda.resetListadoArticulos(),s.fuerzaCierreComanda(!1)},this.checkEstatusMesa=function(){s.mesaSeleccionada&&s.mesaSeleccionada.cuentas&&s.mesaSeleccionada.cuentas.length>0&&(0===(s.mesaSeleccionada.cuentas.filter((function(t){return 0==+t.cerrada})).length||0)&&s.setEstatusMesa({area:s.mesaSeleccionada.mesa.area.area,mesa:s.mesaSeleccionada.mesa.mesa},1))},this.fuerzaCierreComanda=function(t){s.comandaSrvc.cerrarEstacion(s.mesaSeleccionada.comanda).subscribe((function(e){s.loadComandaMesa(s.mesaSeleccionada.mesa,t)}))},this.loadComandaMesa=function(t,e){void 0===e&&(e=!0),s.comandaSrvc.getComandaDeMesa(t.mesa).subscribe((function(t){t.exito?(Array.isArray(t)?(0===t.length&&(s.mesaSeleccionada={mesa:s.mesaSeleccionada.mesa,cuentas:[{cerrada:1}]}),s.checkEstatusMesa()):s.mesaSeleccionada=t,s.checkEstatusMesa(),e?(s.snTrancomanda.llenaProductosSeleccionados(s.mesaSeleccionada),s.toggleRightSidenav()):s.checkEstatusMesa()):(t.mensaje&&s.snackBar.open(""+t.mensaje,"ERROR",{duration:5e3}),Array.isArray(t)&&0===t.length&&(s.mesaSeleccionada={mesa:s.mesaSeleccionada.mesa,cuentas:[{cerrada:1}]}),s.checkEstatusMesa()),s.checkEstatusMesa()}))}}return t.prototype.ngOnInit=function(){var t=this;this.loadAreas(),this.resetMesaSeleccionada(),this.ls.get(xe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(xe.a.usrTokenVar).sede_uuid),this.socket.on("refrescar:mesa",(function(e){t.loadAreas(!0,e)})))},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.setDivSize(),t.snTrancomanda.resetMesaEnUso()}),600)},t.prototype.setDivSize=function(){},t.prototype.onClickMesa=function(t){switch(+t.mesaSelected.estatus){case 1:this.openAbrirMesaDialog(t.mesaSelected);break;case 2:this.loadComandaMesa(t.mesaSelected)}},t.prototype.openAbrirMesaDialog=function(t){var e=this;(this.mesaSeleccionadaToOpen={nombreArea:this.tabArea.textLabel,area:+t.area,mesa:+t.mesa,numero:+t.numero,mesero:"",comensales:"1",comanda:0,esEvento:!1,dividirCuentasPorSillas:!1,estatus:1,cuentas:[{numero:1,nombre:"Única",productos:[]}]},0==+t.esmostrador)?this.dialog.open(Ae,{width:"50%",height:"auto",disableClose:!0,data:this.mesaSeleccionadaToOpen}).afterClosed().subscribe((function(n){n&&(e.mesaSeleccionadaToOpen=n,e.guardarMesa(t))})):(this.mesaSeleccionadaToOpen.mesero=this.ls.get(xe.a.usrTokenVar).idusr,this.guardarMesa(t))},t.ctorParameters=function(){return[{type:E.b},{type:w.a},{type:ke.a},{type:Re},{type:Me.a},{type:Se.a}]},a.c([Object(i.ViewChild)("matTabArea",{static:!1})],t.prototype,"pestania",void 0),a.c([Object(i.ViewChild)("rightSidenav",{static:!1})],t.prototype,"rightSidenav",void 0),a.c([Object(i.ViewChild)("tabArea",{static:!1})],t.prototype,"tabArea",void 0),a.c([Object(i.ViewChild)("snTranComanda",{static:!1})],t.prototype,"snTrancomanda",void 0),t=a.c([Object(i.Component)({selector:"app-tran-areas",template:a.f(n("nTCp")).default,styles:[a.f(n("QNkw")).default]})],t)}(),Ve=n("wd/R"),Ne=function(){function t(){var t=this;this.setTurno=function(e){t.turno=e,t.frmTurno.loadDetalleTurno(+t.turno.turno)},this.refreshTurnoList=function(){return t.lstTurnoComponent.loadTurnos()},this.turno={turno:null,turno_tipo:null,inicio:Ve().format(xe.a.dbDateTimeFormat),fin:null}}return t.prototype.ngOnInit=function(){},a.c([Object(i.ViewChild)("lstTurno",{static:!1})],t.prototype,"lstTurnoComponent",void 0),a.c([Object(i.ViewChild)("frmTurno",{static:!1})],t.prototype,"frmTurno",void 0),t=a.c([Object(i.Component)({selector:"app-turno",template:a.f(n("CqNL")).default,styles:[a.f(n("BHSW")).default]})],t)}(),Le=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="reporte/venta",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.porCategoria=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlFacturacion+"/"+this.moduleUrl+"/categoria?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.porArticulo=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlFacturacion+"/"+this.moduleUrl+"/articulo?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.porCategoriaPdf=function(t){var e={headers:new r.c({Authorization:this.usrToken,Accept:"application/pdf"}),responseType:"blob"};return this.http.get(xe.a.urlFacturacion+"/"+this.moduleUrl+"/categoriapdf/1?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.porArticuloPdf=function(t){var e={headers:new r.c({Authorization:this.usrToken,Accept:"application/pdf"}),responseType:"blob"};return this.http.get(xe.a.urlFacturacion+"/"+this.moduleUrl+"/articulopdf/1?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),ze=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="turno",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/get_turno_tipo?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.save=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/guardar_turno_tipo"+(t.turno_tipo?"/"+t.turno_tipo:""),t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),Be=n("Iab2"),Ue=function(){function t(t,e,n){var a=this;this.snackBar=t,this.rptVentasSrvc=e,this.tipoTurnoSrvc=n,this.tiposReporte=[],this.params={},this.paramsToSend={},this.msgGenerandoReporte=null,this.porCategoria=[],this.porArticulo=[],this.tiposTurno=[],this.tituloCategoria="Ventas por categoria",this.tituloArticulo="Ventas por articulo",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!0,showExcel:!1},this.loadTiposTurno=function(){a.tipoTurnoSrvc.get().subscribe((function(t){t&&(a.tiposTurno=t)}))},this.loadTiposReporte=function(){a.tiposReporte=[{tipo_reporte:1,descripcion:"Por categoría"},{tipo_reporte:2,descripcion:"Por artículo"}]},this.resetParams=function(){a.porCategoria=[],a.porArticulo=[],a.msgGenerandoReporte=null,a.params={tipo_reporte:void 0,fdel:Ve().startOf("week").format(xe.a.dbDateFormat),fal:Ve().endOf("week").format(xe.a.dbDateFormat)},a.cargando=!1},this.getReporte=function(t){switch(void 0===t&&(t=1),a.paramsToSend=JSON.parse(JSON.stringify(a.params)),a.msgGenerandoReporte="GENERANDO REPORTE EN ",t){case 1:a.getEnPantalla();break;case 2:a.getPdf();break;case 3:a.msgGenerandoReporte+="EXCEL."}},this.getPdf=function(){switch(a.params.tipo_reporte){case 1:a.getPorCategoriaPdf();break;case 2:a.getPorArticuloPdf()}},this.getPorCategoriaPdf=function(){a.cargando=!0,a.cleanParams(),a.rptVentasSrvc.porCategoriaPdf(a.paramsToSend).subscribe((function(t){if(a.cargando=!1,t){var e=new Blob([t],{type:"application/pdf"});Object(Be.saveAs)(e,a.tituloCategoria+".pdf")}else a.snackBar.open("No se pudo generar el reporte...",a.tituloCategoria,{duration:3e3})}))},this.getPorArticuloPdf=function(){a.cargando=!0,a.cleanParams(),a.rptVentasSrvc.porArticuloPdf(a.paramsToSend).subscribe((function(t){if(a.cargando=!1,t){var e=new Blob([t],{type:"application/pdf"});Object(Be.saveAs)(e,a.tituloArticulo+".pdf")}else a.snackBar.open("No se pudo generar el reporte...",a.tituloArticulo,{duration:3e3})}))},this.getEnPantalla=function(){switch(a.params.tipo_reporte){case 1:a.getPorCategoriaEnPantalla();break;case 2:a.getPorArticuloEnPantalla()}},this.cleanParams=function(){return delete a.paramsToSend.tipo_reporte},this.getPorCategoriaEnPantalla=function(){a.cargando=!0,a.cleanParams(),a.rptVentasSrvc.porCategoria(a.paramsToSend).subscribe((function(t){a.cargando=!1,t?a.porCategoria=t:a.snackBar.open("No se pudo generar el reporte...","Ventas por categoría",{duration:3e3})}))},this.getPorArticuloEnPantalla=function(){a.cargando=!0,a.cleanParams(),a.rptVentasSrvc.porArticulo(a.paramsToSend).subscribe((function(t){a.cargando=!1,t?a.porArticulo=t:a.snackBar.open("No se pudo generar el reporte...","Ventas por artículo",{duration:3e3})}))}}return t.prototype.ngOnInit=function(){this.resetParams(),this.loadTiposReporte(),this.loadTiposTurno()},t.ctorParameters=function(){return[{type:w.a},{type:Le},{type:ze}]},t=a.c([Object(i.Component)({selector:"app-rpt-ventas",template:a.f(n("ZtfH")).default,styles:[a.f(n("G+Be")).default]})],t)}(),He=function(){function t(){var t=this;this.params={},this.configParams={isRequiredFDel:!0,isRequiredFAl:!0},this.configBotones={isHtmlDisabled:!1,isPdfDisabled:!1,isExcelDisabled:!1},this.cargando=!1,this.resetParams=function(){t.params={fdel:Ve().startOf("week").format(xe.a.dbDateFormat),fal:Ve().endOf("week").format(xe.a.dbDateFormat)}},this.getReporte=function(){console.log("GENERANDO CON PARAMETROS = ",t.params)}}return t.prototype.ngOnInit=function(){this.resetParams()},t=a.c([Object(i.Component)({selector:"app-turnos",template:a.f(n("doAD")).default,styles:[a.f(n("X00p")).default]})],t)}(),Ye=n("FHMA"),We=function(){function t(t,e){var n=this;this.snackBar=t,this.pdfServicio=e,this.params={},this.titulo="Propinas",this.configBotones={isHtmlDisabled:!0,isPdfDisabled:!1,isExcelDisabled:!0,showHtml:!1,showExcel:!1,showPdf:!0},this.cargando=!1,this.resetParams=function(){n.params={},n.cargando=!1}}return t.prototype.ngOnInit=function(){},t.prototype.onSubmit=function(){var t=this;this.cargando=!0,this.pdfServicio.getReportePropina(this.params).subscribe((function(e){if(t.cargando=!1,e){var n=new Blob([e],{type:"application/pdf"});Object(Be.saveAs)(n,t.titulo+".pdf")}else t.snackBar.open("No se pudo generar el reporte...",t.titulo,{duration:3e3})}))},t.ctorParameters=function(){return[{type:w.a},{type:Ye.a}]},t=a.c([Object(i.Component)({selector:"app-propinas",template:a.f(n("LCbO")).default,styles:[a.f(n("OKyJ")).default]})],t)}(),qe=n("IJgu"),Ge=n("+iZS"),Ze=n("KFbY"),$e=function(){function t(t,e,n,i,o,r,s,c){var l=this;this.dialog=t,this.snackBar=e,this.socket=n,this.ls=i,this.comandaSrvc=o,this.facturaSrvc=r,this.dns=s,this.pdfServicio=c,this.dataSource=[],this.columnsToDisplay=["comanda","orden","fechahora","nombre","total","pdf","imprimir","facturar"],this.comandasEnLinea=[],this.notificarUsuario=function(){var t={icon:"assets/img/minilogo.png",body:"Se recibió una nueva orden a las "+Ve().format(xe.a.dateTimeFormat)+".",dir:"auto"};l.dns.createNotification("Rest-Touch Pro",1e4,t)},this.loadComandasEnLinea=function(){l.comandaSrvc.getComandasOnLIne().subscribe((function(t){l.comandasEnLinea=t.map((function(t){return t.fhcreacion=Ve.utc(t.fhcreacion).local().format(xe.a.dbDateTimeFormat),t})),l.dataSource=l.comandasEnLinea}))},this.setToPrint=function(t){var e=[];return t.forEach((function(t){e.push({id:+t.articulo.articulo,nombre:t.articulo.descripcion,cantidad:+t.cantidad,total:+t.total,notas:t.notas||"",impresora:{bluetooth:+t.articulo.impresora.bluetooth,direccion_ip:t.articulo.impresora.direccion_ip||"",impresora:+t.articulo.impresora.impresora,nombre:t.articulo.impresora.nombre||"",sede:+t.articulo.impresora.sede,ubicacion:t.articulo.impresora.ubicacion||""}})})),e},this.getPdf=function(t){var e=+t.cuentas[0].cuenta;l.pdfServicio.getComanda(e).subscribe((function(t){if(t){var n=new Blob([t],{type:"application/pdf"}),a=window.URL.createObjectURL(n);window.open(a,"cuenta_"+e,"height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no")}else l.snackBar.open("No se pudo generar la comanda...","Comanda",{duration:3e3})}))},this.imprimir=function(t){var e=l.setToPrint(t.cuentas[0].productos),n=e.filter((function(t){return 0==+t.impresora.bluetooth})),a=e.filter((function(t){return 1==+t.impresora.bluetooth})),i={};n.length>0&&(i={Tipo:"Comanda",Nombre:t.cuentas[0].nombre,Numero:t.comanda,NoOrdenEnLinea:t.origen_datos.numero_orden,DireccionEntrega:t.origen_datos.direccion_entrega,DetalleCuenta:n,Total:0},l.socket.emit("print:comanda",""+JSON.stringify(i))),a.length>0&&(i={Tipo:"Comanda",Nombre:t.cuentas[0].nombre,Numero:t.comanda,NoOrdenEnLinea:t.origen_datos.numero_orden,DireccionEntrega:t.origen_datos.direccion_entrega,DetalleCuenta:a,Total:0},l.printToBT(JSON.stringify(i)))},this.printToBT=function(t){void 0===t&&(t="");var e="com.restouch.impresion://impresion/"+t,n=window.open(e,"PrntBT","height=200,width=200,menubar=no,location=no,resizable=no,scrollbars=no,status=no");setTimeout((function(){return n.close()}),1e3)},this.firmar=function(t){l.facturaSrvc.firmar(+t.factura.factura).subscribe((function(e){e.exito&&(l.loadComandasEnLinea(),l.dialog.open(qe.a,{maxWidth:"400px",data:new qe.b("Imprimir factura","¿Desea imprimir la factura?","Sí","No")}).afterClosed().subscribe((function(n){n&&l.printFactura(e.factura,t.origen_datos)})));l.snackBar.open(e.mensaje,"Facturación",{duration:e.exito?3e3:1e4})}))},this.printFactura=function(t,e){var n,i;void 0===e&&(e={});var o={NombreEmpresa:t.empresa.nombre_comercial,NitEmpresa:t.empresa.nit,SedeEmpresa:t.sedeFactura.nombre,DireccionEmpresa:t.empresa.direccion,Fecha:Ve(t.fecha_factura).format(xe.a.dateFormat),Nit:t.receptor.nit,Nombre:t.receptor.nombre,Direccion:t.receptor.direccion,Serie:t.serie_factura,Numero:t.numero_factura,Total:0,NoAutorizacion:t.fel_uuid,NombreCertificador:t.certificador_fel.nombre,NitCertificador:t.certificador_fel.nit,FechaDeAutorizacion:t.fecha_autorizacion,NoOrdenEnLinea:e.numero_orden,FormaDePago:e.metodo_pago.join(", "),DetalleFactura:[]};try{for(var r=a.k(t.detalle),s=r.next();!s.done;s=r.next()){var c=s.value;o.DetalleFactura.push({Cantidad:c.cantidad,Descripcion:c.articulo.descripcion,Total:parseFloat(c.total)}),o.Total+=parseFloat(c.total)}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}l.socket.emit("print:factura",JSON.stringify(o))}}return t.prototype.ngOnInit=function(){var t=this;this.ls.get(xe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(xe.a.usrTokenVar).sede_uuid),this.socket.on("shopify:updlist",(function(){t.loadComandasEnLinea(),t.notificarUsuario()})),this.socket.on("shopify:error",(function(e){t.loadComandasEnLinea(),t.snackBar.open("ERROR: "+e,"Firmar",{duration:1e4})}))),this.loadComandasEnLinea()},t.prototype.ngOnDestroy=function(){},t.ctorParameters=function(){return[{type:E.b},{type:w.a},{type:Se.a},{type:ke.a},{type:Me.a},{type:Ze.a},{type:Ge.a},{type:Ye.a}]},t=a.c([Object(i.Component)({selector:"app-comanda-en-linea",template:a.f(n("dgKD")).default,animations:[Object(z.n)("detailExpand",[Object(z.k)("collapsed",Object(z.l)({height:"0px",minHeight:"0"})),Object(z.k)("expanded",Object(z.l)({height:"*"})),Object(z.m)("expanded <=> collapsed",Object(z.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:[a.f(n("uuZA")).default]})],t)}(),Ke=function(){function t(t,e,n){var a=this;this.snackBar=t,this.pdfServicio=e,this.tipoTurnoSrvc=n,this.params={},this.titulo="Resumen de caja",this.tiposTurno=[],this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!1},this.loadTiposTurno=function(){a.tipoTurnoSrvc.get().subscribe((function(t){t&&(a.tiposTurno=t)}))},this.resetParams=function(){a.params={},a.cargando=!1}}return t.prototype.ngOnInit=function(){this.loadTiposTurno()},t.prototype.onSubmit=function(){var t=this;this.cargando=!0,this.pdfServicio.getReporteCaja(this.params).subscribe((function(e){if(t.cargando=!1,e){var n=new Blob([e],{type:"application/pdf"});Object(Be.saveAs)(n,t.titulo+".pdf")}else t.snackBar.open("No se pudo generar el reporte...",t.titulo,{duration:3e3})}))},t.ctorParameters=function(){return[{type:w.a},{type:Ye.a},{type:ze}]},t=a.c([Object(i.Component)({selector:"app-caja",template:a.f(n("2sG5")).default,styles:[a.f(n("Csbo")).default]})],t)}(),Xe=function(){function t(t,e){var n=this;this.snackBar=t,this.pdfServicio=e,this.params={},this.titulo="Facturas",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!1},this.resetParams=function(){n.params={},n.cargando=!1}}return t.prototype.ngOnInit=function(){},t.prototype.onSubmit=function(){var t=this;this.cargando=!0,this.pdfServicio.getReporteFactura(this.params).subscribe((function(e){if(t.cargando=!1,e){var n=new Blob([e],{type:"application/pdf"});Object(Be.saveAs)(n,t.titulo+".pdf")}else t.snackBar.open("No se pudo generar el reporte...",t.titulo,{duration:3e3})}))},t.ctorParameters=function(){return[{type:w.a},{type:Ye.a}]},t=a.c([Object(i.Component)({selector:"app-factura",template:a.f(n("RgUP")).default,styles:[a.f(n("t8Kt")).default]})],t)}(),Je=function(){function t(){var t=this;this.setTurno=function(e){return t.turno=e},this.refreshTurnoList=function(){return t.lstTurnoComponent.loadTurnos()},this.turno={turno_tipo:null,descripcion:null,activo:1}}return t.prototype.ngOnInit=function(){},a.c([Object(i.ViewChild)("lstTurno",{static:!1})],t.prototype,"lstTurnoComponent",void 0),t=a.c([Object(i.Component)({selector:"app-turno-tipo",template:a.f(n("YC1U")).default,styles:[a.f(n("eQgW")).default]})],t)}(),Qe=function(){function t(){var t=this;this.setPropina=function(e){return t.propina={propina_distribucion:e.propina_distribucion,usuario_tipo:e.usuario_tipo.usuario_tipo,porcentaje:e.porcentaje,anulado:e.anulado}},this.refreshPropinaList=function(){return t.lstPropinaComponent.loadPropinas()},this.propina={propina_distribucion:null,usuario_tipo:null,porcentaje:null,anulado:null}}return t.prototype.ngOnInit=function(){},a.c([Object(i.ViewChild)("lstPropina",{static:!1})],t.prototype,"lstPropinaComponent",void 0),t=a.c([Object(i.Component)({selector:"app-propina",template:a.f(n("zmM/")).default,styles:[a.f(n("AjM8")).default]})],t)}(),tn=function(){function t(t,e){this.http=t,this.ls=e,this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.getCampos=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlCatalogos+"/get_campos?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.getReporte=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken,Accept:"application/vnd.ms-excel"}),responseType:"blob"};return this.http.post(xe.a.urlAppRestaurante+"/reporte/autoconsulta",t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),en=function(){function t(t,e){var n=this;this.snackBar=t,this.autoconsultaSrvc=e,this.params={campos:[],datos:[]},this.titulo="Autoconsulta",this.campos=[],this.fechas=[],this.orden=[],this.cargando=!1,this.configBotones={showPdf:!1,showHtml:!1,showExcel:!0},this.resetParams=function(){n.params={campos:[],datos:[]},n.cargando=!1},this.getReporte=function(){for(var t in n.cargando=!0,n.params.campos)n.params.datos.push(n.params.campos[t]);n.autoconsultaSrvc.getReporte(n.params).subscribe((function(t){if(n.cargando=!1,t){var e=new Blob([t],{type:"application/vnd.ms-excel"});Object(Be.saveAs)(e,n.titulo+".xls")}else n.snackBar.open("No se pudo generar el reporte...",n.titulo,{duration:3e3})}))},this.getCampos=function(t,e){void 0===t&&(t={}),void 0===e&&(e=1),n.cargando=!0,n.autoconsultaSrvc.getCampos(t).subscribe((function(t){switch(n.cargando=!1,e){case 1:n.campos=t;break;case 2:n.fechas=t;break;case 3:n.orden=t}}))}}return t.prototype.ngOnInit=function(){this.getCampos(),this.getCampos({por_fecha:1},2),this.getCampos({ordenar_por:1},3)},t.ctorParameters=function(){return[{type:w.a},{type:tn}]},t=a.c([Object(i.Component)({selector:"app-autoconsulta",template:a.f(n("QduS")).default,styles:[a.f(n("kNVz")).default]})],t)}(),nn=function(){function t(){var t=this;this.editarCajaCorte=function(e){return t.ccorte=e},this.actualizaLista=function(){return t.lstCajacorteComponent.getCajascortes()},this.ccorte={caja_corte:0,creacion:null,usuario:0,turno:0,confirmado:null,anulado:0,caja_corte_tipo:0,descripcion:null,detalle:[]}}return t.prototype.ngOnInit=function(){},a.c([Object(i.ViewChild)("lstCortecaja",{static:!1})],t.prototype,"lstCajacorteComponent",void 0),t=a.c([Object(i.Component)({selector:"app-cajacorte",template:a.f(n("7roY")).default,styles:[a.f(n("6oUw")).default]})],t)}(),an=function(){function t(t,e,n,a,i,o){var r=this;this.ls=t,this.comandaSrvc=e,this.socket=n,this.dns=a,this.snackBar=i,this.dialog=o,this.lstComandasCocina=[],this.lstComandasCocinaEnProceso=[],this.notificarUsuario=function(){var t={icon:"assets/img/minilogo.png",body:"Se recibió una nueva orden a las "+Ve().format(xe.a.dateTimeFormat)+".",dir:"auto"};r.dns.createNotification("Rest-Touch Pro",1e4,t)},this.loadComandasCocina=function(){return r.comandaSrvc.getComandasCocina().subscribe((function(t){r.lstComandasCocina=t.pendientes,r.lstComandasCocinaEnProceso=t.enproceso}))},this.setCocinado=function(t,e){void 0===e&&(e=2),r.dialog.open(qe.a,{maxWidth:"400px",data:new qe.b("Cocina","¿Seguro de marcar como '"+(1==+e?"vista":"cocinada")+"' la comanda #"+t.comanda+"?","Sí","No")}).afterClosed().subscribe((function(n){n&&r.comandaSrvc.setComandaCocinada(+t.comanda,e).subscribe((function(t){t.exito?r.snackBar.open(t.mensaje,"Cocina",{duration:3e3}):r.snackBar.open("ERROR: "+t.mensaje,"Cocina",{duration:7e3}),r.loadComandasCocina()}))}))}}return t.prototype.ngOnInit=function(){var t=this;this.ls.get(xe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(xe.a.usrTokenVar).sede_uuid),this.socket.on("refrescar:listaCocina",(function(){t.loadComandasCocina(),t.notificarUsuario()}))),this.loadComandasCocina()},t.ctorParameters=function(){return[{type:ke.a},{type:Me.a},{type:Se.a},{type:Ge.a},{type:w.a},{type:E.b}]},t=a.c([Object(i.Component)({selector:"app-tran-cocina",template:a.f(n("9yMN")).default,styles:[a.f(n("w/l6")).default]})],t)}(),on=[{path:"mantareas",component:we,canActivate:[De.a]},{path:"tranareas",component:Fe,canActivate:[De.a]},{path:"turno",component:Ne,canActivate:[De.a]},{path:"rptvtascat",component:Ue,canActivate:[De.a]},{path:"rptturnos",component:He,canActivate:[De.a]},{path:"rptpropinas",component:We,canActivate:[De.a]},{path:"rptcaja",component:Ke,canActivate:[De.a]},{path:"rptfactura",component:Xe,canActivate:[De.a]},{path:"cmdonline",component:$e,canActivate:[De.a]},{path:"tipoturno",component:Je,canActivate:[De.a]},{path:"propina",component:Qe,canActivate:[De.a]},{path:"autoconsulta",component:en,canActivate:[De.a]},{path:"cajacorte",component:nn,canActivate:[De.a]},{path:"trancocina",component:an,canActivate:[De.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}],rn=function(){function t(){}return t=a.c([Object(i.NgModule)({imports:[Ce.b.forChild(on)],exports:[Ce.b]})],t)}(),sn=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="mesa",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/buscar?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.save=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlMantenimientos+"/mesa/guardar"+(t.mesa?"/"+t.mesa:""),t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.getDisponibles=function(){var t={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlMantenimientos+"/area/get_mesas_disponibles?",t).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),cn=function(){function t(t,e){var n=this;this.snackBar=t,this.mesaSrvc=e,this.configuracion={mesa:0,area:0,numero:0,posx:0,posy:0,tamanio:48,estatus:1,ancho:null,alto:null,esmostrador:0,vertical:0},this.dontAllowDrag=!0,this.isDisabled=!1,this.onClickMesa=new i.EventEmitter,this.urlImage="/assets/img/mesas/",this.ngAfterViewInit=function(){return n.objMesa=n.divMesa.nativeElement},this.clickMesa=function(){return n.onClickMesa.emit({mesaSelected:n.configuracion})},this.getAncho=function(){return n.configuracion.ancho&&+n.configuracion.ancho>0?n.configuracion.ancho:n.configuracion.tamanio},this.getAlto=function(){return n.configuracion.alto&&+n.configuracion.alto>0?n.configuracion.alto:n.configuracion.tamanio},this.dragEnded=function(t){var e=t.source.element.nativeElement,a=e.offsetParent.scrollWidth,i=e.offsetParent.scrollHeight,o=t.distance,r={mesa:n.configuracion.mesa,area:n.configuracion.area,numero:n.configuracion.numero,posx:100*(e.offsetLeft+o.x)/a,posy:100*(e.offsetTop+o.y)/i,tamanio:n.configuracion.tamanio,estatus:n.configuracion.estatus};n.mesaSrvc.save(r).subscribe((function(t){t.exito?t.mesa?(n.configuracion.mesa=t.mesa.mesa,n.snackBar.open("Mesa #"+t.mesa.numero+" actualizada...","Diseño de área",{duration:3e3})):n.snackBar.open("Mesa #"+n.configuracion.numero+" actualizada...","Diseño de área",{duration:3e3}):n.snackBar.open("ERROR:"+t.mensaje+".","Diseño de área",{duration:3e3})}))}}return t.prototype.ngOnInit=function(){0==+this.configuracion.esmostrador?this.urlImage+="table_03.svg":0==+this.configuracion.vertical?this.urlImage+="mostrador_horizontal.svg":this.urlImage+="mostrador_vertical.svg"},t.ctorParameters=function(){return[{type:w.a},{type:sn}]},a.c([Object(i.Input)()],t.prototype,"configuracion",void 0),a.c([Object(i.Input)()],t.prototype,"dontAllowDrag",void 0),a.c([Object(i.Input)()],t.prototype,"isDisabled",void 0),a.c([Object(i.Output)()],t.prototype,"onClickMesa",void 0),a.c([Object(i.ViewChild)("divMesa",{static:!1})],t.prototype,"divMesa",void 0),t=a.c([Object(i.Component)({selector:"app-mesa",template:a.f(n("r7HG")).default,styles:[a.f(n("GFj5")).default]})],t)}(),ln=function(){function t(t,e,n,a){this.dialogRef=t,this.comandaSrvc=e,this.snackBar=n,this.data=a}return t.prototype.ngOnInit=function(){},t.prototype.cancelar=function(){this.dialogRef.close(!1)},t.prototype.unirCuentas=function(t,e){var n=this;console.log("ORIGEN",t),console.log("DESTINO",e),this.comandaSrvc.unificarCuentas(t.cuenta,e.cuenta).subscribe((function(t){console.log(t),t.exito?(n.snackBar.open(t.mensaje,"Cuentas",{duration:3e3}),n.dialogRef.close(!0)):n.snackBar.open("ERROR:"+t.mensaje,"Cuentas",{duration:7e3})}))},t.prototype.unirTodas=function(){},t.ctorParameters=function(){return[{type:E.d},{type:Me.a},{type:w.a},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]}]},t=a.c([Object(i.Component)({selector:"app-unir-cuenta",template:a.f(n("G+t/")).default,styles:[a.f(n("0wdR")).default]}),a.h(3,Object(i.Inject)(E.a))],t)}(),dn=function(){function t(t,e,n,a,i){var o=this;this.dialogRef=t,this.snackBar=e,this.mesaSrvc=n,this.comandaSrvc=a,this.data=i,this.mesasDisponibles=[],this.loadMesasDisponibles=function(){return o.mesaSrvc.getDisponibles().subscribe((function(t){return o.mesasDisponibles=t}))},this.cancelar=function(){return o.dialogRef.close(!1)},this.trasladar=function(){o.comandaSrvc.trasladarMesa(+o.data.mesaEnUso.comanda,+o.data.mesaEnUso.mesa.mesa,+o.destino.mesa).subscribe((function(t){t.exito?(o.snackBar.open(t.mensaje,"Traslado de mesa",{duration:3e3}),o.dialogRef.close(!0)):o.snackBar.open("ERROR:"+t.mensaje,"Traslado de mesa",{duration:7e3})}))}}return t.prototype.ngOnInit=function(){this.loadMesasDisponibles()},t.ctorParameters=function(){return[{type:E.d},{type:w.a},{type:sn},{type:Me.a},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]}]},t=a.c([Object(i.Component)({selector:"app-traslado-mesa",template:a.f(n("p5ks")).default,styles:[a.f(n("3YTL")).default]}),a.h(4,Object(i.Inject)(E.a))],t)}(),un=n("fn6i"),pn=function(){function t(t,e,n,o,r,s,c){var l=this;this.router=t,this.dialog=e,this.snackBar=n,this.comandaSrvc=o,this.socket=r,this.ls=s,this.pdfServicio=c,this.closeSideNavEv=new i.EventEmitter,this.mesaSavedEv=new i.EventEmitter,this.showPortalComanda=!1,this.showPortalCuenta=!1,this.noComanda=0,this.sumCuenta=0,this.categorias=[],this.bloqueoBotones=!1,this.resetMesaEnUso=function(){return l.mesaEnUso={exito:!0,comanda:null,usuario:null,sede:null,estatus:null,mesa:{mesa:null,area:{area:null,sede:null,area_padre:null,nombre:null},numero:null,posx:null,posy:null,tamanio:null,estatus:null},cuentas:[]}},this.resetLstProductosSeleccionados=function(){return l.lstProductosSeleccionados=[]},this.resetLstProductosDeCuenta=function(){return l.lstProductosDeCuenta=[]},this.resetCuentaActiva=function(){return l.cuentaActiva={cuenta:null,numero:null,nombre:null,productos:[]}},this.resetListadoArticulos=function(){return l.appLstProdAlt.loadArbolArticulos()},this.setListaCategorias=function(t){return void 0===t&&(t=[]),l.categorias=t},this.clickOnCategoria=function(t){return l.appLstProdAlt.fillSubCategorias(t.categoria_grupo)},this.llenaProductosSeleccionados=function(t){void 0===t&&(t=l.mesaEnUso),null==l.mesaEnUso.comanda&&(l.mesaEnUso=t),l.lstProductosSeleccionados=[];for(var e=0;e<t.cuentas.length;e++)for(var n=t.cuentas[e],a=0;a<n.productos.length;a++){var i=n.productos[a];l.lstProductosSeleccionados.push({id:+i.articulo.articulo,nombre:i.articulo.descripcion,cuenta:+i.numero_cuenta||1,cantidad:+i.cantidad,impreso:+i.impreso,precio:parseFloat(i.precio)||10,total:parseFloat(i.total)||parseFloat(i.cantidad)*parseFloat(i.precio),notas:i.notas||"",showInputNotas:!1,itemListHeight:"70px",detalle_comanda:+i.detalle_comanda,detalle_cuenta:+i.detalle_cuenta,impresora:i.articulo.impresora})}},this.cerrarMesa=function(){l.comandaSrvc.cerrarMesa(l.mesaEnUso.mesa.mesa).subscribe((function(t){t.exito?(l.snackBar.open(t.mensaje,"Comanda",{duration:3e3}),l.mesaEnUso.mesa.estatus=1,l.mesaSavedEv.emit(),l.socket.emit("refrescar:mesa",{mesaenuso:l.mesaEnUso})):(console.log("FALLA PARA CERRAR LA MESA...",t),l.snackBar.open("ERROR: "+t.mensaje,"Comanda",{duration:7e3}))}))},this.printToBT=function(t){void 0===t&&(t="");var e="com.restouch.impresion://impresion/"+t,n=window.open(e,"PrntBT","height=200,width=200,menubar=no,location=no,resizable=no,scrollbars=no,status=no");setTimeout((function(){return n.close()}),1e3)},this.printComandaPDF=function(){var t=+l.cuentaActiva.cuenta;l.pdfServicio.getComanda(t).subscribe((function(e){if(e){var n=new Blob([e],{type:"application/pdf"}),a=window.URL.createObjectURL(n);window.open(a,"cuenta_"+t,"height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no")}else l.snackBar.open("No se pudo generar la comanda...","Comanda",{duration:3e3})}))},this.sumaDetalle=function(t){var e,n,i=0;try{for(var o=a.k(t),r=o.next();!r.done;r=o.next()){i+=r.value.total||0}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},this.cambiarEstatusCuenta=function(t){var e=l.mesaEnUso.cuentas.findIndex((function(e){return+e.cuenta==+t.cuenta}));l.mesaEnUso.cuentas[e].cerrada=+t.cerrada},this.esCajero=function(t){return void 0===t&&(t=[]),t.find((function(t){return"cajero"===t.trim().toLocaleLowerCase()}))},this.trasladoMesa=function(){l.dialog.open(dn,{width:"55%",data:{mesaEnUso:l.mesaEnUso}}).afterClosed().subscribe((function(t){t&&(l.socket.emit("refrescar:mesa",{mesaenuso:l.mesaEnUso}),l.closeSideNavEv.emit(l.mesaEnUso))}))}}return t.prototype.ngOnInit=function(){this.resetMesaEnUso(),this.resetLstProductosSeleccionados(),this.resetLstProductosDeCuenta(),this.resetCuentaActiva(),this.noComanda=this.mesaEnUso.comanda||0,this.llenaProductosSeleccionados(),this.ls.get(xe.a.usrTokenVar).sede_uuid&&this.socket.emit("joinRestaurant",this.ls.get(xe.a.usrTokenVar).sede_uuid)},t.prototype.setSelectedCuenta=function(t){this.bloqueoBotones=!0,this.cuentaActiva=this.mesaEnUso.cuentas.find((function(e){return+e.numero==+t})),this.setLstProductosDeCuenta(),this.bloqueoBotones=!1},t.prototype.setSumaCuenta=function(t){var e,n,i=0;try{for(var o=a.k(t),r=o.next();!r.done;r=o.next()){var s=r.value;i+=s.precio*s.cantidad}}catch(c){e={error:c}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.sumCuenta=i},t.prototype.setLstProductosDeCuenta=function(){var t=this;this.lstProductosDeCuenta=this.lstProductosSeleccionados.filter((function(e){return+e.cuenta==+t.cuentaActiva.numero}))},t.prototype.addProductoSelected=function(t){var e=this;if(this.bloqueoBotones=!0,+this.cuentaActiva.numero){var n=this.lstProductosSeleccionados.findIndex((function(n){return+n.id==+t.id&&+n.cuenta==+e.cuentaActiva.numero&&0==+n.impreso}));if(n<0)this.detalleComanda={articulo:t.id,cantidad:1,precio:+t.precio,total:1*+t.precio,notas:""},this.comandaSrvc.saveDetalle(this.mesaEnUso.comanda,this.cuentaActiva.cuenta,this.detalleComanda).subscribe((function(t){t.exito?(e.mesaEnUso=t.comanda,e.llenaProductosSeleccionados(e.mesaEnUso),e.setSelectedCuenta(+e.cuentaActiva.numero)):e.snackBar.open("ERROR:"+t.mensaje,"Comanda",{duration:3e3}),e.bloqueoBotones=!1}));else{var a=this.lstProductosSeleccionados[n];this.detalleComanda={detalle_cuenta:a.detalle_cuenta,detalle_comanda:a.detalle_comanda,articulo:a.id,cantidad:+a.cantidad+1,precio:+a.precio,total:(+a.cantidad+1)*+a.precio,notas:a.notas},this.comandaSrvc.saveDetalle(this.mesaEnUso.comanda,this.cuentaActiva.cuenta,this.detalleComanda).subscribe((function(t){t.exito?(e.mesaEnUso=t.comanda,e.llenaProductosSeleccionados(e.mesaEnUso),e.setSelectedCuenta(+e.cuentaActiva.numero)):e.snackBar.open("ERROR:"+t.mensaje,"Comanda",{duration:3e3}),e.bloqueoBotones=!1}))}this.setLstProductosDeCuenta()}},t.prototype.updProductosCuenta=function(t){var e=this,n=t.listaProductos||[],a=this.lstProductosSeleccionados.filter((function(t){return+t.cuenta!=+e.cuentaActiva.numero}));n.length>0?this.lstProductosSeleccionados=a.concat(n):this.lstProductosSeleccionados=a,t.comanda&&(this.mesaEnUso=t.comanda,this.llenaProductosSeleccionados(this.mesaEnUso),this.setSelectedCuenta(+this.cuentaActiva.numero))},t.prototype.prepProductosComanda=function(t){for(var e=[],n=0;n<t.length;n++)e.push({articulo:t[n].id,cantidad:t[n].cantidad,precio:t[n].precio,total:t[n].total,notas:t[n].notas,impreso:1,detalle_comanda:t[n].detalle_comanda,detalle_cuenta:t[n].detalle_cuenta});return e},t.prototype.printComanda=function(t){var e=this;if(void 0===t&&(t=!1),this.bloqueoBotones=!0,this.lstProductosAImprimir=this.lstProductosDeCuenta.filter((function(t){return 0==+t.impreso&&+t.cantidad>0})),this.lstProductosAImprimir.length>0){this.lstProductosDeCuenta.map((function(t){return t.impreso=1})),this.noComanda=this.mesaEnUso.comanda,this.cuentaActiva.productos=this.prepProductosComanda(this.lstProductosDeCuenta);var n=this.mesaEnUso.cuentas.findIndex((function(t){return+t.cuenta==+e.cuentaActiva.cuenta}));if(n>-1){this.mesaEnUso.cuentas[n]=this.cuentaActiva;var a={area:this.mesaEnUso.mesa.area.area,mesa:this.mesaEnUso.mesa.mesa,mesero:this.mesaEnUso.usuario,comanda:this.mesaEnUso.comanda,cuentas:this.mesaEnUso.cuentas};this.comandaSrvc.save(a).subscribe((function(n){n.exito?e.comandaSrvc.setProductoImpreso(e.cuentaActiva.cuenta).subscribe((function(n){e.llenaProductosSeleccionados(n.comanda),e.setSelectedCuenta(e.cuentaActiva.numero),e.snackBar.open("Cuenta actualizada","Cuenta #"+e.cuentaActiva.numero,{duration:3e3});var a=e.lstProductosAImprimir.filter((function(t){return 0==+t.impresora.bluetooth})),i=e.lstProductosAImprimir.filter((function(t){return 1==+t.impresora.bluetooth}));t?e.printComandaPDF():(a.length>0&&(e.socket.emit("print:comanda",""+JSON.stringify({Tipo:"Comanda",Nombre:e.cuentaActiva.nombre,Numero:e.noComanda,DetalleCuenta:a,Ubicacion:e.mesaEnUso.mesa.area.nombre+" - Mesa "+e.mesaEnUso.mesa.numero,Mesero:e.mesaEnUso.mesero.nombres+" "+e.mesaEnUso.mesero.apellidos,Total:null})),e.snackBar.open("Imprimiendo comanda #"+e.noComanda,"Comanda",{duration:7e3})),i.length>0&&e.printToBT(JSON.stringify({Tipo:"Comanda",Nombre:e.cuentaActiva.nombre,Numero:e.noComanda,DetalleCuenta:i,Ubicacion:e.mesaEnUso.mesa.area.nombre+" - Mesa "+e.mesaEnUso.mesa.numero,Mesero:e.mesaEnUso.mesero.nombres+" "+e.mesaEnUso.mesero.apellidos,Total:null}))),e.socket.emit("refrescar:mesa",{mesaenuso:e.mesaEnUso}),e.socket.emit("refrescar:listaCocina",{mesaenuso:e.mesaEnUso}),0==+e.mesaEnUso.mesa.esmostrador&&e.closeSideNavEv.emit()})):e.snackBar.open("ERROR: "+n.mensaje,"Cuenta #"+e.cuentaActiva.numero,{duration:3e3}),e.bloqueoBotones=!1}))}}else this.snackBar.open("Nada para enviar...","Cuenta #"+this.cuentaActiva.numero,{duration:3e3}),this.bloqueoBotones=!1},t.prototype.printCuenta=function(){this.bloqueoBotones=!0,this.lstProductosAImprimir=this.lstProductosDeCuenta.filter((function(t){return 1==+t.impreso})),this.setSumaCuenta(this.lstProductosAImprimir);var t=this.sumaDetalle(this.lstProductosAImprimir),e=this.mesaEnUso.mesa.impresora||this.mesaEnUso.mesa.area.impresora,n={Tipo:"Cuenta",Nombre:this.cuentaActiva.nombre,Numero:null,DetalleCuenta:this.lstProductosAImprimir,Total:t,Empresa:this.ls.get(xe.a.usrTokenVar).empresa,Restaurante:this.ls.get(xe.a.usrTokenVar).restaurante,PropinaSugerida:(.1*t).toFixed(2),Impresora:e,Ubicacion:this.mesaEnUso.mesa.area.nombre+" - Mesa "+this.mesaEnUso.mesa.numero+" - Comanda "+this.mesaEnUso.comanda,Mesero:this.mesaEnUso.mesero.nombres+" "+this.mesaEnUso.mesero.apellidos};0==+e.bluetooth?this.socket.emit("print:cuenta",""+JSON.stringify(n)):this.printToBT(JSON.stringify(n)),this.snackBar.open("Imprimiendo cuenta de "+this.cuentaActiva.nombre,"Cuenta",{duration:7e3}),this.bloqueoBotones=!1,this.closeSideNavEv.emit()},t.prototype.unirCuentas=function(){var t=this;this.dialog.open(ln,{width:"55%",data:{lstProductosSeleccionados:this.lstProductosSeleccionados,mesaEnUso:this.mesaEnUso}}).afterClosed().subscribe((function(e){e&&t.closeSideNavEv.emit()}))},t.prototype.cobrarCuenta=function(){var t=this;this.comandaSrvc.getCuenta(this.cuentaActiva.cuenta).subscribe((function(e){if(e.pendiente.length>0)t.snackBar.open("Cobro","Tiene productos sin comandar",{duration:3e3});else{var n=t.lstProductosDeCuenta.filter((function(t){return 1==+t.impreso}));if(n.length>0)t.dialog.open(un.a,{width:"95%",data:{mesaenuso:t.mesaEnUso,cuenta:t.cuentaActiva.nombre,idcuenta:t.cuentaActiva.cuenta,productosACobrar:n,porcentajePropina:0,impresora:0==+t.mesaEnUso.mesa.esmostrador?null:t.mesaEnUso.mesa.impresora||t.mesaEnUso.mesa.area.impresora}}).afterClosed().subscribe((function(e){e&&"closePanel"!==e?(t.cambiarEstatusCuenta(e),t.closeSideNavEv.emit()):"closePanel"===e&&t.closeSideNavEv.emit()}));else t.snackBar.open("Cobro","Sin productos a cobrar.",{duration:3e3})}}))},t.ctorParameters=function(){return[{type:Ce.a},{type:E.b},{type:w.a},{type:Me.a},{type:Se.a},{type:ke.a},{type:Ye.a}]},a.c([Object(i.Input)()],t.prototype,"mesaEnUso",void 0),a.c([Object(i.Output)()],t.prototype,"closeSideNavEv",void 0),a.c([Object(i.ViewChild)("appLstProdAlt",{static:!1})],t.prototype,"appLstProdAlt",void 0),a.c([Object(i.Output)()],t.prototype,"mesaSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-tran-comanda",template:a.f(n("mCR8")).default,styles:[a.f(n("vJMn")).default]})],t)}(),mn=function(){function t(t,e){var n=this;this.dialogRef=t,this.comandaSrvc=e,this.data={pwd:void 0},this.cancelar=function(){return n.dialogRef.close()},this.terminar=function(){n.comandaSrvc.validaPwdGerenteTurno(n.data.pwd).subscribe((function(t){t.exito?n.dialogRef.close(t.esgerente):n.dialogRef.close(!1)}))}}return t.prototype.ngOnInit=function(){},t.ctorParameters=function(){return[{type:E.d},{type:Me.a}]},t=a.c([Object(i.Component)({selector:"app-valida-pwd-gerente-turno",template:a.f(n("lfgn")).default,styles:[a.f(n("Z8zX")).default]})],t)}(),hn=function(){function t(t,e,n,a,o){var r=this;this.snackBar=t,this.ls=e,this.comandaSrvc=n,this.socket=a,this.dialog=o,this.listaProductos=[],this.noCuenta=null,this.listHeight="450px",this.IdComanda=0,this.IdCuenta=0,this.bloqueoBotones=!1,this.mesaEnUso={},this.productoRemovedEv=new i.EventEmitter,this.esMovil=!1,this.removeProducto=function(t,e,n){void 0===n&&(n=!1),r.bloqueoBotones=!0,r.detalleComanda={detalle_cuenta:t.detalle_cuenta,detalle_comanda:t.detalle_comanda,articulo:t.id,cantidad:+t.cantidad>1?+t.cantidad-1:0,precio:+t.precio,total:+t.cantidad>1?(+t.cantidad-1)*+t.precio:0,notas:t.notas,autorizado:n},r.comandaSrvc.saveDetalle(r.IdComanda,r.IdCuenta,r.detalleComanda).subscribe((function(e){e.exito?(t.cantidad=r.detalleComanda.cantidad,r.productoRemovedEv.emit({listaProductos:r.listaProductos,comanda:e.comanda}),0==+t.cantidad&&(r.socket.emit("refrescar:mesa",{mesaenuso:r.mesaEnUso}),r.socket.emit("refrescar:listaCocina",{mesaenuso:r.mesaEnUso}))):r.snackBar.open("ERROR: "+e.mensaje,"Comanda",{duration:3e3}),r.bloqueoBotones=!1}))},this.deleteProductoFromList=function(t,e,n){void 0===n&&(n=!1),t.cantidad=0,t.notas="",r.removeProducto(t,e,n)},this.deleteProductoFromListAfterPrinted=function(t,e){r.bloqueoBotones=!0,r.dialog.open(mn,{width:"40%",disableClose:!0}).afterClosed().subscribe((function(n){n?(r.deleteProductoFromList(t,e,!0),r.snackBar.open("Se eliminará el producto seleccionado.","Comanda",{duration:5e3})):r.snackBar.open("La contraseña no es correcta","Comanda",{duration:5e3}),r.bloqueoBotones=!1}))}}return t.prototype.ngOnInit=function(){this.esMovil=this.ls.get(xe.a.usrTokenVar).enmovil||!1},t.prototype.ngDoCheck=function(){},t.prototype.toggleShowInputNotas=function(t){t.showInputNotas=!t.showInputNotas,t.showInputNotas?t.itemListHeight="140px":t.itemListHeight="70px"},t.prototype.doAction=function(t){console.log(t)},t.ctorParameters=function(){return[{type:w.a},{type:ke.a},{type:Me.a},{type:Se.a},{type:E.b}]},a.c([Object(i.Input)()],t.prototype,"listaProductos",void 0),a.c([Object(i.Input)()],t.prototype,"noCuenta",void 0),a.c([Object(i.Input)()],t.prototype,"listHeight",void 0),a.c([Object(i.Input)()],t.prototype,"IdComanda",void 0),a.c([Object(i.Input)()],t.prototype,"IdCuenta",void 0),a.c([Object(i.Input)()],t.prototype,"bloqueoBotones",void 0),a.c([Object(i.Input)()],t.prototype,"mesaEnUso",void 0),a.c([Object(i.Output)()],t.prototype,"productoRemovedEv",void 0),t=a.c([Object(i.Component)({selector:"app-lista-productos-comanda",template:a.f(n("/LcN")).default,styles:[a.f(n("Nyij")).default]})],t)}(),fn=function(){function t(t,e){var n=this;this.areaSrvc=t,this.ls=e,this.getEntidadEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadEntidades=function(){n.areaSrvc.get({sede:n.ls.get(xe.a.usrTokenVar).sede||0,debaja:1}).subscribe((function(t){t&&t.length>0&&(n.lstEntidades=t,n.applyFilter())}))},this.getEntidad=function(t){n.areaSrvc.get({area:t,debaja:1}).subscribe((function(t){t&&t.length>0&&n.getEntidadEv.emit(t[0])}))},this.pageChange=function(t){n.pageSize=t.pageSize,n.pageIndex=t.pageIndex,n.applyFilter()}}return t.prototype.ngOnInit=function(){this.loadEntidades()},t.prototype.applyFilter=function(){if(this.txtFiltro.length>0){var t=Object(xe.b)(this.lstEntidades,this.txtFiltro);this.length=t.length,this.lstEntidadesPaged=Object(xe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstEntidades.length,this.lstEntidadesPaged=Object(xe.c)(this.lstEntidades,this.pageSize,this.pageIndex+1)},t.ctorParameters=function(){return[{type:Re},{type:ke.a}]},a.c([Object(i.Output)()],t.prototype,"getEntidadEv",void 0),t=a.c([Object(i.Component)({selector:"app-lista-area",template:a.f(n("mRlv")).default,styles:[a.f(n("77DD")).default]})],t)}(),gn=n("qMXL"),bn=function(){function t(t,e,n,a,i){var o=this;this.mesaSrvc=t,this.impresoraSrvc=e,this.snackBar=n,this.dialogRef=a,this.data=i,this.impresoras=[],this.mesa={},this.loadImpresoras=function(){return o.impresoraSrvc.get().subscribe((function(t){return o.impresoras=t}))},this.cancelar=function(){return o.dialogRef.close(!1)},this.guardarConfiguracion=function(){o.mesaSrvc.save(o.mesa).subscribe((function(t){t.exito?t.mesa?o.snackBar.open("Mesa #"+t.mesa.numero+" actualizada...","Configuración de mesa",{duration:3e3}):o.snackBar.open("Mesa #"+o.mesa.numero+" actualizada...","Configuración de mesa",{duration:3e3}):o.snackBar.open("ERROR:"+t.mensaje+".","Configuración de mesa",{duration:7e3}),o.dialogRef.close(!0)}))}}return t.prototype.ngOnInit=function(){this.mesa=this.data.mesa,this.loadImpresoras()},t.ctorParameters=function(){return[{type:sn},{type:gn.a},{type:w.a},{type:E.d},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]}]},t=a.c([Object(i.Component)({selector:"app-configura-mesa",template:a.f(n("dyZP")).default,styles:[a.f(n("M0mC")).default]}),a.h(4,Object(i.Inject)(E.a))],t)}(),vn=function(){function t(t,e,n,a,i){var o=this;this.snackBar=t,this.mesaSrvc=e,this.dialogRef=n,this.dialog=a,this.data=i,this.mesas=[],this.contextMenuPosition={x:"0px",y:"0px"},this.getNextTableNumber=function(){return o.mesas.length>0?o.mesas.reduce((function(t,e){return+e.numero>t?+e.numero:t}),o.mesas[0].numero?+o.mesas[0].numero:0)+1:1},this.addTable=function(t,e,n,a){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=0),void 0===a&&(a=0),o.mesas.push({mesa:null,area:o.data.area,numero:o.getNextTableNumber(),posx:1,posy:1,tamanio:72,estatus:1,ancho:t,alto:e,esmostrador:n,vertical:a}),o.saveNewMesa(o.mesas[o.mesas.length-1],o.mesas.length-1)},this.addMostrador=function(t){return void 0===t&&(t=!1),o.addTable(t?72:144,t?144:72,1,t?1:0)},this.saveNewMesa=function(t,e){o.mesaSrvc.save(t).subscribe((function(t){t.exito?t.mesa&&(o.mesas[e]=t.mesa):o.snackBar.open("ERROR: "+t.mensaje,"Mesa",{duration:7e3})}))},this.onClickMesa=function(t){},this.terminar=function(){return o.dialogRef.close(o.mesas)},this.configurarMesa=function(t){o.dialog.open(bn,{width:"50%",data:{mesa:t}}).afterClosed().subscribe((function(t){}))},this.toggleDeBaja=function(t,e){void 0===e&&(e=1),o.dialog.open(qe.a,{maxWidth:"400px",data:new qe.b(0==+t.esmostrador?"Mesa":"Mostrador","¿Seguro que desea "+(1===e?"dar de baja":"habilitar")+" "+(0==+t.esmostrador?"la mesa":"el mostrador")+" #"+t.numero+"?","Sí","No")}).afterClosed().subscribe((function(n){n&&(t.debaja=e,o.mesaSrvc.save(t).subscribe((function(t){if(t.exito){if(t.mesa){var e=o.mesas.findIndex((function(e){return+e.mesa==+t.mesa.mesa}));e>-1&&(o.mesas[e]=t.mesa),o.snackBar.open(t.mensaje,"Mesa",{duration:3e3})}}else o.snackBar.open("ERROR: "+t.mensaje,"Mesa",{duration:7e3})})))}))}}return t.prototype.ngOnInit=function(){this.mesas=this.data.mesas},t.prototype.onContextMenu=function(t,e){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",this.contextMenu.menuData={item:e},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu()},t.ctorParameters=function(){return[{type:w.a},{type:sn},{type:E.d},{type:E.b},{type:void 0,decorators:[{type:i.Inject,args:[E.a]}]}]},a.c([Object(i.ViewChild)(k.b,{static:!1})],t.prototype,"contextMenu",void 0),t=a.c([Object(i.Component)({selector:"app-area-designer",template:a.f(n("zI+U")).default,styles:[a.f(n("0+aQ")).default]}),a.h(4,Object(i.Inject)(E.a))],t)}(),_n=function(){function t(t,e,n,a,o){var r=this;this.snackBar=t,this.dialog=e,this.entidadSrvc=n,this.impresoraSrvc=a,this.ls=o,this.entidadSavedEv=new i.EventEmitter,this.sedeUsr=0,this.lstAreas=[],this.esMovil=!1,this.impresoras=[],this.loadAreas=function(){return r.entidadSrvc.get({sede:r.sedeUsr,debaja:1}).subscribe((function(t){return r.lstAreas=t}))},this.loadImpresoras=function(){return r.impresoraSrvc.get().subscribe((function(t){return r.impresoras=t}))},this.resetEntidad=function(){return r.entidad={area:null,sede:r.sedeUsr,nombre:null,mesas:[]}},this.onSubmit=function(){r.entidadSrvc.save(r.entidad).subscribe((function(t){t.exito?(r.snackBar.open(""+t.mensaje,"Área",{duration:3e3}),r.resetEntidad(),r.loadAreas(),r.entidadSavedEv.emit()):r.snackBar.open("ERROR: "+t.mensaje,"Área",{duration:3e3})}))},this.openDesigner=function(){r.dialog.open(vn,{width:"800px",disableClose:!1,data:{area:+r.entidad.area,mesas:r.entidad.mesas||[]}}).afterClosed().subscribe((function(t){t&&(r.entidadSavedEv.emit(),r.entidadSrvc.get({area:+r.entidad.area,debaja:1}).subscribe((function(t){t&&t.length>0&&(r.entidad=t[0])})))}))}}return t.prototype.ngOnInit=function(){this.sedeUsr=this.ls.get(xe.a.usrTokenVar).sede||0,this.esMovil=this.ls.get(xe.a.usrTokenVar).enmovil||!1,this.resetEntidad(),this.loadAreas(),this.loadImpresoras()},t.ctorParameters=function(){return[{type:w.a},{type:E.b},{type:Re},{type:gn.a},{type:ke.a}]},a.c([Object(i.Input)()],t.prototype,"entidad",void 0),a.c([Object(i.Output)()],t.prototype,"entidadSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-form-area",template:a.f(n("l4QZ")).default,styles:[a.f(n("TRt2")).default]})],t)}(),yn=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="turno",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/buscar?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.save=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/guardar"+(t.turno?"/"+t.turno:""),t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.getDetalle=function(t,e){void 0===e&&(e={});var n={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/buscar_usuario/"+t+"?"+je.stringify(e),n).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.saveDetalle=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/agregar_usuario/"+t.turno,t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.anularDetalle=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlMantenimientos+"/"+this.moduleUrl+"/anular_usuario/"+t.turno,t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),Cn=function(){function t(t,e){var n=this;this.ls=t,this.turnoSrvc=e,this.getTurnoEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadTurnos=function(){n.turnoSrvc.get({sede:+n.ls.get(xe.a.usrTokenVar).sede||0}).subscribe((function(t){t&&t.length>0&&(n.lstTurnos=t,n.applyFilter())}))},this.getTurno=function(t){n.getTurnoEv.emit({turno:t.turno,turno_tipo:t.turno_tipo.turno_tipo,fecha:t.fecha,inicio:t.inicio,fin:t.fin})},this.pageChange=function(t){n.pageSize=t.pageSize,n.pageIndex=t.pageIndex,n.applyFilter()}}return t.prototype.ngOnInit=function(){this.loadTurnos()},t.prototype.applyFilter=function(){if(this.txtFiltro.length>0){var t=Object(xe.b)(this.lstTurnos,this.txtFiltro);this.length=t.length,this.lstTurnosPaged=Object(xe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstTurnos.length,this.lstTurnosPaged=Object(xe.c)(this.lstTurnos,this.pageSize,this.pageIndex+1)},t.ctorParameters=function(){return[{type:ke.a},{type:yn}]},a.c([Object(i.Output)()],t.prototype,"getTurnoEv",void 0),t=a.c([Object(i.Component)({selector:"app-lista-turno",template:a.f(n("PwNf")).default,styles:[a.f(n("6fiT")).default]})],t)}(),Dn=function(){function t(t,e){this.http=t,this.ls=e,this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlCatalogos+"/get_tipo_usuario?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),wn=function(){function t(t,e,n,a,o,r,s){var c=this;this._snackBar=t,this.ls=e,this.tipoTurnoSrvc=n,this.turnoSrvc=a,this.usuarioTipoSrvc=o,this.usuarioSrvc=r,this.dialog=s,this.turnoSavedEv=new i.EventEmitter,this.showTurnoForm=!0,this.showDetalleTurnoForm=!0,this.detallesTurno=[],this.displayedColumns=["usuario_tipo","usuario","editItem"],this.tiposTurno=[],this.tiposUsuario=[],this.usuarios=[],this.esMovil=!1,this.loadTiposTurno=function(){c.tipoTurnoSrvc.get().subscribe((function(t){t&&(c.tiposTurno=t)}))},this.loadTiposUsuario=function(){c.usuarioTipoSrvc.get().subscribe((function(t){t&&(c.tiposUsuario=t)}))},this.loadUsuarios=function(){c.usuarioSrvc.get({sede:c.ls.get(xe.a.usrTokenVar).sede||0}).subscribe((function(t){t&&(c.usuarios=t)}))},this.resetTurno=function(){c.turno={turno:null,turno_tipo:null,inicio:Ve().format(xe.a.dbDateTimeFormat),fin:null},c.resetDetalleTurno()},this.saveInfoTurno=function(){c.turnoSrvc.save(c.turno).subscribe((function(t){t.exito?(c.turnoSavedEv.emit(),c.resetTurno(),c.turno=t.turno,c._snackBar.open("Turno modificado con éxito...","Turno",{duration:3e3})):c._snackBar.open("ERROR: "+t.mensaje,"Turno",{duration:3e3})}))},this.onSubmit=function(){Ve(c.turno.fin).isValid()?c.dialog.open(qe.a,{maxWidth:"400px",data:new qe.b("Cerrar turno","La fecha de finalización cerrará el turno. ¿Desea continuar?","Sí","No")}).afterClosed().subscribe((function(t){t&&c.saveInfoTurno()})):c.saveInfoTurno()},this.resetDetalleTurno=function(){return c.detalleTurno={turno:c.turno.turno?c.turno.turno:null,usuario:null,usuario_tipo:null}},this.loadDetalleTurno=function(t){void 0===t&&(t=+c.turno.turno),c.turnoSrvc.getDetalle(t,{turno:t}).subscribe((function(t){t&&(c.detallesTurno=t,c.updateTableDataSource())}))},this.onSubmitDetail=function(){c.detalleTurno.turno=c.turno.turno,c.turnoSrvc.saveDetalle(c.detalleTurno).subscribe((function(t){t.exito?(c.loadDetalleTurno(),c.resetDetalleTurno(),c._snackBar.open("Usuario agregado al turno...","Turno",{duration:3e3})):c._snackBar.open("ERROR: "+t.mensaje,"Turno",{duration:3e3})}))},this.anularDetalleTurno=function(t){c.turnoSrvc.anularDetalle({turno:t.turno,usuario:t.usuario.usuario,usuario_tipo:t.usuario_tipo.usuario_tipo}).subscribe((function(t){t.exito?(c.loadDetalleTurno(),c.resetDetalleTurno(),c._snackBar.open("Se quitó al usuario del turno...","Turno",{duration:3e3})):c._snackBar.open("ERROR: "+t.mensaje,"Turno",{duration:3e3})}))},this.updateTableDataSource=function(){return c.dataSource=new _.a(c.detallesTurno)},this.getNow=function(){return Ve().format(xe.a.dbDateTimeFormat)}}return t.prototype.ngOnInit=function(){this.esMovil=this.ls.get(xe.a.usrTokenVar).enmovil||!1,this.resetTurno(),this.loadTiposTurno(),this.loadTiposUsuario(),this.loadUsuarios()},t.ctorParameters=function(){return[{type:w.a},{type:ke.a},{type:ze},{type:yn},{type:Dn},{type:Ee.a},{type:E.b}]},a.c([Object(i.Input)()],t.prototype,"turno",void 0),a.c([Object(i.Output)()],t.prototype,"turnoSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-form-turno",template:a.f(n("Rflk")).default,styles:[a.f(n("16Tw")).default]})],t)}(),xn=function(){function t(){this.params={},this.data=[]}return t.prototype.ngOnInit=function(){},a.c([Object(i.Input)()],t.prototype,"params",void 0),a.c([Object(i.Input)()],t.prototype,"data",void 0),t=a.c([Object(i.Component)({selector:"app-por-categoria",template:a.f(n("rfCi")).default,styles:[a.f(n("/1Jv")).default]})],t)}(),kn=function(){function t(){this.params={},this.data=[]}return t.prototype.ngOnInit=function(){},a.c([Object(i.Input)()],t.prototype,"params",void 0),a.c([Object(i.Input)()],t.prototype,"data",void 0),t=a.c([Object(i.Component)({selector:"app-por-articulo",template:a.f(n("TaTT")).default,styles:[a.f(n("hiO9")).default]})],t)}(),Sn=function(){function t(t){var e=this;this.turnoSrvc=t,this.getTurnoEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadTurnos=function(){e.turnoSrvc.get().subscribe((function(t){t&&t.length>0&&(e.lstTurnos=t,e.applyFilter())}))},this.getTurno=function(t){e.getTurnoEv.emit(t)},this.pageChange=function(t){e.pageSize=t.pageSize,e.pageIndex=t.pageIndex,e.applyFilter()}}return t.prototype.ngOnInit=function(){this.loadTurnos()},t.prototype.applyFilter=function(){if(this.txtFiltro.length>0){var t=Object(xe.b)(this.lstTurnos,this.txtFiltro);this.length=t.length,this.lstTurnosPaged=Object(xe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstTurnos.length,this.lstTurnosPaged=Object(xe.c)(this.lstTurnos,this.pageSize,this.pageIndex+1)},t.ctorParameters=function(){return[{type:ze}]},a.c([Object(i.Output)()],t.prototype,"getTurnoEv",void 0),t=a.c([Object(i.Component)({selector:"app-lista-turno-tipo",template:a.f(n("mk46")).default,styles:[a.f(n("zG7m")).default]})],t)}(),On=function(){function t(t,e){var n=this;this._snackBar=t,this.turnoSrvc=e,this.turnoSavedEv=new i.EventEmitter,this.resetTurno=function(){return n.turno={turno_tipo:null,descripcion:null,activo:1}},this.onSubmit=function(){n.turnoSrvc.save(n.turno).subscribe((function(t){t.exito?(n.turnoSavedEv.emit(),n.resetTurno(),n._snackBar.open("Tipo de Turno agregado...","Turno",{duration:3e3})):n._snackBar.open("ERROR: "+t.mensaje,"Turno",{duration:3e3})}))}}return t.prototype.ngOnInit=function(){},t.ctorParameters=function(){return[{type:w.a},{type:ze}]},a.c([Object(i.Input)()],t.prototype,"turno",void 0),a.c([Object(i.Output)()],t.prototype,"turnoSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-form-turno-tipo",template:a.f(n("Zxss")).default,styles:[a.f(n("cqsm")).default]})],t)}(),En=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="propina",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.get=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/buscar?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.save=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/guardar"+(t.propina_distribucion?"/"+t.propina_distribucion:""),t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),An=function(){function t(t,e,n){var a=this;this._snackBar=t,this.propinaSrvc=e,this.usuarioSrvc=n,this.propinaSavedEv=new i.EventEmitter,this.usuarios=[],this.loadUsuario=function(){a.usuarioSrvc.get().subscribe((function(t){a.usuarios=t}))},this.resetPropina=function(){return a.propina={propina_distribucion:null,usuario_tipo:null,porcentaje:null,anulado:null}},this.onSubmit=function(){a.propinaSrvc.save(a.propina).subscribe((function(t){t.exito?(a.propinaSavedEv.emit(),a.resetPropina(),a._snackBar.open("Propina agregada...","Distribucion de propinas",{duration:3e3})):a._snackBar.open("ERROR: "+t.mensaje,"Distribucion de propinas",{duration:3e3})}))}}return t.prototype.ngOnInit=function(){this.loadUsuario()},t.ctorParameters=function(){return[{type:w.a},{type:En},{type:Dn}]},a.c([Object(i.Input)()],t.prototype,"propina",void 0),a.c([Object(i.Output)()],t.prototype,"propinaSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-form-propina",template:a.f(n("PmOz")).default,styles:[a.f(n("G629")).default]})],t)}(),In=function(){function t(t){var e=this;this.propinaSrvc=t,this.displayedColumns=["propina"],this.getPropinaEv=new i.EventEmitter,this.loadPropinas=function(){e.propinaSrvc.get().subscribe((function(t){t&&t.length>0&&(e.lstPropinas=t,e.dataSource=new _.a(e.lstPropinas),e.dataSource.paginator=e.paginator)}))},this.getPropina=function(t){e.getPropinaEv.emit(t)}}return t.prototype.ngOnInit=function(){this.loadPropinas()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLowerCase()},t.ctorParameters=function(){return[{type:En}]},a.c([Object(i.Output)()],t.prototype,"getPropinaEv",void 0),a.c([Object(i.ViewChild)(O.a,{static:!0})],t.prototype,"paginator",void 0),t=a.c([Object(i.Component)({selector:"app-lista-propina",template:a.f(n("kqV0")).default,styles:[a.f(n("inSe")).default]})],t)}(),Pn=function(){function t(t,e){this.http=t,this.ls=e,this.moduleUrl="cajacorte",this.usrToken=null,this.srvcErrHndl=new Ie.a,this.usrToken=this.ls.get(xe.a.usrTokenVar)?this.ls.get(xe.a.usrTokenVar).token:null}return t.prototype.buscar=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/buscar?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.getCajaCorteTipo=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlCatalogos+"/get_caja_corte_tipo?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.getCajaCorteNominacion=function(t){void 0===t&&(t={});var e={headers:new r.c({Authorization:this.usrToken})};return this.http.get(xe.a.urlCatalogos+"/get_caja_corte_nominacion?"+je.stringify(t),e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.guardar=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/guardar",t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.anularCorte=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/anular_caja",t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.prototype.anularDetalle=function(t){var e={headers:new r.c({Authorization:this.usrToken})};return this.http.post(xe.a.urlAppRestaurante+"/"+this.moduleUrl+"/anular_caja_detalle",t,e).pipe(Object(Pe.a)(xe.a.reintentos),Object(Te.a)(this.srvcErrHndl.errorHandler))},t.ctorParameters=function(){return[{type:r.a},{type:ke.a}]},t=a.c([Object(i.Injectable)({providedIn:"root"})],t)}(),Tn=function(){function t(t,e){var n=this;this.ccorteSrvc=t,this._snackBar=e,this.displayedColumns=["ccGeneral"],this.getCajacorteEv=new i.EventEmitter,this.getCajascortes=function(){n.ccorteSrvc.buscar().subscribe((function(t){n.listacc=t,n.dataSource=new _.a(n.listacc),n.dataSource.paginator=n.paginator}))},this.anularCaja=function(t){confirm("¿Si anula este corte, se anulará también las nominaciones.?")&&n.ccorteSrvc.anularCorte(t).subscribe((function(t){t.exito&&n.getCajascortes(),n._snackBar.open(""+t.mensaje,"Corte de caja",{duration:3e3})}))},this.getCajacorte=function(t){n.getCajacorteEv.emit(t)}}return t.prototype.ngOnInit=function(){this.getCajascortes()},t.prototype.filtrar=function(t){this.dataSource.filter=t.trim().toLowerCase()},t.ctorParameters=function(){return[{type:Pn},{type:w.a}]},a.c([Object(i.Output)()],t.prototype,"getCajacorteEv",void 0),a.c([Object(i.ViewChild)(O.a,{static:!0})],t.prototype,"paginator",void 0),t=a.c([Object(i.Component)({selector:"app-cajacorte-lista",template:a.f(n("zBqX")).default,styles:[a.f(n("HNm3")).default]})],t)}(),jn=function(){function t(t,e){var n=this;this._snackBar=t,this.cajacorteSrvc=e,this.cajacorteSavedEv=new i.EventEmitter,this.ccorteTipo=[],this.ccorteNomi=[],this.detalle={caja_corte_detalle:0,caja_corte:0,cantidad:0,total:0,anulado:0,caja_corte_nominacion:0,nombre:null},this.getCajaCorteTipo=function(){n.cajacorteSrvc.getCajaCorteTipo().subscribe((function(t){n.ccorteTipo=t}))},this.getCajaCorteNominacion=function(){n.cajacorteSrvc.getCajaCorteNominacion().subscribe((function(t){n.ccorteNomi=t}))},this.setTotal=function(){if(n.detalle.caja_corte_nominacion){var t=n.ccorteNomi.filter((function(t){return t.caja_corte_nominacion==n.detalle.caja_corte_nominacion}))[0];1==t.calcula?n.detalle.total=n.detalle.cantidad*t.valor:n.detalle.total=n.detalle.cantidad}},this.setNamenomi=function(){var t=n.ccorteNomi.filter((function(t){return t.caja_corte_nominacion==n.detalle.caja_corte_nominacion}))[0];console.log(t,n.detalle.caja_corte_nominacion),n.detalle.nombre=t.nombre},this.setNameTipo=function(){var t=n.ccorteTipo.filter((function(t){return t.caja_corte_tipo==n.ccorte.caja_corte_tipo}))[0];console.log(t,n.ccorte.caja_corte_tipo),n.ccorte.descripcion=t.descripcion},this.reseteGeneral=function(){return n.ccorte={caja_corte:0,creacion:null,usuario:0,turno:0,confirmado:null,anulado:0,caja_corte_tipo:0,descripcion:null,detalle:[]}},this.resetDetalle=function(){return n.detalle={caja_corte_detalle:0,caja_corte:0,cantidad:0,total:0,anulado:0,caja_corte_nominacion:0,nombre:null}},this.agregarDetalle=function(){n.detalle.caja_corte_nominacion&&n.detalle.cantidad&&n.detalle.total?(n.ccorte.detalle.push(n.detalle),n.resetDetalle()):n._snackBar.open("Complete los datos de nominaciones","Corte de caja",{duration:3e3})},this.guardar=function(){if(confirm("¿Está seguro?")){if(0==n.ccorte.detalle.length)return n._snackBar.open("Por favor agregue las nominaciones","Corte de caja",{duration:3e3}),!1;if(!n.ccorte.caja_corte_tipo)return n._snackBar.open("Seleccione el tipo de corte de caja.","Corte de caja",{duration:3e3}),!1;n.cajacorteSrvc.guardar(n.ccorte).subscribe((function(t){t.exito&&(n.cajacorteSavedEv.emit(),n.reseteGeneral()),n._snackBar.open(""+t.mensaje,"Corte de caja",{duration:3e3})}))}},this.anularCajaDetalle=function(t){if(confirm("¿Está seguro.?"))if(t.caja_corte_detalle)n.cajacorteSrvc.anularDetalle(t).subscribe((function(e){if(e.exito){var a=n.ccorte.detalle.indexOf(t);n.ccorte.detalle.splice(a,1)}n._snackBar.open(""+e.mensaje,"Corte de caja",{duration:3e3})}));else{var e=n.ccorte.detalle.indexOf(t);n.ccorte.detalle.splice(e,1)}}}return t.prototype.ngOnInit=function(){this.getCajaCorteTipo(),this.getCajaCorteNominacion()},t.ctorParameters=function(){return[{type:w.a},{type:Pn}]},a.c([Object(i.Input)()],t.prototype,"ccorte",void 0),a.c([Object(i.Output)()],t.prototype,"cajacorteSavedEv",void 0),t=a.c([Object(i.Component)({selector:"app-cajacorte-form",template:a.f(n("NyI3")).default,styles:[a.f(n("nEkW")).default]})],t)}();n.d(e,"RestauranteModule",(function(){return Rn}));var Rn=function(){function t(){}return t=a.c([Object(i.NgModule)({declarations:[Fe,cn,Ae,pn,hn,ln,fn,_n,we,Oe,Ne,Cn,wn,vn,Ue,xn,kn,He,We,$e,Ke,Xe,Sn,On,Je,Qe,An,In,en,nn,Tn,jn,mn,dn,bn,an],entryComponents:[Ae,ln,Oe,vn,mn,dn,bn],imports:[o.CommonModule,rn,r.b,s.FormsModule,c.a,l.WmsModule,d.PosModule,u.a,p.a,m.a,h.c,f.b,g.a,b.a,v.a,_.b,y.a,C.a,D.b,w.b,x.a,k.a,S.a,O.b,E.c,ve.a,A.a,gt,V.m,_e.a,be,ye.NgVirtualKeyboardModule],providers:[V.m]})],t)}()},kNVz:function(t,e,n){"use strict";n.r(e),e.default=""},kqV0:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field>\n            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar...">\n        </mat-form-field>\n        <table mat-table [dataSource]="dataSource">\n            <ng-container matColumnDef="propina">\n                \x3c!--<th mat-header-cell *matHeaderCellDef> No. </th>--\x3e\n                <td mat-cell *matCellDef="let element" (click)="getPropina(element)">\n                    <mat-list>\n                        <mat-list-item>\n                            <mat-icon mat-list-icon>line_weight</mat-icon>\n                            <h5 mat-line>{{element.porcentaje}}%</h5>\n                            <span mat-line>{{element.usuario_tipo.descripcion}}</span>\n                            <button mat-icon-button type="button" color="accent">\n                                <mat-icon>arrow_right_alt</mat-icon>\n                            </button>\n                        </mat-list-item>\n                    </mat-list>\n                </td>\n            </ng-container>\n            \x3c!--<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>--\x3e\n            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n        </table>\n        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>\n    </mat-card-content>\n</mat-card>'},l4QZ:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>Área</h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmEntidad="ngForm" (ngSubmit)="frmEntidad.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth" *ngIf="esMovil">\n                <input type="text" matInput placeholder="Nombre" name="nombre" [(ngModel)]="entidad.nombre" required>\n            </mat-form-field>\n            <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric"\n                    ng-virtual-keyboard-placeholder="Nombre" placeholder="Nombre" name="nombre"\n                    [(ngModel)]="entidad.nombre" required>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <mat-label>Área padre</mat-label>\n                <mat-select name="area_padre" [(ngModel)]="entidad.area_padre">\n                    <mat-option *ngFor="let ar of lstAreas" [value]="ar.area">\n                        {{ar.nombre}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <mat-label>Impresora</mat-label>\n                <mat-select name="impresora" [(ngModel)]="entidad.impresora" required>\n                    <mat-option *ngFor="let imp of impresoras" [value]="imp.impresora">\n                        {{imp.nombre}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <h5>Mesas en el área: {{entidad.mesas.length}}</h5>\n            <div align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmEntidad.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" class="btnAccion" (click)="openDesigner()" *ngIf="entidad.area">\n                    Diseñar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetEntidad()" *ngIf="entidad.area">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>'},lfgn:function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Contraseña del gerente de turno</h1>\n<mat-dialog-content>\n    <form #frmValidarPwdGerenteTurno="ngForm" (ngSubmit)="frmValidarPwdGerenteTurno.form.valid" novalidate>\n        <mat-form-field class="fullWidth">\n            <input type="password" matInput placeholder="Contraseña del gerente de turno" name="pwd" [(ngModel)]="data.pwd" required>\n        </mat-form-field>\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="secondary" class="btnAccion">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="terminar()" [disabled]="!frmValidarPwdGerenteTurno.form.valid" color="accent">\n        Eliminar producto\n    </button>\n</mat-dialog-actions>'},mCR8:function(t,e,n){"use strict";n.r(e),e.default='<div fxLayout="row" fxLayout.xs="column">\n    <div fxFlex="50%" fxFelx.xs="100%" fxLayoutAlign="center start">\n        <span class="bld" style="font-size: 16pt; margin-left: 10px;">\n            {{mesaEnUso.mesa.area.nombre}} - Mesa{{mesaEnUso.mesa.numero}} - Comanda {{mesaEnUso.comanda}}\n        </span>\n    </div>\n    <div fxFlex="50%" fxFelx.xs="100%" fxLayoutAlign="end start">\n        <button mat-raised-button type="button" color="accent" style="margin-left: 8px;"\n            (click)="closeSideNavEv.emit()">\n            Cerrar Panel\n        </button>\n    </div>\n</div>\n\x3c!--\n<div fxLayout="row wrap" fxLayoutGap="8px grid" fxLayoutAlign="center center">\n    <div class="bordeTest" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="25%" fxFlex.md="25%" fxLayoutAlign="center center" *ngFor="let cta of mesaEnUso.cuentas">\n        <button mat-raised-button type="button" color="accent" [disabled]="+cta.cerrada == 1" (click)="setSelectedCuenta(cta.numero)">\n            {{cta.nombre}}\n        </button>\n    </div>\n</div>\n--\x3e\n<div class="divFullSize">    \n    <div class="row">\n        <div class="col m12 s12" align="center" style="padding: 0 !important;">\n            <button mat-raised-button type="button" color="accent" class="btnAccion"\n                *ngFor="let cta of mesaEnUso.cuentas" [disabled]="+cta.cerrada == 1"\n                (click)="setSelectedCuenta(cta.numero)">\n                {{cta.nombre}}\n            </button>\n        </div>\n    </div>    \n    <div class="row">\n        <div class="col m6 s12" align="center" style="padding: 0 !important;">\n            <span class="bld">Productos</span><br />\n            <button mat-raised-button class="btnAccion" color="accent" *ngFor="let c of categorias"\n                (click)="clickOnCategoria(c)" [disabled]="bloqueoBotones">\n                {{c.descripcion}}\n            </button>\n        </div>\n        <div class="col m6 s12" align="center" style="padding: 0 !important;">\n            <span class="bld" *ngIf="cuentaActiva.nombre">Cuenta de {{cuentaActiva.nombre}}</span>\n            <span class="bld" *ngIf="!cuentaActiva.nombre">Por favor seleccione una cuenta. Gracias.</span>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col m6 s12 mat-elevation-z3 colProductos">\n            \x3c!--<app-lista-producto (productoClickedEv)="addProductoSelected($event)"></app-lista-producto>--\x3e\n            <app-lista-producto-alt #appLstProdAlt (productoClickedEv)="addProductoSelected($event)"\n                (categoriasFilledEv)="setListaCategorias($event)" [bloqueoBotones]="bloqueoBotones">\n            </app-lista-producto-alt>\n        </div>\n        <div class="col m6 s12 mat-elevation-z3 colProductos">\n            <app-lista-productos-comanda [listaProductos]="lstProductosDeCuenta" [noCuenta]="+cuentaActiva.numero"\n                [IdComanda]="mesaEnUso.comanda" [IdCuenta]="cuentaActiva.cuenta" [bloqueoBotones]="bloqueoBotones" [mesaEnUso]="mesaEnUso"\n                (productoRemovedEv)="updProductosCuenta($event)"></app-lista-productos-comanda>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col m12 s12" align="center">\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="printComanda()" [disabled]="!cuentaActiva.nombre || bloqueoBotones">\n                Comanda\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="printCuenta()" [disabled]="!cuentaActiva.nombre || bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Cuenta\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="unirCuentas()" [disabled]="mesaEnUso.cuentas.length < 2 || bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Unir cuentas\n            </button>            \n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="cobrarCuenta()"\n                [disabled]="!cuentaActiva.nombre || (esCajero(mesaEnUso.turno_rol) < 0) || bloqueoBotones">\n                Cobrar cuenta\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="trasladoMesa()" [disabled]="bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Trasladar\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccionComanda" (click)="cerrarMesa()"\n                *ngIf="lstProductosSeleccionados.length <= 0">\n                Cerrar {{+mesaEnUso.mesa.esmostrador === 0 ? \'Mesa\' : \'Mostrador\'}}\n            </button>\n        </div>\n    </div>\n</div>'},mRlv:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..." [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item matRipple *ngFor="let element of lstEntidadesPaged" (click)="getEntidad(element.area)">\n                <mat-icon mat-list-icon>settings</mat-icon>\n                <h5 mat-line>{{element.nombre}}</h5>\n            </mat-list-item>            \n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>'},mk46:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..."  [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item *ngFor="let element of lstTurnosPaged" (click)="getTurno(element)">\n                <mat-icon mat-list-icon>line_weight</mat-icon>\n                <h5 mat-line>{{element.descripcion}}</h5>                \n            </mat-list-item>\n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>'},nEkW:function(t,e,n){"use strict";n.r(e),e.default=".example-container .mat-form-field + .mat-form-field {\n  margin-left: 8px;\n}\n\nmat-grid-tile {\n  text-align: left;\n}\n\n.anulacion {\n\tcursor: pointer;\n}"},nTCp:function(t,e,n){"use strict";n.r(e),e.default='<mat-sidenav-container class="matSideNavContainer">\n    <mat-sidenav #rightSidenav mode="over" [(opened)]="openedRightPanel" (closedStart)="cerrandoRightSideNav()" position="end" disableClose>        \n        <app-tran-comanda #snTranComanda [mesaEnUso]="mesaSeleccionada" (mesaSavedEv)="actualizar()" (closeSideNavEv)="toggleRightSidenav($event)"></app-tran-comanda>\n    </mat-sidenav>\n    <mat-sidenav-content>\n        <mat-tab-group dynamicHeight backgroundColor="primary">\n            <mat-tab #tabArea *ngFor="let tabA of lstTabsAreas" label="{{tabA.nombre}}">\n                <div #matTabArea class="divAreaMesa" (window:resize)="onResize($event)">\n                    <app-mesa *ngFor="let m of tabA.mesas" [configuracion]="m" (onClickMesa)="onClickMesa($event)" [isDisabled]="cargando"></app-mesa>\n                </div>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-sidenav-content>\n</mat-sidenav-container>'},p5ks:function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Trasladar a otra mesa</h1>\n<div mat-dialog-content>\n    <form #frmTrasladarMesa="ngForm" novalidate>\n        <mat-form-field class="fullWidth">\n            <mat-label>Trasladar a mesa:</mat-label>\n            <mat-select name="destino" [(ngModel)]="destino" required>\n                <mat-option *ngFor="let mDispon of mesasDisponibles" [value]="mDispon">\n                    {{mDispon.area.nombre}} - {{mDispon.numero}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button type="button" color="accent" (click)="trasladar()" [disabled]="!frmTrasladarMesa.form.valid">\n        Trasladar\n    </button>\n</div>\n'},r7HG:function(t,e,n){"use strict";n.r(e),e.default='<div #divMesa cdkDrag (cdkDragEnded)="dragEnded($event)" cdkDragBoundary=".areaPosicionamiento" [cdkDragDisabled]="dontAllowDrag" class="divMesa mat-elevation-z6" \n    [ngClass]="{\'disponible\': +configuracion.estatus == 1 && +configuracion.debaja === 0, \'ocupada\': +configuracion.estatus == 2 && +configuracion.debaja === 0, \'debaja\': +configuracion.debaja === 1}"\n    (click)="clickMesa()"\n    [style.width.px]="getAncho()" \n    [style.height.px]="getAlto()" \n    [style.left.%]="configuracion.posx" \n    [style.top.%]="configuracion.posy"\n    [attr.disabled]="isDisabled ? true : null"\n    [style.backgroundImage]="\'url(\'+ urlImage +\')\'">\n    <span>{{configuracion.numero}}</span>\n</div>'},rfCi:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-header>\n        <mat-card-title>Reporte de ventas</mat-card-title>\n        <mat-card-subtitle>\n            Por categoría<br />\n            Del {{params.fdel | date:\'dd/MM/yyyy\'}} al {{params.fal | date:\'dd/MM/yyyy\'}}\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n        <table class="tbl">\n            <thead>\n                <tr>\n                    <th class="brdTSingleBSingle">Descripción</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Cantidad</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Porcentaje</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Precio unitario</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Total</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor="let cat of data">\n                    <ng-container *ngIf="cat.subcategoria.length > 0">\n                        <tr>\n                            <th colspan="5">{{cat.descripcion}}</th>\n                        </tr>\n                        \x3c!-- Inicio de contenedor de subcategorias --\x3e\n                        <ng-container *ngFor="let subcat of cat.subcategoria">\n                            <ng-container *ngIf="subcat.articulos.length > 0">\n                                <tr>\n                                    <th class="tab" colspan="5">{{subcat.descripcion}}</th>\n                                </tr>\n                                \x3c!-- Inicio de contenedor de artículos --\x3e\n                                <ng-container *ngFor="let art of subcat.articulos">\n                                    <tr>\n                                        <td class="doubleTab brdBSingle">{{art.descripcion}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.cantidad | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.porcentaje | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.precio_unitario | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.total | number:\'1.2-2\'}}</td>\n                                    </tr>\n                                </ng-container>\n                                \x3c!-- Fin de contenedor de artículos --\x3e\n                                <tr>\n                                    <th class="rtxt" colspan="4">Total de subcategoría:</th>\n                                    <th class="rtxt brdTSingleBDouble numWidth">{{subcat.total | number:\'1.2-2\'}}</th>\n                                </tr>\n                            </ng-container>\n                        </ng-container>\n                        \x3c!-- Fin de contenedor de subcategorias --\x3e\n                    </ng-container>\n                </ng-container>\n            </tbody>\n        </table>\n    </mat-card-content>\n    \x3c!--\n    <mat-card-footer>\n    </mat-card-footer>\n    --\x3e\n</mat-card>'},t8Kt:function(t,e,n){"use strict";n.r(e),e.default=""},tGvL:function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Abrir mesa</h1>\n<mat-dialog-content>\n    <form #frmAbrirMesa="ngForm" (ngSubmit)="frmAbrirMesa.form.valid" novalidate>\n            <mat-form-field class="separatorMargin">\n            <mat-label>Mesero</mat-label>\n            <mat-select name="mesero" [(ngModel)]="data.mesero">\n                <mat-option *ngFor="let usr of lstMeseros" [value]="usr.usuario.usuario">\n                    {{usr.usuario.nombres}} {{usr.usuario.apellidos}}\n                </mat-option>\n            </mat-select>\n            </mat-form-field>\n            <mat-form-field class="separatorMargin" *ngIf="!esMovil">\n            <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="numeric"\n                ng-virtual-keyboard-placeholder="# Comensales" placeholder="# Comensales" name="comensales"\n                [(ngModel)]="data.comensales" required>\n            </mat-form-field>\n                    <mat-form-field class="separatorMargin" *ngIf="esMovil">\n                <input type="text" matInput placeholder="# Comensales" name="comensales" [(ngModel)]="data.comensales"\n                    required>\n            </mat-form-field>\n            <mat-checkbox name="esEvento" class="separatorMargin" [(ngModel)]="+data.esEvento">¿Es evento?</mat-checkbox>\n            <mat-checkbox name="dividirCuentasPorSillas" class="separatorMargin" [(ngModel)]="+data.dividirCuentasPorSillas" [disabled]="+data.comensales <= 1">¿Dividir cuentas?</mat-checkbox>\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions align="end">\n    <button mat-raised-button (click)="terminar()" color="secondary" class="btnAccion">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="terminar(data)" [disabled]="!frmAbrirMesa.form.valid" color="accent">\n        Abrir mesa\n    </button>\n</mat-dialog-actions>'},uuZA:function(t,e,n){"use strict";n.r(e),e.default="table {\r\n    width: 100%;\r\n}\r\n\r\ntr.example-detail-row {\r\n    height: 0;\r\n}\r\n\r\ntr.example-element-row:not(.example-expanded-row):hover {\r\n    background: #777;\r\n}\r\n\r\ntr.example-element-row:not(.example-expanded-row):active {\r\n    background: #efefef;\r\n}\r\n\r\n.tamanioAmigable {\r\n  padding: 5px;\r\n  width: 10% !important;  \r\n  min-height: 55px;  \r\n}\r\n\r\n.btnCelSize { \r\n    min-width: 55px;   \r\n    width: 100%;\r\n}\r\n\r\n.example-element-row td {\r\n    border-bottom-width: 0;\r\n}\r\n\r\n.example-element-detail {\r\n    overflow: hidden;\r\n    display: flex;\r\n    /*\r\n    border-radius: 10px;\r\n    border: solid 1px lightgray;\r\n    */\r\n}\r\n\r\n.example-element-diagram {\r\n    min-width: 80px;\r\n    border: 2px solid black;\r\n    padding: 8px;\r\n    font-weight: lighter;\r\n    margin: 8px 0;\r\n    height: 104px;\r\n}\r\n\r\n.example-element-symbol {\r\n    font-weight: bold;\r\n    font-size: 40px;\r\n    line-height: normal;\r\n}\r\n\r\n.example-element-description {\r\n    padding: 16px;\r\n}\r\n\r\n.example-element-description-attribution {\r\n    opacity: 0.5;\r\n}"},vJMn:function(t,e,n){"use strict";n.r(e),e.default=".divFullSize {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n}\n\n.col {\n    padding-top: 1px;\n    padding-bottom: 1px;\n}\n\n.btnAccionComanda {\n    width: 135px;\n}\n\n.colProductos {\n    overflow-y: auto;\n    height: 400px !important;\n}"},"w/l6":function(t,e,n){"use strict";n.r(e),e.default=".divContenedor {\r\n    margin-left: 5px !important;\r\n}\r\n\r\n.bordeRght {\r\n    border-right: solid 1.5px black;    \r\n}\r\n\r\n.bordeLft {\r\n    border-left: solid 1.5px black;    \r\n}"},zBqX:function(t,e,n){"use strict";n.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n  <mat-card-content>\n    <mat-form-field>\n\t    <input matInput (keyup)="filtrar($event.target.value)" placeholder="Buscar...">\n\t</mat-form-field>\n\t<table mat-table [dataSource]="dataSource">\n        <ng-container matColumnDef="ccGeneral">\n            <td mat-cell *matCellDef="let element">\n                <mat-list>\n                    <mat-list-item>\n                        <mat-icon class="anulaicon" (click)="anularCaja(element)" mat-list-icon>close</mat-icon>\n                        <h5 mat-line>{{ element.descripcion }}</h5>\n                        <span mat-line>{{ element.creacion }}</span>\n                        <span mat-line>Total: {{ element.total }}</span>\n                        <button mat-icon-button type="button" color="accent" (click)="getCajacorte(element)">\n                            <mat-icon>arrow_right_alt</mat-icon>\n                        </button>\n                    </mat-list-item>\n                </mat-list>\n            </td>\n        </ng-container>\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n    </table>\n    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>\n  </mat-card-content>\n</mat-card>\n'},zG7m:function(t,e,n){"use strict";n.r(e),e.default=""},"zI+U":function(t,e,n){"use strict";n.r(e),e.default='<div class="diseniador">\n    <div style="height: 55px;" align="center">\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addTable()">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mesa\n        </button>\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addMostrador()">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mostrador\n        </button>\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addMostrador(true)">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mostrador vertical\n        </button>\n        <button mat-raised-button type="button" color="accent" (click)="terminar()">\n            Terminar\n        </button>\n    </div>\n    <div style="height: 5px; width: 100%;"></div>\n    <div id="divAreaPosicionamiento" class="areaPosicionamiento">\n        <app-mesa *ngFor="let m of mesas" [configuracion]="m" (onClickMesa)="onClickMesa($event)" [dontAllowDrag]="false" (contextmenu)="onContextMenu($event, m)"></app-mesa>\n    </div>\n    \x3c!-- Inicio del menu contextual --\x3e\n    <div style="visibility: hidden; position: fixed;" [style.left]="contextMenuPosition.x" [style.top]="contextMenuPosition.y" [matMenuTriggerFor]="contextMenu"></div>\n    <mat-menu #contextMenu="matMenu">\n        <ng-template matMenuContent let-item="item">\n            <span mat-menu-item class="mesaTitle" disableRipple="true">Mesa #{{item.numero}} ({{item.mesa}})</span>\n            <mat-divider></mat-divider>\n            <button mat-menu-item (click)="configurarMesa(item)" *ngIf="+item.esmostrador === 1 && +item.debaja === 0">\n                <mat-icon class="btnIconSize">settings</mat-icon>Configuracion\n            </button>\n            <button mat-menu-item (click)="toggleDeBaja(item)" *ngIf="+item.debaja === 0" class="customize" [disabled]="+item.estatus === 2">\n                <mat-icon class="btnIconSize">thumb_down</mat-icon>Dar de baja\n            </button>\n            <button mat-menu-item (click)="toggleDeBaja(item, 0)" *ngIf="+item.debaja === 1" class="customizeUp" [disabled]="+item.estatus === 2">\n                <mat-icon class="btnIconSize">thumb_up</mat-icon>Habilitar\n            </button>\n        </ng-template>\n    </mat-menu>\n    \x3c!-- Fin del menu contextual --\x3e\n</div>'},zlRV:function(t,e,n){"use strict";n.r(e),e.default='<h1 mat-dialog-title>Ingreso de datos de cuentas</h1>\n<div mat-dialog-content>\n    <table #tblCuentas mat-table [dataSource]="dataSource" class="fullWidth">\n        <ng-container matColumnDef="numero">\n            <th mat-header-cell *matHeaderCellDef>No.</th>\n            <td mat-cell *matCellDef="let element">\n                <span>{{element.numero}}</span>\n            </td>\n        </ng-container>\n        <ng-container matColumnDef="nombre">\n            <th mat-header-cell *matHeaderCellDef>Nombre</th>\n            <td mat-cell *matCellDef="let element">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input type="text" matInput name="nombre" [(ngModel)]="element.nombre" required>\n                    <button type="button" mat-button matSuffix mat-icon-button (click)="eliminarFila(element)">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric" ng-virtual-keyboard-placeholder="Nombre" name="nombre" [(ngModel)]="element.nombre" required>\n                    <button type="button" mat-button matSuffix mat-icon-button (click)="eliminarFila(element)">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n            </td>\n        </ng-container>        \n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n    </table>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="agregarFila()" color="accent" [disabled]="this.data.cuentas.length === +this.data.comensales">\n        Agregar\n    </button>\n    <button mat-raised-button (click)="terminar()" color="accent" [disabled]="this.data.cuentas.length !== +this.data.comensales">\n        Terminar        \n    </button>\n</div>'},"zmM/":function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-propina #lstPropina (getPropinaEv)="setPropina($event)"></app-lista-propina>\n    </div>\n    <div class="col m7 s12">\n        <app-form-propina #frmPropina [propina]="propina" (propinaSavedEv)="refreshPropinaList()"></app-form-propina>\n    </div>\n</div>'}}]);