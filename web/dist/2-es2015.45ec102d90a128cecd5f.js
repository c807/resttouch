(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"52Kp":function(t,e,a){"use strict";a.d(e,"a",function(){return N});const i="function"==typeof atob,n="function"==typeof btoa,c="function"==typeof Buffer,r="function"==typeof TextDecoder?new TextDecoder:void 0,o="function"==typeof TextEncoder?new TextEncoder:void 0,s=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],l=(t=>{let e={};return t.forEach((t,a)=>e[t]=a),e})(s),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),b=t=>t.replace(/[+\/]/g,t=>"+"==t?"-":"_").replace(/=+$/m,""),h=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),p=t=>{let e,a,i,n,c="";const r=t.length%3;for(let o=0;o<t.length;){if((a=t.charCodeAt(o++))>255||(i=t.charCodeAt(o++))>255||(n=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");e=a<<16|i<<8|n,c+=s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return r?c.slice(0,r-3)+"===".substring(r):c},m=n?t=>btoa(t):c?t=>Buffer.from(t,"binary").toString("base64"):p,g=c?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let a=0,i=t.length;a<i;a+=4096)e.push(d.apply(null,t.subarray(a,a+4096)));return m(e.join(""))},F=(t,e=!1)=>e?b(g(t)):g(t),S=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?d(192|e>>>6)+d(128|63&e):d(224|e>>>12&15)+d(128|e>>>6&63)+d(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return d(240|e>>>18&7)+d(128|e>>>12&63)+d(128|e>>>6&63)+d(128|63&e)},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,C=t=>t.replace(_,S),v=c?t=>Buffer.from(t,"utf8").toString("base64"):o?t=>g(o.encode(t)):t=>m(C(t)),T=(t,e=!1)=>e?b(v(t)):v(t),y=t=>T(t,!0),x=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,M=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return d(55296+(e>>>10))+d(56320+(1023&e));case 3:return d((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return d((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},D=t=>t.replace(x,M),I=t=>{if(t=t.replace(/\s+/g,""),!u.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,a,i,n="";for(let c=0;c<t.length;)e=l[t.charAt(c++)]<<18|l[t.charAt(c++)]<<12|(a=l[t.charAt(c++)])<<6|(i=l[t.charAt(c++)]),n+=64===a?d(e>>16&255):64===i?d(e>>16&255,e>>8&255):d(e>>16&255,e>>8&255,255&e);return n},O=i?t=>atob(h(t)):c?t=>Buffer.from(t,"base64").toString("binary"):I,k=c?t=>f(Buffer.from(t,"base64")):t=>f(O(t),t=>t.charCodeAt(0)),w=t=>k(E(t)),A=c?t=>Buffer.from(t,"base64").toString("utf8"):r?t=>r.decode(k(t)):t=>D(O(t)),E=t=>h(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),P=t=>A(E(t)),$=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),z=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,$(e));t("fromBase64",function(){return P(this)}),t("toBase64",function(t){return T(this,t)}),t("toBase64URI",function(){return T(this,!0)}),t("toBase64URL",function(){return T(this,!0)}),t("toUint8Array",function(){return w(this)})},j=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,$(e));t("toBase64",function(t){return F(this,t)}),t("toBase64URI",function(){return F(this,!0)}),t("toBase64URL",function(){return F(this,!0)})},N={version:"3.6.0",VERSION:"3.6.0",atob:O,atobPolyfill:I,btoa:m,btoaPolyfill:p,fromBase64:P,toBase64:T,encode:T,encodeURI:y,encodeURL:y,utob:C,btou:D,decode:P,isValid:t=>{if("string"!=typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:F,toUint8Array:w,extendString:z,extendUint8Array:j,extendBuiltins:()=>{z(),j()}}},JbvS:function(t,e,a){"use strict";a.d(e,"a",function(){return m}),a.d(e,"b",function(){return g}),a.d(e,"c",function(){return S}),a.d(e,"d",function(){return F});var i=a("fXoL"),n=a("bTqV"),c=a("ofXK"),r=a("xgIS"),o=a("cp0P"),s=a("IzEk");function l(t,e){1&t&&i.jc(0,0,["*ngIf","miniFabVisible"])}const u=[[["","mat-mini-fab",""]]],d=["[mat-mini-fab]"],f=[[["eco-fab-speed-dial-trigger"]],[["eco-fab-speed-dial-actions"]]],b=["eco-fab-speed-dial-trigger","eco-fab-speed-dial-actions"],h=[[["","mat-fab",""]]],p=["[mat-fab]"];let m=(()=>{class t{constructor(t,e){this.renderer=e,this.miniFabVisible=!1,this._parent=t.get(g)}ngAfterContentInit(){this._buttons.changes.subscribe(()=>{this.initButtonStates(),this._parent.setActionsVisibility()}),this.initButtonStates()}initButtonStates(){this._buttons.forEach((t,e)=>{this.renderer.addClass(t._getHostElement(),"eco-fab-action-item"),this.changeElementStyle(t._getHostElement(),"z-index",""+(23-e))})}show(){this._buttons&&(this.resetAnimationState(),this.miniFabVisible=!0,this.showMiniFabAnimation=setTimeout(()=>{this._buttons.forEach((t,e)=>{let a,i=0;"scale"===this._parent.animationMode?(i=3+65*e,a="scale(1)"):a=this.getTranslateFunction("0");const n=t._getHostElement();this.changeElementStyle(n,"transition-delay",i+"ms"),this.changeElementStyle(n,"opacity","1"),this.changeElementStyle(n,"transform",a)})},50))}resetAnimationState(){clearTimeout(this.showMiniFabAnimation),this.hideMiniFab&&(this.hideMiniFab.unsubscribe(),this.hideMiniFab=null)}hide(){if(!this._buttons)return;this.resetAnimationState();const t=this._buttons.map((t,e)=>{let a,i="1",n=0;"scale"===this._parent.animationMode?(n=3-65*e,a="scale(0)",i="0"):a=this.getTranslateFunction(55*(e+1)-5*e+"px");const c=t._getHostElement();return this.changeElementStyle(c,"transition-delay",n+"ms"),this.changeElementStyle(c,"opacity",i),this.changeElementStyle(c,"transform",a),Object(r.a)(c,"transitionend").pipe(Object(s.a)(1))});this.hideMiniFab=Object(o.a)(t).subscribe(()=>this.miniFabVisible=!1)}getTranslateFunction(t){const e=this._parent.direction;return("up"===e||"down"===e?"translateY":"translateX")+"("+("down"===e||"right"===e?"-":"")+t+")"}changeElementStyle(t,e,a){this.renderer.setStyle(t,e,a)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.t),i.Nb(i.G))},t.\u0275cmp=i.Hb({type:t,selectors:[["eco-fab-speed-dial-actions"]],contentQueries:function(t,e,a){if(1&t&&i.Gb(a,n.a,0),2&t){let t;i.sc(t=i.cc())&&(e._buttons=t)}},ngContentSelectors:d,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(i.kc(u),i.Dc(0,l,1,0,"ng-content",0)),2&t&&i.lc("ngIf",e.miniFabVisible)},directives:[c.m],encapsulation:2}),t})(),g=(()=>{class t{constructor(t,e,a){this.elementRef=t,this.renderer=e,this.document=a,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this._fixed=!1,this._documentClickUnlistener=null,this.openChange=new i.o}get fixed(){return this._fixed}set fixed(t){this._fixed=t,this._processOutsideClickState()}get open(){return this._open}set open(t){const e=this._open;this._open=t,e!==this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())}get direction(){return this._direction}set direction(t){const e=this._direction;this._direction=t,e!==this.direction&&(this._setElementClass(e,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())}get animationMode(){return this._animationMode}set animationMode(t){const e=this._animationMode;this._animationMode=t,e!==this._animationMode&&(this._setElementClass(e,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then(()=>this.open=!1))}ngAfterContentInit(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)}ngOnDestroy(){this._unsetDocumentClickListener()}toggle(){this.open=!this.open}_onClick(){!this.fixed&&this.open&&(this.open=!1)}setActionsVisibility(){this._childActions&&(this.open?this._childActions.show():this._childActions.hide(),this._processOutsideClickState())}_setElementClass(t,e){const a=`eco-${t}`;e?this.renderer.addClass(this.elementRef.nativeElement,a):this.renderer.removeClass(this.elementRef.nativeElement,a)}_processOutsideClickState(){!this.fixed&&this.open?this._setDocumentClickListener():this._unsetDocumentClickListener()}_setDocumentClickListener(){this._documentClickUnlistener||(this._documentClickUnlistener=this.renderer.listen(this.document,"click",()=>{this.open=!1}))}_unsetDocumentClickListener(){this._documentClickUnlistener&&(this._documentClickUnlistener(),this._documentClickUnlistener=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.G),i.Nb(c.d))},t.\u0275cmp=i.Hb({type:t,selectors:[["eco-fab-speed-dial"]],contentQueries:function(t,e,a){if(1&t&&i.Gb(a,m,1),2&t){let t;i.sc(t=i.cc())&&(e._childActions=t.first)}},hostVars:2,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._onClick()}),2&t&&i.Fb("eco-opened",e.open)},inputs:{fixed:"fixed",open:"open",direction:"direction",animationMode:"animationMode"},outputs:{openChange:"openChange"},ngContentSelectors:b,decls:3,vars:0,consts:[[1,"eco-fab-speed-dial-container"]],template:function(t,e){1&t&&(i.kc(f),i.Tb(0,"div",0),i.jc(1),i.jc(2,1),i.Sb())},styles:["eco-fab-speed-dial{display:inline-block}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180{transform:rotate(180deg)}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transform:rotate(1turn)}eco-fab-speed-dial .eco-fab-speed-dial-container{align-items:center;display:flex;position:relative;z-index:20}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{pointer-events:auto;z-index:24}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180,eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transition:all .6s cubic-bezier(.4,0,.2,1)}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-actions{display:flex;height:0;position:absolute;width:0}eco-fab-speed-dial.eco-fling .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{display:block;opacity:1;transition:all .3s cubic-bezier(.55,0,.55,.2)}eco-fab-speed-dial.eco-scale .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{transform:scale(0);transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}eco-fab-speed-dial.eco-down eco-fab-speed-dial-actions{bottom:2px;left:7px}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column;order:2}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-top:10px}eco-fab-speed-dial.eco-up eco-fab-speed-dial-actions{left:7px;top:2px}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column-reverse;order:1}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-bottom:10px}eco-fab-speed-dial.eco-left eco-fab-speed-dial-actions{left:2px;top:7px}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row-reverse;order:1}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-right:10px}eco-fab-speed-dial.eco-right eco-fab-speed-dial-actions{right:2px;top:7px}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row;order:2}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-left:10px}"],encapsulation:2}),t})(),F=(()=>{class t{constructor(t){this.spin=!1,this._parent=t.get(g)}get sp(){return this.spin}_onClick(t){this._parent.fixed||(this._parent.toggle(),t.stopPropagation())}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.t))},t.\u0275cmp=i.Hb({type:t,selectors:[["eco-fab-speed-dial-trigger"]],hostVars:2,hostBindings:function(t,e){1&t&&i.bc("click",function(t){return e._onClick(t)}),2&t&&i.Fb("eco-spin",e.sp)},inputs:{spin:"spin"},ngContentSelectors:p,decls:1,vars:0,template:function(t,e){1&t&&(i.kc(h),i.jc(0))},encapsulation:2}),t})(),S=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[c.c]]}),t})()},KFbY:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var i=a("sKxO"),n=a("R5jZ"),c=a("un/a"),r=a("JIr8"),o=a("Qyje"),s=a("fXoL"),l=a("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.moduleUrl="factura",this.srvcErrHndl=new n.a}facturar(t){return this.http.post(`${i.a.urlAppRestaurante}/${this.moduleUrl}/guardar`,t).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}get(t={}){return this.http.get(`${i.a.urlFacturacion}/${this.moduleUrl}/buscar_factura?${o.stringify(t)}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}imprimir(t){return this.http.get(`${i.a.urlFacturacion}/${this.moduleUrl}/imprimir/${t}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}save(t){return this.http.post(`${i.a.urlFacturacion}/${this.moduleUrl}/guardar${t.factura?"/"+t.factura:""}`,t).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}refacturar(t){return this.http.post(`${i.a.urlFacturacion}/${this.moduleUrl}/refacturar${t.factura?"/"+t.factura:""}`,t).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}firmar(t){return this.http.post(`${i.a.urlFacturacion}/${this.moduleUrl}/facturar/${t}`,{}).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}anular(t,e={}){return this.http.post(`${i.a.urlFacturacion}/${this.moduleUrl}/anular/${t}`,e).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}getDetalle(t,e={}){return this.http.get(`${i.a.urlFacturacion}/${this.moduleUrl}/buscar_detalle/${t}?${o.stringify(e)}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}saveDetalle(t){return this.http.post(`${i.a.urlFacturacion}/${this.moduleUrl}/guardar_detalle/${t.factura}${t.detalle_factura?"/"+t.detalle_factura:""}`,t).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}getGrafo(t){return this.http.get(`${i.a.urlFacturacion}/${this.moduleUrl}/get_grafo_factura/${t}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(l.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KZK3:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var i=a("sKxO"),n=a("R5jZ"),c=a("un/a"),r=a("JIr8"),o=a("Qyje"),s=a("fXoL"),l=a("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.moduleUrl="catalogo",this.manteUrl="fpago",this.srvcErrHndl=new n.a}get(t={}){return this.http.get(`${i.a.url}/${this.moduleUrl}/get_forma_pago?${o.stringify(t)}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}buscar(t={}){return this.http.get(`${i.a.urlMantenimientos}/${this.manteUrl}/buscar?${o.stringify(t)}`).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}save(t){return this.http.post(`${i.a.urlMantenimientos}/${this.manteUrl}/guardar${t.forma_pago?"/"+t.forma_pago:""}`,t).pipe(Object(c.a)(i.a.reintentos),Object(r.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(l.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qodq:function(t,e,a){"use strict";a.r(e),a.d(e,"PosModule",function(){return Xt});var i=a("ofXK"),n=a("tk/3"),c=a("3Pt+"),r=a("PCNd"),o=a("jkDv"),s=a("MutI"),l=a("NFeN"),u=a("kmnG"),d=a("qFsG"),f=a("Wp6s"),b=a("f0Cb"),h=a("wZkO"),p=a("+0xr"),m=a("d3UM"),g=a("bSwM"),F=a("bTqV"),S=a("dNgK"),_=a("/t3+"),C=a("STbY"),v=a("zkoq"),T=a("M9IT"),y=a("0IaG"),x=a("XhcP"),M=a("/1cH"),D=a("uM5D"),I=a("JbvS"),O=a("tyNb"),k=a("0T/Q"),w=a("fXoL"),A=a("sKxO"),E=a("KZK3"),P=a("FKr1");function $(t,e){if(1&t){const t=w.Ub();w.Tb(0,"mat-list-item",5),w.bc("click",function(){w.xc(t);const a=e.$implicit;return w.fc().getFormaPago(a)}),w.Tb(1,"mat-icon",6),w.Fc(2,"account_balance_wallet"),w.Sb(),w.Tb(3,"h5",7),w.Fc(4),w.Sb(),w.Sb()}if(2&t){const t=e.$implicit;w.Cb(4),w.Gc(t.descripcion)}}const z=function(){return{standalone:!0}};let j=(()=>{class t{constructor(t){this.formaPagoSrvc=t,this.getFormaPagoEv=new w.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadFormasPago=()=>{this.formaPagoSrvc.buscar().subscribe(t=>{t&&t.length>0&&(this.lstFormasPago=t,this.applyFilter())})},this.getFormaPago=t=>{this.getFormaPagoEv.emit(t)},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.loadFormasPago()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(A.b)(this.lstFormasPago,this.txtFiltro);this.length=t.length,this.lstFormasPagoPaged=Object(A.d)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstFormasPago.length,this.lstFormasPagoPaged=Object(A.d)(this.lstFormasPago,this.pageSize,this.pageIndex+1)}}return t.\u0275fac=function(e){return new(e||t)(w.Nb(E.a))},t.\u0275cmp=w.Hb({type:t,selectors:[["app-lista-forma-pago"]],outputs:{getFormaPagoEv:"getFormaPagoEv"},decls:7,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","placeholder","Buscar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(t,e){1&t&&(w.Tb(0,"mat-card",0),w.Tb(1,"mat-card-content"),w.Tb(2,"mat-form-field",1),w.Tb(3,"input",2),w.bc("keyup",function(){return e.applyFilter()})("ngModelChange",function(t){return e.txtFiltro=t}),w.Sb(),w.Sb(),w.Tb(4,"mat-nav-list"),w.Dc(5,$,5,1,"mat-list-item",3),w.Sb(),w.Tb(6,"mat-paginator",4),w.bc("page",function(t){return e.pageChange(t)}),w.Sb(),w.Sb(),w.Sb()),2&t&&(w.Cb(3),w.lc("ngModel",e.txtFiltro)("ngModelOptions",w.nc(6,z)),w.Cb(2),w.lc("ngForOf",e.lstFormasPagoPaged),w.Cb(1),w.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[f.a,f.c,u.b,d.b,c.c,c.k,c.n,s.e,i.l,T.a,s.c,l.a,s.b,P.j],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),t})();var N=a("FY0D");function U(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",11),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().formaPago.descripcion=e}),w.Sb()}if(2&t){const t=w.fc();w.lc("matKeyboard",t.keyboardLayout)("ngModel",t.formaPago.descripcion)}}function H(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",12),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().formaPago.descripcion=e}),w.Sb()}if(2&t){const t=w.fc();w.lc("ngModel",t.formaPago.descripcion)}}function B(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",13),w.bc("click",function(){return w.xc(t),w.fc().resetFormaPago()}),w.Fc(1," Nueva "),w.Sb()}}let R=(()=>{class t{constructor(t,e,a){this.snackBar=t,this.formaPagoSrvc=e,this.ls=a,this.formaPagoSavedEv=new w.o,this.keyboardLayout=A.a.IDIOMA_TECLADO,this.esMovil=!1,this.resetFormaPago=()=>this.formaPago={forma_pago:null,descripcion:null,activo:1},this.onSubmit=()=>{this.formaPagoSrvc.save(this.formaPago).subscribe(t=>{t.exito&&(this.formaPagoSavedEv.emit(),this.resetFormaPago(),this.snackBar.open("Forma de pago agregada...","Forma de pago",{duration:3e3}))})}}ngOnInit(){this.esMovil=this.ls.get(A.a.usrTokenVar).enmovil||!1}}return t.\u0275fac=function(e){return new(e||t)(w.Nb(S.b),w.Nb(E.a),w.Nb(N.a))},t.\u0275cmp=w.Hb({type:t,selectors:[["app-form-forma-pago"]],inputs:{formaPago:"formaPago"},outputs:{formaPagoSavedEv:"formaPagoSavedEv"},decls:18,vars:6,consts:[[1,"mat-elevation-z4","fullWidth"],["novalidate","",3,"ngSubmit"],["frmFormaPago","ngForm"],[1,"form-group"],[1,"fullWidth"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"matKeyboard","ngModel","ngModelChange",4,"ngIf"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"ngModel","ngModelChange",4,"ngIf"],["name","activo",1,"fullWidth",3,"ngModel","ngModelChange"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"matKeyboard","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descripci\xf3n","name","descripcion","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",3,"click"]],template:function(t,e){if(1&t){const t=w.Ub();w.Tb(0,"mat-card",0),w.Tb(1,"mat-card-title"),w.Tb(2,"h4"),w.Fc(3),w.Sb(),w.Sb(),w.Tb(4,"mat-card-content"),w.Tb(5,"form",1,2),w.bc("ngSubmit",function(){return w.xc(t),w.tc(6).form.valid&&e.onSubmit()}),w.Tb(7,"div",3),w.Tb(8,"mat-form-field",4),w.Dc(9,U,1,2,"input",5),w.Dc(10,H,1,1,"input",6),w.Sb(),w.Sb(),w.Tb(11,"div",3),w.Tb(12,"mat-checkbox",7),w.bc("ngModelChange",function(t){return+(e.formaPago.activo=t)}),w.Fc(13,"Activo"),w.Sb(),w.Sb(),w.Tb(14,"div",8),w.Tb(15,"button",9),w.Fc(16," Guardar "),w.Sb(),w.Dc(17,B,2,0,"button",10),w.Sb(),w.Sb(),w.Sb(),w.Sb()}if(2&t){const t=w.tc(6);w.Cb(3),w.Hc(" Forma de pago ",e.formaPago.forma_pago?e.formaPago.descripcion:""," "),w.Cb(6),w.lc("ngIf",!e.esMovil),w.Cb(1),w.lc("ngIf",e.esMovil),w.Cb(2),w.lc("ngModel",+e.formaPago.activo),w.Cb(3),w.lc("disabled",!t.form.valid),w.Cb(2),w.lc("ngIf",e.formaPago.forma_pago)}},directives:[f.a,f.h,f.c,c.r,c.l,c.m,u.b,i.m,g.a,c.k,c.n,F.a,d.b,D.a,c.c,c.p],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),t})();const L=["lstFormaPago"];let K=(()=>{class t{constructor(){this.setFormaPago=t=>this.formaPago=t,this.refreshFormaPagoList=()=>this.lstFormaPagoComponent.loadFormasPago(),this.formaPago={forma_pago:null,descripcion:null,activo:1}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=w.Hb({type:t,selectors:[["app-forma-pago"]],viewQuery:function(t,e){if(1&t&&w.Kc(L,1),2&t){let t;w.sc(t=w.cc())&&(e.lstFormaPagoComponent=t.first)}},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getFormaPagoEv"],["lstFormaPago",""],[1,"col","m7","s12"],[3,"formaPago","formaPagoSavedEv"],["frmIngreso",""]],template:function(t,e){1&t&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"app-lista-forma-pago",2,3),w.bc("getFormaPagoEv",function(t){return e.setFormaPago(t)}),w.Sb(),w.Sb(),w.Tb(4,"div",4),w.Tb(5,"app-form-forma-pago",5,6),w.bc("formaPagoSavedEv",function(){return e.refreshFormaPagoList()}),w.Sb(),w.Sb(),w.Sb()),2&t&&(w.Cb(5),w.lc("formaPago",e.formaPago))},directives:[j,R],styles:[""]}),t})();var V=a("wd/R"),W=a("KFbY");const q=function(){return{standalone:!0}};function G(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",10),w.bc("input",function(){return w.xc(t),w.fc().applyFilter()})("ngModelChange",function(e){return w.xc(t),w.fc().txtFiltro=e}),w.Sb()}if(2&t){const t=w.fc();w.lc("matKeyboard",t.keyboardLayout)("ngModel",t.txtFiltro)("ngModelOptions",w.nc(3,q))}}function J(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",11),w.bc("keyup",function(){return w.xc(t),w.fc().applyFilter()})("ngModelChange",function(e){return w.xc(t),w.fc().txtFiltro=e}),w.Sb()}if(2&t){const t=w.fc();w.lc("ngModel",t.txtFiltro)("ngModelOptions",w.nc(2,q))}}function X(t,e){if(1&t){const t=w.Ub();w.Tb(0,"mat-list-item",12),w.bc("click",function(){w.xc(t);const a=e.$implicit;return w.fc().getFactura(a)}),w.Tb(1,"mat-icon",13),w.Fc(2,"receipt"),w.Sb(),w.Tb(3,"h5",14),w.Fc(4),w.Sb(),w.Tb(5,"span",14),w.Fc(6),w.gc(7,"date"),w.Sb(),w.Tb(8,"span",14),w.Fc(9),w.Sb(),w.Tb(10,"span",14),w.Fc(11),w.Sb(),w.Sb()}if(2&t){const t=e.$implicit;w.Cb(4),w.Ic("",t.serie_factura,"\xa0",t.numero_factura,""),w.Cb(2),w.Hc("Fecha: ",w.ic(7,5,t.fecha_factura,"dd/MM/yyyy"),""),w.Cb(3),w.Hc("Cliente: ",t.cliente.nombre,""),w.Cb(2),w.Hc("NIT: ",t.cliente.nit,"")}}let Q=(()=>{class t{constructor(t,e){this.facturaSrvc=t,this.ls=e,this.esMovil=!1,this.keyboardLayout=A.a.IDIOMA_TECLADO,this.getFacturaEv=new w.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.verTodas=!1,this.rango={fdel:null,fal:null},this.loadFacturas=()=>{const t={};this.verTodas&&(t._todas=!0),V(this.rango.fdel).isValid()&&(t._fdel=this.rango.fdel),V(this.rango.fal).isValid()&&(t._fal=this.rango.fal),this.facturaSrvc.get(t).subscribe(t=>{t&&(this.lstFacturas=t.length>0?t:[],this.applyFilter())})},this.cargarFacturas=t=>this.loadFacturas(),this.getFactura=t=>{this.getFacturaEv.emit(t)},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.esMovil=this.ls.get(A.a.usrTokenVar).enmovil||!1,this.rango.fdel=V().startOf("month").format(A.a.dbDateFormat),this.rango.fal=V().endOf("month").format(A.a.dbDateFormat),this.loadFacturas()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(A.b)(this.lstFacturas,this.txtFiltro);this.length=t.length,this.lstFacturasPaged=Object(A.d)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstFacturas.length,this.lstFacturasPaged=Object(A.d)(this.lstFacturas,this.pageSize,this.pageIndex+1)}}return t.\u0275fac=function(e){return new(e||t)(w.Nb(W.a),w.Nb(N.a))},t.\u0275cmp=w.Hb({type:t,selectors:[["app-lista-factura-manual"]],outputs:{getFacturaEv:"getFacturaEv"},decls:16,vars:15,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","type","date","placeholder","Del",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","date","placeholder","Al",3,"ngModel","ngModelOptions","ngModelChange"],["name","pedirdocumento",1,"btnAccion",3,"ngModel","ngModelOptions","ngModelChange","change"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","placeholder","Filtrar...",3,"matKeyboard","ngModel","ngModelOptions","input","ngModelChange",4,"ngIf"],["matInput","","placeholder","Filtrar...",3,"ngModel","ngModelOptions","keyup","ngModelChange",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["matInput","","placeholder","Filtrar...",3,"matKeyboard","ngModel","ngModelOptions","input","ngModelChange"],["matInput","","placeholder","Filtrar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(t,e){1&t&&(w.Tb(0,"mat-card",0),w.Tb(1,"mat-card-content"),w.Tb(2,"mat-form-field",1),w.Tb(3,"input",2),w.bc("ngModelChange",function(t){return e.rango.fdel=t}),w.Sb(),w.Sb(),w.Tb(4,"mat-form-field",1),w.Tb(5,"input",3),w.bc("ngModelChange",function(t){return e.rango.fal=t}),w.Sb(),w.Sb(),w.Tb(6,"mat-checkbox",4),w.bc("ngModelChange",function(t){return e.verTodas=t})("change",function(t){return e.cargarFacturas(t)}),w.Fc(7,"Todas"),w.Sb(),w.Tb(8,"button",5),w.bc("click",function(){return e.loadFacturas()}),w.Fc(9," Buscar "),w.Sb(),w.Tb(10,"mat-form-field",1),w.Dc(11,G,1,4,"input",6),w.Dc(12,J,1,3,"input",7),w.Sb(),w.Tb(13,"mat-nav-list"),w.Dc(14,X,12,8,"mat-list-item",8),w.Sb(),w.Tb(15,"mat-paginator",9),w.bc("page",function(t){return e.pageChange(t)}),w.Sb(),w.Sb(),w.Sb()),2&t&&(w.Cb(3),w.lc("ngModel",e.rango.fdel)("ngModelOptions",w.nc(12,q)),w.Cb(2),w.lc("ngModel",e.rango.fal)("ngModelOptions",w.nc(13,q)),w.Cb(1),w.lc("ngModel",e.verTodas)("ngModelOptions",w.nc(14,q)),w.Cb(5),w.lc("ngIf",!e.esMovil),w.Cb(1),w.lc("ngIf",e.esMovil),w.Cb(2),w.lc("ngForOf",e.lstFacturasPaged),w.Cb(1),w.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[f.a,f.c,u.b,d.b,c.c,c.k,c.n,g.a,F.a,i.m,s.e,i.l,T.a,D.a,s.c,l.a,s.b,P.j],pipes:[i.e],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),t})();var Z=a("IJgu"),Y=a("52Kp"),tt=a("R5jZ"),et=a("un/a"),at=a("JIr8"),it=a("Qyje");let nt=(()=>{class t{constructor(t){this.http=t,this.srvcErrHndl=new tt.a}get(t={}){return this.http.get(`${A.a.urlCatalogos}/get_factura_serie?${it.stringify(t)}`).pipe(Object(et.a)(A.a.reintentos),Object(at.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(w.Xb(n.b))},t.\u0275prov=w.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ct=a("M8s9");let rt=(()=>{class t{constructor(t){this.http=t,this.srvcErrHndl=new tt.a}get(t={}){return this.http.get(`${A.a.urlCatalogos}/get_moneda?${it.stringify(t)}`).pipe(Object(et.a)(A.a.reintentos),Object(at.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(w.Xb(n.b))},t.\u0275prov=w.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ot=a("NGYs"),st=a("X/K6"),lt=a("7JkF"),ut=a("qXgu"),dt=a("qMXL");function ft(t,e){1&t&&(w.Tb(0,"h4",6),w.Fc(1,"*** ANULADA ***"),w.Sb())}function bt(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",7),w.bc("click",function(){return w.xc(t),w.fc().showForm=!0}),w.Tb(1,"mat-icon",8),w.Fc(2,"expand_more"),w.Sb(),w.Sb()}}function ht(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",7),w.bc("click",function(){return w.xc(t),w.fc().showForm=!1}),w.Tb(1,"mat-icon",8),w.Fc(2,"expand_less"),w.Sb(),w.Sb()}}function pt(t,e){if(1&t&&(w.Tb(0,"mat-option",28),w.Fc(1),w.Sb()),2&t){const t=e.$implicit;w.lc("value",t.factura_serie),w.Cb(1),w.Ic(" ",t.serie," (",t.tipo,") ")}}function mt(t,e){if(1&t&&(w.Tb(0,"mat-option",28),w.Fc(1),w.Sb()),2&t){const t=e.$implicit;w.lc("value",t),w.Cb(1),w.Ic(" ",t.nombre," (",t.nit,") ")}}function gt(t,e){if(1&t&&(w.Tb(0,"mat-option",28),w.Fc(1),w.Sb()),2&t){const t=e.$implicit;w.lc("value",t.moneda),w.Cb(1),w.Ic(" ",t.nombre," (",t.simbolo,") ")}}function Ft(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",29),w.bc("ngModelChange",function(e){return w.xc(t),w.fc(2).factura.notas=e}),w.Sb()}if(2&t){const t=w.fc(2);w.lc("matKeyboard",t.keyboardLayout)("ngModel",t.factura.notas)}}function St(t,e){if(1&t){const t=w.Ub();w.Tb(0,"input",30),w.bc("ngModelChange",function(e){return w.xc(t),w.fc(2).factura.notas=e}),w.Sb()}if(2&t){const t=w.fc(2);w.lc("ngModel",t.factura.notas)}}function _t(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",31),w.bc("click",function(){return w.xc(t),w.fc(2).refacturar()}),w.Fc(1," Refacturar "),w.Sb()}}function Ct(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",32),w.bc("click",function(){return w.xc(t),w.fc(2).resetFactura()}),w.Fc(1," Nueva "),w.Sb()}}const vt=function(){return{standalone:!0}};function Tt(t,e){if(1&t){const t=w.Ub();w.Tb(0,"form",9,10),w.bc("ngSubmit",function(){w.xc(t);const e=w.tc(1),a=w.fc();return e.form.valid&&a.onSubmit()}),w.Tb(2,"div",11),w.Tb(3,"mat-form-field",12),w.Tb(4,"mat-label"),w.Fc(5,"Serie"),w.Sb(),w.Tb(6,"mat-select",13),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().factura.factura_serie=e}),w.Dc(7,pt,2,3,"mat-option",14),w.Sb(),w.Sb(),w.Sb(),w.Tb(8,"div",11),w.Tb(9,"mat-form-field",12),w.Tb(10,"mat-label"),w.Fc(11,"Cliente"),w.Sb(),w.Tb(12,"input",15),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().clienteSelected=e})("keyup",function(){w.xc(t);const e=w.fc();return e.filtrar(e.clienteSelected)}),w.Sb(),w.Tb(13,"mat-autocomplete",16,17),w.Dc(15,mt,2,3,"mat-option",14),w.Sb(),w.Sb(),w.Sb(),w.Tb(16,"div",11),w.Tb(17,"mat-form-field",12),w.Tb(18,"input",18),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().factura.fecha_factura=e}),w.Sb(),w.Sb(),w.Sb(),w.Tb(19,"div",11),w.Tb(20,"mat-form-field",12),w.Tb(21,"mat-label"),w.Fc(22,"Moneda"),w.Sb(),w.Tb(23,"mat-select",19),w.bc("ngModelChange",function(e){return w.xc(t),w.fc().factura.moneda=e}),w.Dc(24,gt,2,3,"mat-option",14),w.Sb(),w.Sb(),w.Sb(),w.Tb(25,"div",11),w.Tb(26,"mat-checkbox",20),w.bc("ngModelChange",function(e){return w.xc(t),+(w.fc().factura.exenta=e)}),w.Fc(27,"Exenta"),w.Sb(),w.Sb(),w.Tb(28,"div",11),w.Tb(29,"mat-form-field",12),w.Dc(30,Ft,1,2,"input",21),w.Dc(31,St,1,1,"input",22),w.Sb(),w.Sb(),w.Tb(32,"div",23),w.Tb(33,"button",24),w.Fc(34," Guardar "),w.Sb(),w.Tb(35,"button",25),w.bc("click",function(){return w.xc(t),w.fc().firmarFactura()}),w.Fc(36," Firmar "),w.Sb(),w.Tb(37,"button",25),w.bc("click",function(){return w.xc(t),w.fc().imprimirFactura()}),w.Fc(38," Imprimir "),w.Sb(),w.Tb(39,"button",25),w.bc("click",function(){return w.xc(t),w.fc().representacionGrafica()}),w.Fc(40," PDF "),w.Sb(),w.Tb(41,"button",25),w.bc("click",function(){return w.xc(t),w.fc().anularFactura()}),w.Fc(42," Anular "),w.Sb(),w.Dc(43,_t,2,0,"button",26),w.Dc(44,Ct,2,0,"button",27),w.Sb(),w.Sb()}if(2&t){const t=w.tc(1),e=w.tc(14),a=w.fc();w.Cb(6),w.lc("ngModel",a.factura.factura_serie),w.Cb(1),w.lc("ngForOf",a.facturaSeries),w.Cb(5),w.lc("ngModel",a.clienteSelected)("ngModelOptions",w.nc(20,vt))("matAutocomplete",e),w.Cb(1),w.lc("displayWith",a.displayCliente),w.Cb(2),w.lc("ngForOf",a.filteredClientes),w.Cb(3),w.lc("ngModel",a.factura.fecha_factura),w.Cb(5),w.lc("ngModel",a.factura.moneda),w.Cb(1),w.lc("ngForOf",a.monedas),w.Cb(2),w.lc("ngModel",+a.factura.exenta),w.Cb(4),w.lc("ngIf",!a.esMovil),w.Cb(1),w.lc("ngIf",a.esMovil),w.Cb(2),w.lc("disabled",!(t.form.valid&&!a.factura.fel_uuid&&!a.factura.fel_uuid_anulacion&&a.factura.cliente)),w.Cb(2),w.lc("disabled",!t.form.valid||!!a.factura.fel_uuid||!!a.factura.fel_uuid_anulacion||0===a.detallesFactura.length||a.refacturacion),w.Cb(2),w.lc("disabled",!t.form.valid||null==a.factura.fel_uuid||null==a.factura.fel_uuid||!!a.factura.fel_uuid_anulacion||0===a.detallesFactura.length||a.refacturacion),w.Cb(2),w.lc("disabled",!t.form.valid||null==a.factura.fel_uuid||null==a.factura.fel_uuid||0===a.detallesFactura.length||a.refacturacion),w.Cb(2),w.lc("disabled",!t.form.valid||null==a.factura.fel_uuid||null==a.factura.fel_uuid||!!a.factura.fel_uuid_anulacion||0===a.detallesFactura.length),w.Cb(2),w.lc("ngIf",!!a.factura.fel_uuid_anulacion),w.Cb(1),w.lc("ngIf",a.factura.factura)}}function yt(t,e){1&t&&w.Ob(0,"hr")}function xt(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",7),w.bc("click",function(){return w.xc(t),w.fc(2).showFormDetalle=!0}),w.Tb(1,"mat-icon",8),w.Fc(2,"expand_more"),w.Sb(),w.Sb()}}function Mt(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",7),w.bc("click",function(){return w.xc(t),w.fc(2).showFormDetalle=!1}),w.Tb(1,"mat-icon",8),w.Fc(2,"expand_less"),w.Sb(),w.Sb()}}function Dt(t,e){if(1&t&&(w.Tb(0,"mat-option",28),w.Fc(1),w.Sb()),2&t){const t=e.$implicit;w.lc("value",t),w.Cb(1),w.Hc(" ",t.descripcion," ")}}function It(t,e){if(1&t){const t=w.Ub();w.Tb(0,"button",32),w.bc("click",function(){return w.xc(t),w.fc(3).resetDetalleFactura()}),w.Fc(1," Nuevo "),w.Sb()}}function Ot(t,e){if(1&t){const t=w.Ub();w.Tb(0,"form",9,34),w.bc("ngSubmit",function(){w.xc(t);const e=w.tc(1),a=w.fc(2);return e.form.valid&&a.onSubmitDetail()}),w.Tb(2,"div",11),w.Tb(3,"mat-form-field",12),w.Tb(4,"mat-label"),w.Fc(5,"Art\xedculo"),w.Sb(),w.Tb(6,"input",35),w.bc("ngModelChange",function(e){return w.xc(t),w.fc(2).txtArticuloSelected=e})("keyup",function(){w.xc(t);const e=w.fc(2);return e.filtrarArticulos(e.txtArticuloSelected)}),w.Sb(),w.Tb(7,"mat-autocomplete",36,37),w.bc("optionSelected",function(e){return w.xc(t),w.fc(2).setPrecioUnitario(e)}),w.Dc(9,Dt,2,2,"mat-option",14),w.Sb(),w.Sb(),w.Sb(),w.Tb(10,"div",11),w.Tb(11,"mat-form-field",12),w.Tb(12,"input",38),w.bc("ngModelChange",function(e){return w.xc(t),w.fc(2).detalleFactura.cantidad=e})("change",function(){w.xc(t);const e=w.fc(2);return e.detalleFactura.total=+e.detalleFactura.precio_unitario*+e.detalleFactura.cantidad}),w.Sb(),w.Sb(),w.Sb(),w.Tb(13,"div",11),w.Tb(14,"mat-form-field",12),w.Tb(15,"input",39),w.bc("ngModelChange",function(e){return w.xc(t),w.fc(2).detalleFactura.precio_unitario=e})("change",function(){w.xc(t);const e=w.fc(2);return e.detalleFactura.total=+e.detalleFactura.precio_unitario*+e.detalleFactura.cantidad}),w.Sb(),w.Sb(),w.Sb(),w.Tb(16,"div",23),w.Tb(17,"button",24),w.Fc(18," Guardar "),w.Sb(),w.Dc(19,It,2,0,"button",27),w.Sb(),w.Sb()}if(2&t){const t=w.tc(1),e=w.tc(8),a=w.fc(2);w.Cb(6),w.lc("ngModel",a.txtArticuloSelected)("ngModelOptions",w.nc(9,vt))("matAutocomplete",e),w.Cb(1),w.lc("displayWith",a.displayArticulo),w.Cb(2),w.lc("ngForOf",a.filteredArticulos),w.Cb(3),w.lc("ngModel",a.detalleFactura.cantidad),w.Cb(3),w.lc("ngModel",a.detalleFactura.precio_unitario),w.Cb(2),w.lc("disabled",!t.form.valid||!!a.factura.fel_uuid||!!a.factura.fel_uuid_anulacion),w.Cb(2),w.lc("ngIf",a.detalleFactura.detalle_factura)}}function kt(t,e){1&t&&w.Ob(0,"hr")}function wt(t,e){1&t&&(w.Tb(0,"th",52),w.Fc(1,"Art\xedculo"),w.Sb())}function At(t,e){if(1&t&&(w.Tb(0,"td",53),w.Fc(1),w.Sb()),2&t){const t=e.$implicit;w.Cb(1),w.Gc(t.articulo.descripcion)}}function Et(t,e){1&t&&(w.Tb(0,"th",54),w.Fc(1,"Cantidad"),w.Sb())}function Pt(t,e){if(1&t&&(w.Tb(0,"td",55),w.Fc(1),w.gc(2,"number"),w.Sb()),2&t){const t=e.$implicit;w.Cb(1),w.Gc(w.ic(2,1,t.cantidad,"1.2-2"))}}function $t(t,e){1&t&&(w.Tb(0,"th",54),w.Fc(1,"Precio Unitario"),w.Sb())}function zt(t,e){if(1&t&&(w.Tb(0,"td",55),w.Fc(1),w.gc(2,"number"),w.Sb()),2&t){const t=e.$implicit;w.Cb(1),w.Hc("",w.ic(2,1,t.precio_unitario,"1.2-2")," ")}}function jt(t,e){1&t&&(w.Tb(0,"th",54),w.Fc(1,"Total"),w.Sb())}function Nt(t,e){if(1&t&&(w.Tb(0,"td",55),w.Fc(1),w.gc(2,"number"),w.Sb()),2&t){const t=e.$implicit;w.Cb(1),w.Gc(w.ic(2,1,t.total,"1.2-2"))}}function Ut(t,e){1&t&&(w.Tb(0,"th",52),w.Fc(1,"\xa0"),w.Sb())}function Ht(t,e){if(1&t){const t=w.Ub();w.Tb(0,"td",53),w.Tb(1,"button",56),w.bc("click",function(){w.xc(t);const a=e.$implicit;return w.fc(3).getDetalleFactura(a.factura,a.detalle_factura)}),w.Fc(2," Editar "),w.Sb(),w.Sb()}if(2&t){const t=w.fc(3);w.Cb(1),w.lc("disabled",!!t.factura.fel_uuid||!!t.factura.fel_uuid_anulacion||t.refacturacion)}}function Bt(t,e){1&t&&w.Ob(0,"tr",57)}function Rt(t,e){1&t&&w.Ob(0,"tr",58)}function Lt(t,e){if(1&t&&(w.Tb(0,"table",40),w.Rb(1,41),w.Dc(2,wt,2,0,"th",42),w.Dc(3,At,2,1,"td",43),w.Qb(),w.Rb(4,44),w.Dc(5,Et,2,0,"th",45),w.Dc(6,Pt,3,4,"td",46),w.Qb(),w.Rb(7,47),w.Dc(8,$t,2,0,"th",45),w.Dc(9,zt,3,4,"td",46),w.Qb(),w.Rb(10,48),w.Dc(11,jt,2,0,"th",45),w.Dc(12,Nt,3,4,"td",46),w.Qb(),w.Rb(13,49),w.Dc(14,Ut,2,0,"th",42),w.Dc(15,Ht,3,1,"td",43),w.Qb(),w.Dc(16,Bt,1,0,"tr",50),w.Dc(17,Rt,1,0,"tr",51),w.Sb()),2&t){const t=w.fc(2);w.lc("dataSource",t.dataSource),w.Cb(16),w.lc("matHeaderRowDef",t.displayedColumns),w.Cb(1),w.lc("matRowDefColumns",t.displayedColumns)}}function Kt(t,e){if(1&t&&(w.Tb(0,"mat-card",0),w.Tb(1,"mat-card-title"),w.Tb(2,"h4"),w.Fc(3),w.Dc(4,xt,3,0,"button",2),w.Dc(5,Mt,3,0,"button",2),w.Sb(),w.Sb(),w.Tb(6,"mat-card-content"),w.Dc(7,Ot,20,10,"form",3),w.Dc(8,kt,1,0,"hr",4),w.Dc(9,Lt,18,3,"table",33),w.Sb(),w.Sb()),2&t){const t=w.fc();w.Cb(3),w.Hc(" Detalle de factura No. ",t.factura.serie_factura?t.factura.serie_factura+" "+t.factura.numero_factura:"Pendiente de firmar."," "),w.Cb(1),w.lc("ngIf",!t.showFormDetalle),w.Cb(1),w.lc("ngIf",t.showFormDetalle),w.Cb(2),w.lc("ngIf",t.showFormDetalle),w.Cb(1),w.lc("ngIf",t.detallesFactura.length>0),w.Cb(1),w.lc("ngIf",t.detallesFactura.length>0)}}let Vt=(()=>{class t{constructor(t,e,a,i,n,c,r,o,s,l,u,d){this.snackBar=t,this.dialog=e,this.facturaSrvc=a,this.facturaSerieSrvc=i,this.clienteSrvc=n,this.monedaSrvc=c,this.articuloSrvc=r,this.anulacionSrvc=o,this.socket=s,this.ls=l,this.configSrvc=u,this.impresoraSrvc=d,this.facturaSavedEv=new w.o,this.showForm=!0,this.showFormDetalle=!0,this.facturaSeries=[],this.clientes=[],this.filteredClientes=[],this.monedas=[],this.detallesFactura=[],this.articulos=[],this.filteredArticulos=[],this.displayedColumns=["articulo","cantidad","precio_unitario","total","editItem"],this.keyboardLayout=A.a.IDIOMA_TECLADO,this.esMovil=!1,this.refacturacion=!1,this.txtArticuloSelected=void 0,this.clienteSelected=void 0,this.razonAnulacion=[],this.impresoraPorDefecto=null,this.getRazonAnulacion=()=>{this.anulacionSrvc.get().subscribe(t=>{this.razonAnulacion=t})},this.filtrar=t=>{if(t&&"string"==typeof t){const e=t.toLowerCase();this.filteredClientes=this.clientes.filter(t=>t.nombre.toLowerCase().includes(e)||t.nit.toLowerCase().includes(e))}else this.filteredClientes=this.clientes},this.loadImpresoraDefecto=()=>{const t=+this.configSrvc.getConfig(A.a.CONSTANTES.RT_IMPRESORA_DEFECTO)||0;t>0&&this.impresoraSrvc.get({impresora:t}).subscribe(t=>{this.impresoraPorDefecto=t&&t.length>0?t[0]:null})},this.loadFacturaSeries=()=>{this.facturaSerieSrvc.get().subscribe(t=>{t&&(this.facturaSeries=t)})},this.loadClientes=()=>{this.clienteSrvc.get().subscribe(t=>{t&&(this.clientes=t,this.filteredClientes=this.clientes)})},this.loadMonedas=()=>{this.monedaSrvc.get().subscribe(t=>{t&&(this.monedas=t)})},this.refacturar=()=>{this.factura={factura:this.factura.factura,factura_serie:null,cliente:null,fecha_factura:V().format(A.a.dbDateFormat),moneda:null,exenta:0,notas:null,fel_uuid:null,fel_uuid_anulacion:null},this.refacturacion=!0},this.resetFactura=()=>{this.factura={factura:null,factura_serie:null,cliente:null,fecha_factura:V().format(A.a.dbDateFormat),moneda:null,exenta:0,notas:null,fel_uuid:null,fel_uuid_anulacion:null},this.clienteSelected=void 0,this.resetDetalleFactura(),this.detallesFactura=[]},this.displayCliente=t=>{if(t)return this.factura.cliente=t.cliente,t.nombre},this.onSubmit=()=>{this.refacturacion?this.facturaSrvc.refacturar(this.factura).subscribe(t=>{t.exito&&(this.facturaSavedEv.emit(),this.resetFactura(),this.refacturacion=!1,this.factura={factura:t.factura.factura,factura_serie:t.factura.factura_serie,cliente:t.factura.cliente,fecha_factura:t.factura.fecha_factura,moneda:t.factura.moneda,exenta:+t.factura.exenta,notas:t.factura.notas,fel_uuid:t.factura.fel_uuid},this.snackBar.open("Factura manual agregada...","Factura",{duration:3e3}))}):this.facturaSrvc.save(this.factura).subscribe(t=>{t.exito&&(this.facturaSavedEv.emit(),this.resetFactura(),this.factura={factura:t.factura.factura,factura_serie:t.factura.factura_serie,cliente:t.factura.cliente,fecha_factura:t.factura.fecha_factura,moneda:t.factura.moneda,exenta:+t.factura.exenta,notas:t.factura.notas,fel_uuid:t.factura.fel_uuid},this.snackBar.open("Factura manual agregada...","Factura",{duration:3e3}))})},this.firmarFactura=()=>{this.dialog.open(Z.a,{maxWidth:"400px",data:new Z.b("Firmar factura","Luego de firmar la factura no podr\xe1 hacer ninguna modificaci\xf3n. \xbfDesea continuar?","S\xed","No")}).afterClosed().subscribe(t=>{t&&this.facturaSrvc.firmar(+this.factura.factura).subscribe(t=>{t.exito?(this.factura.numero_factura=t.factura.numero_factura,this.factura.serie_factura=t.factura.serie_factura,this.factura.certificador_fel=t.factura.certificador_fel,this.factura.fel_uuid=t.factura.fel_uuid,this.facturaSavedEv.emit(),this.snackBar.open("Factura firmada con \xe9xito...","Firmar",{duration:3e3})):this.snackBar.open(`ERROR: ${t.mensaje}`,"Firmar",{duration:3e3})})})},this.procesaDetalleFactura=t=>{const e=[];return t.forEach(t=>e.push({Cantidad:parseInt(t.cantidad),Descripcion:t.articulo.descripcion,Total:+t.total,PrecioUnitario:+t.precio_unitario})),e},this.getTotalDetalle=t=>{let e=0;return t.forEach(t=>e+=+t.total),e},this.getTotalImpuestosAdicionales=t=>{let e=0;return t.forEach(t=>e+=+t.total),e},this.imprimirFactura=()=>{this.facturaSrvc.imprimir(+this.factura.factura).subscribe(t=>{if(t.factura){const e={NombreEmpresa:t.factura.empresa.nombre,NitEmpresa:t.factura.empresa.nit,SedeEmpresa:t.factura.sedeFactura.nombre,DireccionEmpresa:t.factura.empresa.direccion,Fecha:V(t.factura.fecha_factura).format(A.a.dateFormat),Nit:t.factura.receptor.nit,Nombre:t.factura.receptor.nombre,Direccion:t.factura.receptor.direccion,Serie:t.factura.serie_factura,Numero:t.factura.numero_factura,Total:this.getTotalDetalle(t.factura.detalle)+this.getTotalImpuestosAdicionales(t.factura.impuestos_adicionales||[]),NoAutorizacion:t.factura.fel_uuid,NombreCertificador:t.factura.certificador_fel.nombre,NitCertificador:t.factura.certificador_fel.nit,FechaDeAutorizacion:t.factura.fecha_autorizacion,NoOrdenEnLinea:"",FormaDePago:"",DetalleFactura:this.procesaDetalleFactura(t.factura.detalle),ImpuestosAdicionales:t.factura.impuestos_adicionales||[],Impresora:this.impresoraPorDefecto};this.impresoraPorDefecto?0==+this.impresoraPorDefecto.bluetooth?this.socket.emit("print:factura",`${JSON.stringify(e)}`):this.printToBT(JSON.stringify(e)):(delete e.Impresora,this.socket.emit("print:factura",`${JSON.stringify(e)}`)),this.snackBar.open(`Imprimiendo factura ${this.factura.serie_factura}-${this.factura.numero_factura}`,"Impresi\xf3n",{duration:3e3})}else this.snackBar.open(`ERROR: ${t.mensaje}`,"Impresi\xf3n",{duration:3e3})})},this.printToBT=(t="")=>{const e=this.configSrvc.getConfig(A.a.CONSTANTES.RT_ENVIA_COMO_BASE64)?Y.a.encode(t,!0):t,a=A.a.DEEP_LINK_ANDROID.replace("__INFOBASE64__",e);try{window.location.href=a}catch(i){this.snackBar.open("No se pudo conectar con la aplicaci\xf3n de impresi\xf3n","Comanda",{duration:3e3})}},this.anularFactura=()=>{this.dialog.open(Z.a,{maxWidth:"400px",data:new Z.b("Anular factura","Luego de anular la factura no podr\xe1 hacer ninguna modificaci\xf3n. \xbfDesea continuar?","S\xed","No",{input:[{select:!0,label:"Motivo",datos:this.razonAnulacion,valor:null,id:"razon_anulacion",descripcion:"descripcion",requerido:!0},{select:!1,label:"Comentario",valor:null,id:"comentario_anulacion",requerido:!1}]})}).afterClosed().subscribe(t=>{if(t.resultado){const e={};for(let a=0;a<t.config.input.length;a++){const i=t.config.input[a];e[i.id]=i.valor}this.facturaSrvc.anular(+this.factura.factura,e).subscribe(t=>{t.exito?(this.factura.fel_uuid_anulacion=t.factura.fel_uuid_anulacion,this.facturaSavedEv.emit(),this.snackBar.open("Factura anulada con \xe9xito...","Firmar",{duration:3e3})):this.snackBar.open(`ERROR: ${t.mensaje}`,"Firmar",{duration:1e4})})}})},this.loadArticulos=()=>{this.articuloSrvc.getArticulos().subscribe(t=>{t&&(this.articulos=t,this.filteredArticulos=this.articulos)})},this.displayArticulo=t=>{if(t)return this.detalleFactura.articulo=t.articulo,t.descripcion},this.filtrarArticulos=t=>{if(t&&"string"==typeof t){const e=t.toLowerCase();this.filteredArticulos=this.articulos.filter(t=>t.descripcion.toLowerCase().includes(e))}else this.filteredArticulos=this.articulos},this.setPrecioUnitario=t=>{this.detalleFactura.precio_unitario=+t.option.value.precio,this.detalleFactura.total=+this.detalleFactura.precio_unitario*+this.detalleFactura.cantidad},this.resetDetalleFactura=()=>{this.detalleFactura={detalle_factura:null,factura:this.factura.factura||0,articulo:null,cantidad:1,precio_unitario:null,total:null},this.txtArticuloSelected=void 0},this.loadDetalleFactura=(t=+this.factura.factura)=>{this.facturaSrvc.getDetalle(t,{factura:t}).subscribe(t=>{t&&(this.detallesFactura=t,this.updateTableDataSource())})},this.getDetalleFactura=(t=+this.factura.factura,e)=>{this.facturaSrvc.getDetalle(t,{detalle_factura:e}).subscribe(t=>{t&&(this.detalleFactura={detalle_factura:t[0].detalle_factura,factura:t[0].factura,articulo:t[0].articulo.articulo,cantidad:+t[0].cantidad,precio_unitario:+t[0].precio_unitario,total:+t[0].total},this.txtArticuloSelected=t[0].articulo,this.showFormDetalle=!0)})},this.onSubmitDetail=()=>{this.detalleFactura.factura=this.factura.factura,this.detalleFactura.total=+this.detalleFactura.precio_unitario*+this.detalleFactura.cantidad,this.facturaSrvc.saveDetalle(this.detalleFactura).subscribe(t=>{t&&(this.loadDetalleFactura(),this.resetDetalleFactura())})},this.updateTableDataSource=()=>this.dataSource=new p.k(this.detallesFactura),this.representacionGrafica=()=>{this.facturaSrvc.getGrafo(this.factura.factura).subscribe(t=>{if(t.exito)switch(t.tipo){case"link":this.openLinkWindow(t.documento);break;case"pdf":this.openPdfDocument(t.documento)}})},this.openLinkWindow=t=>window.open(t,"winFactPdf","height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no"),this.openPdfDocument=t=>{window.open("","winFactPdf","height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no").document.write('<iframe width="100%" style="margin: -8px;border: none;" height="100%" src="data:application/pdf;base64, '+encodeURI(t)+'"></iframe>')}}ngOnInit(){this.esMovil=this.ls.get(A.a.usrTokenVar).enmovil||!1,this.refacturacion=!1,this.resetFactura(),this.loadFacturaSeries(),this.loadClientes(),this.loadMonedas(),this.loadArticulos(),this.getRazonAnulacion(),this.loadImpresoraDefecto(),this.ls.get(A.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(A.a.usrTokenVar).sede_uuid),this.socket.on("reconnect",()=>this.socket.emit("joinRestaurant",this.ls.get(A.a.usrTokenVar).sede_uuid)))}}return t.\u0275fac=function(e){return new(e||t)(w.Nb(S.b),w.Nb(y.b),w.Nb(W.a),w.Nb(nt),w.Nb(ct.a),w.Nb(rt),w.Nb(ot.a),w.Nb(st.a),w.Nb(lt.a),w.Nb(N.a),w.Nb(ut.a),w.Nb(dt.a))},t.\u0275cmp=w.Hb({type:t,selectors:[["app-form-factura-manual"]],inputs:{factura:"factura"},outputs:{facturaSavedEv:"facturaSavedEv"},decls:11,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],["style","background-color: lightcoral;",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],[2,"background-color","lightcoral"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmFactura","ngForm"],[1,"form-group"],[1,"fullWidth"],["name","factura_serie","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Cliente","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith"],["auto","matAutocomplete"],["matInput","","type","date","placeholder","Fecha","name","fecha_factura","required","",3,"ngModel","ngModelChange"],["name","moneda","required","",3,"ngModel","ngModelChange"],["name","exenta",1,"fullWidth",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Notas","name","notas",3,"matKeyboard","ngModel","ngModelChange",4,"ngIf"],["matInput","","type","text","placeholder","Notas","name","notas",3,"ngModel","ngModelChange",4,"ngIf"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"disabled","click"],["mat-raised-button","","type","button","color","accent","class","btnAccion",3,"click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],[3,"value"],["matInput","","type","text","placeholder","Notas","name","notas",3,"matKeyboard","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Notas","name","notas",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleFactura","ngForm"],["type","text","placeholder","Art\xedculo","matInput","","required","",3,"ngModel","ngModelOptions","matAutocomplete","ngModelChange","keyup"],[3,"displayWith","optionSelected"],["autoArticulos","matAutocomplete"],["matInput","","placeholder","Cantidad","name","cantidad","type","number","step","0.01","required","",3,"ngModel","ngModelChange","change"],["matInput","","placeholder","Precio unitario","name","precio_unitario","type","number","step","0.01","required","",3,"ngModel","ngModelChange","change"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","precio_unitario"],["matColumnDef","total"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(w.Tb(0,"mat-card",0),w.Tb(1,"mat-card-title"),w.Dc(2,ft,2,0,"h4",1),w.Tb(3,"h4"),w.Fc(4),w.Dc(5,bt,3,0,"button",2),w.Dc(6,ht,3,0,"button",2),w.Sb(),w.Sb(),w.Tb(7,"mat-card-content"),w.Dc(8,Tt,45,21,"form",3),w.Sb(),w.Sb(),w.Dc(9,yt,1,0,"hr",4),w.Dc(10,Kt,10,6,"mat-card",5)),2&t&&(w.Cb(2),w.lc("ngIf",!!e.factura.fel_uuid_anulacion),w.Cb(2),w.Hc(" Factura ",e.factura.factura?e.factura.serie_factura?e.factura.serie_factura+" "+e.factura.numero_factura:"Pendiente de firmar.":""," "),w.Cb(1),w.lc("ngIf",!e.showForm),w.Cb(1),w.lc("ngIf",e.showForm),w.Cb(2),w.lc("ngIf",e.showForm),w.Cb(1),w.lc("ngIf",e.factura.factura),w.Cb(1),w.lc("ngIf",e.factura.factura))},directives:[f.a,f.h,i.m,f.c,F.a,l.a,c.r,c.l,c.m,u.b,u.f,m.a,c.p,c.k,c.n,i.l,d.b,c.c,M.c,M.a,g.a,P.m,D.a,c.o,p.j,p.c,p.e,p.b,p.g,p.i,p.d,p.a,p.f,p.h],pipes:[i.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),t})();const Wt=["lstFacturaManual"],qt=["frmFacturaManual"],Gt=[{path:"fpago",component:K,canActivate:[k.a]},{path:"factman",component:(()=>{class t{constructor(){this.setFactura=t=>{this.factura={factura:t.factura,factura_serie:t.factura_serie.factura_serie,cliente:t.cliente.cliente,fecha_factura:t.fecha_factura,moneda:t.moneda.moneda,exenta:t.exenta,notas:t.notas,usuario:t.usuario.usuario,numero_factura:t.numero_factura,serie_factura:t.serie_factura,fel_uuid:t.fel_uuid,fel_uuid_anulacion:t.fel_uuid_anulacion,certificador_fel:t.certificador_fel},this.frmFactura.clienteSelected=t.cliente,this.frmFactura.loadDetalleFactura(+this.factura.factura),this.frmFactura.resetDetalleFactura()},this.refreshFacturaList=()=>this.lstFacturaComponent.loadFacturas(),this.factura={factura:null,factura_serie:null,cliente:null,fecha_factura:V().format(A.a.dbDateFormat),moneda:null,exenta:0,notas:null}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=w.Hb({type:t,selectors:[["app-factura-manual"]],viewQuery:function(t,e){if(1&t&&(w.Kc(Wt,1),w.Kc(qt,1)),2&t){let t;w.sc(t=w.cc())&&(e.lstFacturaComponent=t.first),w.sc(t=w.cc())&&(e.frmFactura=t.first)}},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getFacturaEv"],["lstFacturaManual",""],[1,"col","m7","s12"],[3,"factura","facturaSavedEv"],["frmFacturaManual",""]],template:function(t,e){1&t&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"app-lista-factura-manual",2,3),w.bc("getFacturaEv",function(t){return e.setFactura(t)}),w.Sb(),w.Sb(),w.Tb(4,"div",4),w.Tb(5,"app-form-factura-manual",5,6),w.bc("facturaSavedEv",function(){return e.refreshFacturaList()}),w.Sb(),w.Sb(),w.Sb()),2&t&&(w.Cb(5),w.lc("factura",e.factura))},directives:[Q,Vt],styles:[""]}),t})(),canActivate:[k.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}];let Jt=(()=>{class t{}return t.\u0275mod=w.Lb({type:t}),t.\u0275inj=w.Kb({factory:function(e){return new(e||t)},imports:[[O.d.forChild(Gt)],O.d]}),t})(),Xt=(()=>{class t{}return t.\u0275mod=w.Lb({type:t}),t.\u0275inj=w.Kb({factory:function(e){return new(e||t)},imports:[[i.c,Jt,n.c,c.e,D.b,r.a,o.AdminModule,s.d,l.b,u.d,d.c,f.f,b.b,h.c,p.l,m.b,g.b,F.b,S.c,_.b,C.d,v.b,T.b,y.e,x.d,M.b,I.c]]}),t})()}}]);