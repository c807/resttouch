(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/1Jv":function(t,e,a){"use strict";a.r(e),e.default=".numWidth {\r\n    width: 10%;\r\n}\r\n\r\ntr {\r\n    border: none;\r\n}\r\n\r\nth, td {\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n}"},"/LcN":function(t,e,a){"use strict";a.r(e),e.default='<mat-list class="fullWidth" [style.height]="listHeight">\n    <mat-list-item *ngFor="let p of listaProductos; let i = index;" [ngClass]="{\'noImpreso\': +p.impreso === 0}" [style.height]="p.itemListHeight">\n        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">\n            <div class="row">\n                <div class="col m6 s12">\n                    <span>{{p.cantidad}}&nbsp;{{p.nombre}}</span>\n                </div>\n                <div class="col m6 s12" align="end">\n                    \x3c!--<span class="spacer"></span>--\x3e\n                    <span>{{(p.cantidad * p.precio) | number: \'1.2-2\'}}</span>&nbsp;\n                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 0">\n                        <eco-fab-speed-dial-trigger>\n                            <button mat-fab>\n                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-trigger>\n                        <eco-fab-speed-dial-actions>\n                            <button mat-mini-fab (click)="deleteProductoFromList(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>\n                            </button>\n                            <button mat-mini-fab (click)="removeProducto(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">remove_circle</mat-icon>\n                            </button>\n                            <button mat-mini-fab (click)="toggleShowInputNotas(p)" color="accent" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">notes</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-actions>\n                    </eco-fab-speed-dial>\n                    <eco-fab-speed-dial direction="left" *ngIf="+p.impreso === 1">\n                        <eco-fab-speed-dial-trigger>\n                            <button mat-fab>\n                                <mat-icon style="font-size: 18pt !important;">keyboard_arrow_left</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-trigger>\n                        <eco-fab-speed-dial-actions>\n                            <button mat-mini-fab (click)="deleteProductoFromListAfterPrinted(p, i)" color="warn" [disabled]="bloqueoBotones">\n                                <mat-icon style="font-size: 16pt !important;">delete_forever</mat-icon>\n                            </button>\n                        </eco-fab-speed-dial-actions>\n                    </eco-fab-speed-dial>\n                </div>\n            </div>\n        </div>\n        <div matLine class="fullWidth" *ngIf="+p.cantidad > 0">\n            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && esMovil">\n                <input matInput placeholder="Notas de producto" [(ngModel)]="p.notas"\n                    (keyup.enter)="toggleShowInputNotas(p)">\n            </mat-form-field>\n            <mat-form-field class="fullWidth" *ngIf="p.showInputNotas && !esMovil">\n                <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric"\n                    ng-virtual-keyboard-placeholder="Notas de producto" placeholder="Notas de producto"\n                    [(ngModel)]="p.notas" (keyup.enter)="toggleShowInputNotas(p)">\n            </mat-form-field>\n        </div>\n    </mat-list-item>\n</mat-list>'},"0+aQ":function(t,e,a){"use strict";a.r(e),e.default=".diseniador {\n    width: 750px;\n    height: 650px;\n    overflow: hidden !important;\n    padding: 0 !important;\n    /*border: dashed 1px #c7c7c749;*/\n}\n\n.areaPosicionamiento {\n    width: 100%;\n    height: 600px;\n    overflow: hidden !important;\n    background-color: #c7c7c749;\n    padding: 0 !important;\n    position: relative;\n}\n\n.btnIconSize {\n    font-size: 17pt !important;\n}\n\n::ng-deep .customize {    \n    background: lightyellow;\n}\n\n::ng-deep .customizeUp {    \n    background: lightgreen;\n}\n\n.mesaTitle {\n    font-weight: bold;\n}\n\n/*\n::ng-deep .mat-menu-panel {    \n    height: 125px !important;\n    padding: 0 5px !important;    \n}\n*/"},"0wdR":function(t,e,a){"use strict";a.r(e),e.default=""},"16Tw":function(t,e,a){"use strict";a.r(e),e.default=".full-width {\n    width: 100%;\n}\n\n.iconFontSize {\n    font-size: 34pt !important;\n}"},"1QzS":function(t,e,a){"use strict";a.r(e),e.default=".contenido {\r\n    height: 50% !important;\r\n}\r\n\r\n.separatorMargin {\r\n    margin-right: 8px;\r\n}"},"2sG5":function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de caja</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptCaja="ngForm" novalidate>\n          <mat-form-field class="fullWidth">\n              <mat-label>Tipo de turno</mat-label>\n              <mat-select name="turno_tipo" [(ngModel)]="params.turno_tipo">\n                  <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                      {{tt.descripcion}}\n                  </mat-option>\n              </mat-select>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-checkbox name="traslado" class="fullWidth" [(ngModel)]="+params._detalle">Mostrar Detalle</mat-checkbox>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>'},"3YTL":function(t,e,a){"use strict";a.r(e),e.default=""},"4Gwt":function(t,e,a){"use strict";a.r(e),e.default=""},"6fiT":function(t,e,a){"use strict";a.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\ntable {\n    width: 100% !important;\n}"},"6oUw":function(t,e,a){"use strict";a.r(e),e.default=""},"77DD":function(t,e,a){"use strict";a.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\ntable {\n    width: 100% !important;\n}"},"7E+n":function(t,e,a){"use strict";a.r(e),e.default=".fullWidth { width: 100%; }\r\n.iconFontSize {\r\n    font-size: 34pt !important;\r\n}"},"7roY":function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n  <div class="col m5 s12">\n    <app-cajacorte-lista  #lstCortecaja (getCajacorteEv)="editarCajaCorte($event)"></app-cajacorte-lista>\n  </div>\n  <div class="col m7 s12">\n    <app-cajacorte-form #frmCortecaja [ccorte]="ccorte" (cajacorteSavedEv)="actualizaLista()"></app-cajacorte-form>\n  </div>\n</div>'},"82jH":function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-area #listaAreas (getEntidadEv)="setArea($event)"></app-lista-area>\n    </div>\n    <div class="col m7 s12">\n        <app-form-area [entidad]="area" (entidadSavedEv)="refreshAreaList()"></app-form-area>\n    </div>\n</div>'},"9yMN":function(t,e,a){"use strict";a.r(e),e.default='<div fxLayout="row" fxLayout.xs="column" fxFlexFill>\n    <div fxFlex="50%" fxFlex.xs="100%" class="bordeRght">\n        <div class="divContenedor" fxLayout="row wrap" fxLayoutGap="10px grid" fxFlexFill fxLayoutAlign="start start">\n            <div fxFlex="100%" fxLayoutAlign="center start"><h4>Pendientes</h4></div>\n            <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="50%" *ngFor="let cmd of lstComandasCocina">\n                <mat-card class="mat-elevation-z4">\n                    <mat-card-header>\n                        <mat-card-title>Comanda #{{cmd.comanda}}</mat-card-title>\n                        <mat-card-subtitle>Area {{cmd.mesa.area.nombre}} - Mesa #{{cmd.mesa.numero}}</mat-card-subtitle>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <ng-container *ngFor="let cta of cmd.cuentas">\n                            <mat-list role="list" *ngIf="cta.productos.length > 0">\n                                <mat-list-item role="listitem" *ngFor="let prod of cta.productos">\n                                    {{prod.cantidad}} {{prod.articulo.descripcion}}\n                                    <mat-divider [inset]="true"></mat-divider>\n                                </mat-list-item>                        \n                            </mat-list>\n                        </ng-container>\n                    </mat-card-content>\n                    <mat-card-actions align="end">\n                        <button mat-raised-button color="accent" type="button" (click)="setCocinado(cmd, 1)">Vista</button>\n                    </mat-card-actions>\n                </mat-card>\n            </div>\n        </div>\n    </div>\n    <div fxFlex="50%" fxFlex.xs="100%" class="bordeLft">\n        <div class="divContenedor" fxLayout="row wrap" fxLayoutGap="10px grid" fxFlexFill fxLayoutAlign="start start">\n            <div fxFlex="100%" fxLayoutAlign="center start"><h4>En Proceso</h4></div>\n            <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="50%" *ngFor="let cmdEnProceso of lstComandasCocinaEnProceso">\n                <mat-card class="mat-elevation-z4">\n                    <mat-card-header>\n                        <mat-card-title>Comanda #{{cmdEnProceso.comanda}}</mat-card-title>\n                        <mat-card-subtitle>Area {{cmdEnProceso.mesa.area.nombre}} - Mesa #{{cmdEnProceso.mesa.numero}}</mat-card-subtitle>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <ng-container *ngFor="let cta of cmdEnProceso.cuentas">\n                            <mat-list role="list" *ngIf="cta.productos.length > 0">\n                                <mat-list-item role="listitem" *ngFor="let prod of cta.productos">\n                                    {{prod.cantidad}} {{prod.articulo.descripcion}}\n                                    <mat-divider [inset]="true"></mat-divider>\n                                </mat-list-item>                        \n                            </mat-list>\n                        </ng-container>\n                    </mat-card-content>\n                    <mat-card-actions align="end">\n                        <button mat-raised-button color="accent" type="button" (click)="setCocinado(cmdEnProceso)">Cocinado</button>\n                    </mat-card-actions>\n                </mat-card>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n'},AjM8:function(t,e,a){"use strict";a.r(e),e.default=""},BHSW:function(t,e,a){"use strict";a.r(e),e.default=""},CqNL:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-turno #lstTurno (getTurnoEv)="setTurno($event)"></app-lista-turno>\n    </div>\n    <div class="col m7 s12">\n        <app-form-turno #frmTurno [turno]="turno" (turnoSavedEv)="refreshTurnoList()"></app-form-turno>\n    </div>\n</div>'},Csbo:function(t,e,a){"use strict";a.r(e),e.default=""},"G+Be":function(t,e,a){"use strict";a.r(e),e.default=""},"G+t/":function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Unir cuentas</h1>\n<div mat-dialog-content>\n    <form #frmUnirCuenta="ngForm" novalidate>\n        <mat-form-field>\n            <mat-label>Unir cuenta de</mat-label>\n            <mat-select name="cuentaDe" [(ngModel)]="cuentaDe" required>\n                <mat-option *ngFor="let ctaDe of data.mesaEnUso.cuentas" [value]="ctaDe">\n                    {{ctaDe.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-form-field>\n            <mat-label>con la cuenta de</mat-label>\n            <mat-select name="cuentaA" [(ngModel)]="cuentaA" required>\n                <mat-option *ngFor="let ctaA of data.mesaEnUso.cuentas" [value]="ctaA">\n                    {{ctaA.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button type="button" color="accent" (click)="unirCuentas(cuentaDe, cuentaA)" [disabled]="!frmUnirCuenta.form.valid || +cuentaDe === +cuentaA">\n        Unir cuentas\n    </button>\n    \x3c!--\n    <button mat-raised-button type="button" color="accent" (click)="unirTodas()">\n        Unir todas en una sola\n    </button>\n    --\x3e\n</div>'},G629:function(t,e,a){"use strict";a.r(e),e.default=""},GFj5:function(t,e,a){"use strict";a.r(e),e.default=".divMesa {\n    background-repeat: no-repeat;\n    background-position: center;\n    position: absolute;\n    text-align: right;\n    padding-top: 0;\n}\n\nspan {\n    font-size: 12pt;\n    font-weight: bold;\n}\n\n.disponible {\n    background-color: lightgreen;\n}\n\n.ocupada {    \n    background-color: #da332d;\n}\n\n.debaja {\n    background-color: black;\n}"},HNm3:function(t,e,a){"use strict";a.r(e),e.default=".anulaicon {\n\tcursor: pointer;\n}"},LCbO:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de propinas</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptPropinas="ngForm" novalidate>\n          <mat-form-field class="fullWidth">\n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">\n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>'},M0mC:function(t,e,a){"use strict";a.r(e),e.default=""},NyI3:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n  <mat-card-title>\n    <h5>Corte de caja</h5>\n  </mat-card-title>\n  <mat-card-content>\n    <form #frmcc="ngForm" (ngSubmit)="frmcc.form.valid && guardar()" novalidate>\n      <mat-form-field class="fullWidth">\n        <mat-label>Tipo de Corte</mat-label>\n        <mat-select name="tipo" [(ngModel)]="ccorte.caja_corte_tipo" (selectionChange)="setNameTipo()" required>\n          <mat-option *ngFor="let m of ccorteTipo" [value]="m.caja_corte_tipo">\n            {{m.descripcion}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <p>Agregar nominaciones</p>\n      <div class="example-container">\n        <mat-form-field>\n          <mat-label>Nominaci\xf3n:</mat-label>\n          <mat-select name="nominacion" [(ngModel)]="detalle.caja_corte_nominacion" (selectionChange)="setNamenomi()">\n            <mat-option *ngFor="let m of ccorteNomi" [value]="m.caja_corte_nominacion">\n              {{m.nombre}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Cantidad:</mat-label>\n          <input matInput type="number" step="0.01" name="cantidad" [(ngModel)]="detalle.cantidad" (blur)="setTotal()">\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Total:</mat-label>\n          <input matInput type="number" step="0.01" name="total" [(ngModel)]="detalle.total" readonly>\n        </mat-form-field>\n        <button mat-icon-button type="button" color="accent" (click)="agregarDetalle()" title="Agregar el detalle">\n          <mat-icon>add</mat-icon>\n        </button>\n      </div>\n      <mat-grid-list cols="4" rowHeight="7:1">\n        <mat-grid-tile><b>Nominaci\xf3n</b></mat-grid-tile>\n        <mat-grid-tile><b>Cantidad</b></mat-grid-tile>\n        <mat-grid-tile><b>Total</b></mat-grid-tile>\n        <mat-grid-tile></mat-grid-tile>\n      </mat-grid-list>\n\n      <mat-grid-list *ngFor="let m of ccorte.detalle" cols="4" rowHeight="7:1">\n        <mat-grid-tile>{{ m.nombre }}</mat-grid-tile>\n        <mat-grid-tile>{{ m.cantidad }}</mat-grid-tile>\n        <mat-grid-tile>{{ m.total }}</mat-grid-tile>\n        <mat-grid-tile>\n          <mat-icon class="anulacion" (click)="anularCajaDetalle(m)" mat-list-icon>close</mat-icon>\n        </mat-grid-tile>\n      </mat-grid-list>\n      <hr>\n      <div align="end">\n        <button mat-icon-button type="button" color="accent" (click)="reseteGeneral()" *ngIf="ccorte.caja_corte">\n          <mat-icon>add</mat-icon>\n        </button>\n        <button mat-icon-button type="submit" color="accent" [disabled]="!frmcc.form.valid" title="Guardar corte de caja">\n          <mat-icon>save</mat-icon>\n        </button>\n      </div>\n    </form>\n  </mat-card-content>\n</mat-card>\n'},Nyij:function(t,e,a){"use strict";a.r(e),e.default=".fullWidth {\n    width: 100% !important;\n}\n\n.spacer {\n    flex: 1 1 auto !important;\n}\n\n.noImpreso {\n    background-color: #c7c7c7;\n}"},OKyJ:function(t,e,a){"use strict";a.r(e),e.default=""},PmOz:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmPropina="ngForm" (ngSubmit)="frmPropina.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth">\n                <mat-label>Tipo Usuario</mat-label>\n                <mat-select name="usuario" [(ngModel)]="propina.usuario_tipo" required>\n                    <mat-option *ngFor="let m of usuarios" [value]="m.usuario_tipo">\n                        {{m.descripcion}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <input matInput type="number" step="0.01" placeholder="Porcentaje" name="porcentaje" [(ngModel)]="propina.porcentaje" required>\n            </mat-form-field>\n            <mat-checkbox name="anulado" class="fullWidth" [(ngModel)]="+propina.anulado">Anulado</mat-checkbox>\n            <div align="end">\n                <button mat-icon-button type="submit" color="accent" [disabled]="!frmPropina.form.valid">\n                    <mat-icon>save</mat-icon>\n                </button>\n                <button mat-icon-button type="button" color="accent" (click)="resetPropina()" *ngIf="propina.propina_distribucion">\n                    <mat-icon>add</mat-icon>\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>\n'},PwNf:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..." [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item *ngFor="let element of lstTurnosPaged" (click)="getTurno(element)">\n                <mat-icon mat-list-icon>schedule</mat-icon>\n                <h5 mat-line>Inicio: {{element.inicio | date: \'dd/MM/yyyy HH:mm:ss\'}}</h5><br/>\n                <p mat-line>\n                    Fin: {{element.fin | date: \'dd/MM/yyyy\'}}\n                </p>\n            </mat-list-item>            \n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>\n'},QNkw:function(t,e,a){"use strict";a.r(e),e.default=".matSideNavContainer {\n    height: 90%;\n    overflow: hidden !important; \n}\n\n.divAreaMesa {\n    width: 100vw;\n    height: 90vh;\n    background-color: #c7c7c749;\n}\n\nmat-sidenav {\n    width: 97vw; \n}"},QduS:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Autoconsulta</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" novalidate>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Campos</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.campos" multiple="multiple" required>\n                            <mat-option *ngFor="let campo of campos" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Del" name="fdel" [(ngModel)]="params.fdel" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Al" name="fal" [(ngModel)]="params.fal" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Filtrar Por</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.fecha" required>\n                            <mat-option *ngFor="let campo of fechas" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Ordenar Por</mat-label>\n                        <mat-select name="campos" [(ngModel)]="params.orden">\n                            <mat-option *ngFor="let campo of orden" [value]="campo.tabla_campo">\n                                {{campo.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <app-rpt-botones [configuracion]="configBotones" (excelClick)="getReporte()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>\n    </div>\n</div>\n'},Rflk:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>\n            Turno {{!!turno.turno ? (turno.inicio | date:\'dd/MM/yyyy HH:mm:ss\') : \'\'}}\n            <button mat-icon-button type="button" color="accent" (click)="showTurnoForm = true;" *ngIf="!showTurnoForm">\n                <mat-icon class="iconFontSize">expand_more</mat-icon>\n            </button>\n            <button mat-icon-button type="button" color="accent" (click)="showTurnoForm = false;" *ngIf="showTurnoForm">\n                <mat-icon class="iconFontSize">expand_less</mat-icon>\n            </button>\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmTurno="ngForm" *ngIf="showTurnoForm" (ngSubmit)="frmTurno.form.valid && onSubmit()" novalidate>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Tipo de turno</mat-label>\n                    <mat-select name="turno_tipo" [(ngModel)]="turno.turno_tipo" required>\n                        <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                            {{tt.descripcion}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input matInput type="datetime-locale" placeholder="Inicio" name="inicio" [(ngModel)]="turno.inicio" required>\n                    <button type="button" *ngIf="!turno.inicio" mat-button matSuffix mat-icon-button (click)="turno.inicio=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.inicio" matSuffix mat-icon-button aria-label="Clear" (click)="turno.inicio=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="phone" ng-virtual-keyboard-placeholder="Inicio" type="datetime-locale" placeholder="Inicio" name="inicio" [(ngModel)]="turno.inicio" required>\n                    <button type="button" *ngIf="!turno.inicio" mat-button matSuffix mat-icon-button (click)="turno.inicio=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.inicio" matSuffix mat-icon-button aria-label="Clear" (click)="turno.inicio=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>                    \n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input matInput type="datetime-locale" placeholder="Fin" name="fin" [(ngModel)]="turno.fin">\n                    <button type="button" *ngIf="!turno.fin" mat-button matSuffix mat-icon-button (click)="turno.fin=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.fin" matSuffix mat-icon-button aria-label="Clear" (click)="turno.fin=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input matInput ng-virtual-keyboard ng-virtual-keyboard-layout="phone" ng-virtual-keyboard-placeholder="Fin" type="datetime-locale" placeholder="Fin" name="fin" [(ngModel)]="turno.fin">\n                    <button type="button" *ngIf="!turno.fin" mat-button matSuffix mat-icon-button (click)="turno.fin=getNow()">\n                        <mat-icon class="iconFontSize">query_builder</mat-icon>\n                    </button>\n                    <button type="button" mat-button *ngIf="turno.fin" matSuffix mat-icon-button aria-label="Clear" (click)="turno.fin=null">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>                    \n                </mat-form-field>\n            </div>\n            <div role="group" align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmTurno.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetTurno()" *ngIf="turno.turno">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>\n<hr *ngIf="turno.turno" />\n<mat-card class="mat-elevation-z4 fullWidth" *ngIf="turno.turno">\n    <mat-card-title>\n        <h4>\n            Detalle del turno {{turno.inicio | date:\'dd/MM/yyyy HH:mm:ss\'}}\n            <button mat-icon-button type="button" color="accent" (click)="showDetalleTurnoForm = true;" *ngIf="!showDetalleTurnoForm">\n                <mat-icon class="iconFontSize">expand_more</mat-icon>\n            </button>\n            <button mat-icon-button type="button" color="accent" (click)="showDetalleTurnoForm = false;" *ngIf="showDetalleTurnoForm">\n                <mat-icon class="iconFontSize">expand_less</mat-icon>\n            </button>\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmDetalleTurno="ngForm" *ngIf="showDetalleTurnoForm" (ngSubmit)="frmDetalleTurno.form.valid && onSubmitDetail()" novalidate>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Tipo</mat-label>\n                    <mat-select name="usuario_tipo" [(ngModel)]="detalleTurno.usuario_tipo" required>\n                        <mat-option *ngFor="let tu of tiposUsuario" [value]="tu.usuario_tipo">\n                            {{tu.descripcion}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="form-group">\n                <mat-form-field class="fullWidth">\n                    <mat-label>Usuario</mat-label>\n                    <mat-select name="usuario" [(ngModel)]="detalleTurno.usuario" required>\n                        <mat-option *ngFor="let u of usuarios" [value]="u.usuario">\n                            {{u.nombres}} {{u.apellidos}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class="btn-group d-flex justify-content-end" role="group">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmDetalleTurno.form.valid || !!turno.fin">\n                    Guardar\n                </button>\n                \x3c!--\n                <button mat-icon-button type="button" color="accent" (click)="resetDetalleIngreso()"\n                    *ngIf="detalleTurno.ingreso_detalle">\n                    <mat-icon>add</mat-icon>\n                </button>\n                --\x3e\n            </div>\n        </form>\n        <hr *ngIf="detallesTurno.length > 0"/>\n        <table mat-table [dataSource]="dataSource" class="mat-elevation-z4 full-width" *ngIf="detallesTurno.length > 0">\n            <ng-container matColumnDef="usuario_tipo">\n                <th mat-header-cell *matHeaderCellDef>Tipo</th>\n                <td mat-cell *matCellDef="let element" class="text-wrap">{{element.usuario_tipo.descripcion}}</td>\n            </ng-container>\n            <ng-container matColumnDef="usuario">\n                <th mat-header-cell *matHeaderCellDef class="text-right">Usuario</th>\n                <td mat-cell *matCellDef="let element" class="text-right">{{element.usuario.nombres}} {{element.usuario.apellidos}}</td>\n            </ng-container>\n            <ng-container matColumnDef="editItem">\n                <th mat-header-cell *matHeaderCellDef>&nbsp;</th>\n                <td mat-cell *matCellDef="let element" class="text-wrap">\n                    <button mat-raised-button type="button" color="accent" (click)="anularDetalleTurno(element)" [disabled]="!!turno.fin">\n                        Anular\n                    </button>\n                </td>\n            </ng-container>\n            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n            <tr mat-row *matRowDef="let row; columns: displayedColumns;">\n            </tr>\n        </table>\n    </mat-card-content>\n</mat-card>'},RgUP:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n  <div class="col m12 s12">\n    <mat-card class="mat-elevation-z4 fullWidth">\n      <mat-card-title>\n        <h4>Reporte de facturas</h4>\n      </mat-card-title>\n      <mat-card-content>\n        <form #frmRptFactura="ngForm" novalidate>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Del" [(ngModel)]="params.fdel" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-form-field class="fullWidth">            \n            <input matInput type="date" placeholder="Al" [(ngModel)]="params.fal" [ngModelOptions]="{standalone: true}" required>\n          </mat-form-field>\n          <mat-checkbox name="traslado" class="fullWidth" [(ngModel)]="+params._detalle">Mostrar Detalle</mat-checkbox>\n          <app-rpt-botones [configuracion]="configBotones" (pdfClick)="onSubmit()" (resetParamsClick)="resetParams()"></app-rpt-botones>\n        </form>\n        <app-cargando *ngIf="cargando"></app-cargando>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>\n'},TRt2:function(t,e,a){"use strict";a.r(e),e.default=".full-width {\n    width: 100%;\n}"},TaTT:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-header>\n        <mat-card-title>Reporte de ventas</mat-card-title>\n        <mat-card-subtitle>\n            Por art\xedculo<br />\n            Del {{params.fdel | date:\'dd/MM/yyyy\'}} al {{params.fal | date:\'dd/MM/yyyy\'}}\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n        <table class="tbl">\n            <thead>\n                <tr>\n                    <th class="brdTSingleBSingle">Descripci\xf3n</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Cantidad</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Total</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor="let art of data">\n                    <tr>\n                        <td class="doubleTab brdBSingle">{{art.articulo.descripcion}}</td>\n                        <td class="rtxt numWidth brdBSingle">{{art.cantidad | number:\'1.2-2\'}}</td>\n                        <td class="rtxt numWidth brdBSingle">{{art.total | number:\'1.2-2\'}}</td>\n                    </tr>\n                </ng-container>\n            </tbody>\n        </table>\n    </mat-card-content>\n    \x3c!--\n    <mat-card-footer>\n    </mat-card-footer>\n    --\x3e\n</mat-card>'},X00p:function(t,e,a){"use strict";a.r(e),e.default=""},YC1U:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-turno-tipo #lstTurno (getTurnoEv)="setTurno($event)"></app-lista-turno-tipo>\n    </div>\n    <div class="col m7 s12">\n        <app-form-turno-tipo #frmTurno [turno]="turno" (turnoSavedEv)="refreshTurnoList()"></app-form-turno-tipo>\n    </div>\n</div>'},Z8zX:function(t,e,a){"use strict";a.r(e),e.default=""},ZtfH:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Reporte de ventas</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" (ngSubmit)="frmEntidad.form.valid && onSubmit()" novalidate>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Tipo</mat-label>\n                        <mat-select name="tipo_reporte" [(ngModel)]="params.tipo_reporte" required>\n                            <mat-option *ngFor="let tr of tiposReporte" [value]="tr.tipo_reporte">\n                                {{tr.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <mat-label>Tipo de turno</mat-label>\n                        <mat-select name="turno_tipo" [(ngModel)]="params.turno_tipo">\n                            <mat-option *ngFor="let tt of tiposTurno" [value]="tt.turno_tipo">\n                                {{tt.descripcion}}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Del" name="fdel" [(ngModel)]="params.fdel" required>\n                    </mat-form-field>\n                    <mat-form-field class="fullWidth">\n                        <input type="date" matInput placeholder="Al" name="fal" [(ngModel)]="params.fal" required>\n                    </mat-form-field>\n                    <app-rpt-botones [configuracion]="configBotones" (htmlClick)="getReporte(1)" (pdfClick)="getReporte(2)" (resetParamsClick)="resetParams()"></app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>\n    </div>\n</div>\n<div class="row" *ngIf="params.tipo_reporte === 1 && porCategoria.length > 0">\n    <div class="col m12 s12">\n        <app-por-categoria [params]="params" [data]="porCategoria"></app-por-categoria>\n    </div>\n</div>\n<div class="row" *ngIf="params.tipo_reporte === 2 && porArticulo.length > 0">\n    <div class="col m12 s12">\n        <app-por-articulo [params]="params" [data]="porArticulo"></app-por-articulo>\n    </div>\n</div>'},Zxss:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>\n            Tipo de Turno {{!!turno.turno_tipo ? turno.descripcion : \'\'}}\n        </h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmTurno="ngForm" (ngSubmit)="frmTurno.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth">\n                <input matInput type="text" placeholder="Descripci\xf3n" name="descripcion" [(ngModel)]="turno.descripcion" required>\n            </mat-form-field>\n            <mat-checkbox name="activo" class="fullWidth" [(ngModel)]="+turno.activo">Activo</mat-checkbox>\n            <div align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmTurno.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetTurno()" *ngIf="turno.turno_tipo">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>'},cqsm:function(t,e,a){"use strict";a.r(e),e.default=""},dgKD:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">\n            <ng-container matColumnDef="comanda">\n                <th mat-header-cell *matHeaderCellDef>No.</th>\n                <td mat-cell *matCellDef="let element">{{element.comanda}} </td>\n            </ng-container>\n            <ng-container matColumnDef="orden">\n                <th mat-header-cell *matHeaderCellDef>Orden</th>\n                <td mat-cell *matCellDef="let element">{{element.origen_datos.numero_orden || \'\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="fechahora">\n                <th mat-header-cell *matHeaderCellDef>Fecha/Hora</th>\n                <td mat-cell *matCellDef="let element">{{(element.fhcreacion | date:\'dd/MM/yyyy HH:mm:ss\') || \'\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="nombre">\n                <th mat-header-cell *matHeaderCellDef>Cliente</th>\n                <td mat-cell *matCellDef="let element">{{element.cuentas[0].nombre}}</td>\n            </ng-container>\n            <ng-container matColumnDef="total">\n                <th mat-header-cell *matHeaderCellDef>Total</th>\n                <td mat-cell *matCellDef="let element">{{element.total | number: \'1.2-2\'}}</td>\n            </ng-container>\n            <ng-container matColumnDef="pdf">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">PDF</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="getPdf(element)">\n                        PDF\n                    </button>\n                </td>\n            </ng-container>\n            <ng-container matColumnDef="imprimir">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">Imprimir</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="imprimir(element)">\n                        Imprimir\n                    </button>\n                </td>\n            </ng-container>\n            <ng-container matColumnDef="facturar">\n                <th mat-header-cell *matHeaderCellDef style="width: 10%;">Facturar</th>\n                <td mat-cell *matCellDef="let element" class="tamanioAmigable" style="width: 10%;">\n                    <button mat-flat-button type="button" class="btnCelSize" color="accent" (click)="firmar(element)">\n                        Facturar\n                    </button>\n                </td>\n            </ng-container>\n\n            \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n            <ng-container matColumnDef="expandedDetail">\n                <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n                    <div class="example-element-detail" [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n                        <table style="width: 50%; background-color:#f5f5f5;">\n                            <caption>\n                                <h5>Detalle del pedido #{{element.comanda}}</h5>\n                                <h6 *ngIf="element.origen_datos.numero_orden">Orden #{{element.origen_datos.numero_orden}}</h6>\n                            </caption>\n                            <thead>\n                                <th>Producto</th>\n                                <th class="rtxt">Precio</th>\n                                <th class="rtxt">Total</th>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor="let det of element.cuentas[0].productos">\n                                    <td>{{det.cantidad}} {{det.articulo.descripcion}}</td>\n                                    <td class="rtxt">{{det.precio | number: \'1.2-2\'}}</td>\n                                    <td class="rtxt">{{det.total | number: \'1.2-2\'}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"\n                [class.example-expanded-row]="expandedElement === element"\n                (click)="expandedElement = expandedElement === element ? null : element">\n            </tr>\n            <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="example-detail-row"></tr>\n        </table>\n    </div>\n</div>'},doAD:function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m12 s12">\n        <mat-card class="mat-elevation-z4 fullWidth">\n            <mat-card-title>\n                <h4>Reporte de Turnos</h4>\n            </mat-card-title>\n            <mat-card-content>\n                <form #frmEntidad="ngForm" novalidate>\n                    <app-rpt-fechas [(fdel)]="params.fdel" [(fal)]="params.fal" [configuracion]="configParams"></app-rpt-fechas>\n                    <app-rpt-botones\n                        [configuracion]="configBotones"\n                        (htmlClick)="getReporte()"\n                        (pdfClick)="getReporte()"\n                        (excelClick)="getReporte()"\n                        (resetParamsClick)="resetParams()">\n                    </app-rpt-botones>\n                </form>\n                <app-cargando *ngIf="cargando"></app-cargando>\n            </mat-card-content>\n        </mat-card>                \n    </div>\n</div>\n'},dyZP:function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Configuraci\xf3n de mesa {{mesa.numero}}</h1>\n<div mat-dialog-content>\n    <form #frmConfigMesa="ngForm" novalidate>\n        <mat-form-field class="fullWidth">\n            <mat-label>Impresora</mat-label>\n            <mat-select name="impresora" [(ngModel)]="mesa.impresora">\n                <mat-option *ngFor="let imp of impresoras" [value]="imp.impresora">\n                    {{imp.nombre}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="guardarConfiguracion()" color="accent" [disabled]="!frmConfigMesa.form.valid">\n        Guardar        \n    </button>\n</div>\n'},eQgW:function(t,e,a){"use strict";a.r(e),e.default=""},hiO9:function(t,e,a){"use strict";a.r(e),e.default=".numWidth {\r\n    width: 10%;\r\n}\r\n\r\ntr {\r\n    border: none;\r\n}\r\n\r\nth, td {\r\n    padding-top: 0.25em;\r\n    padding-bottom: 0.25em;\r\n}"},inSe:function(t,e,a){"use strict";a.r(e),e.default=""},k2MF:function(t,e,a){"use strict";a.r(e);var n=a("mrSG"),i=a("8Y7J"),s=a("SVse"),o=a("IheW"),r=a("s7LF"),l=a("PCNd"),c=a("vtFA"),d=a("qodq"),h=a("u9T3"),u=a("Q+lL"),p=a("Gi4r"),m=a("HsOI"),g=a("ZwOa"),b=a("igqZ"),f=a("02hT"),_=a("rWV4"),v=a("8rEH"),y=a("JjoW"),D=a("r0V8"),C=a("Fwaw"),w=a("dFDH"),x=a("BzsH"),k=a("gavF"),S=a("FVPZ"),E=a("OIZN"),O=a("s6ns"),A=a("BV1i"),I=a("XNiG"),T=a("quSY"),P=a("VRyK"),j=a("LRne"),R=a("IzEk"),M=a("pLZG"),F=a("dvZr"),V=a("Xd0L"),N=a("IP0z"),z=a("zMNK"),L=a("GS7A"),B=a("KCVW"),$=a("QQfA"),U=a("5GAg");function H(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}class Y{constructor(){this.changes=new I.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}Y.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],Y.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new Y},token:Y,providedIn:"root"});class W{constructor(t,e,a,n,i){this.value=t,this.displayValue=e,this.ariaLabel=a,this.enabled=n,this.cssClasses=i}}class q{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new i.EventEmitter}_cellClicked(t){t.enabled&&this.selectedValueChange.emit(t.value)}ngOnChanges(t){const e=t.numCols,{rows:a,numCols:n}=this;(t.rows||e)&&(this._firstRowOffset=a&&a.length&&a[0].length?n-a[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/n}%`),!e&&this._cellWidth||(this._cellWidth=`${100/n}%`)}_isActiveCell(t,e){let a=t*this.numCols+e;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()})})}}q.decorators=[{type:i.Component,args:[{selector:"[mat-calendar-body]",template:'<tr *ngIf="_firstRowOffset < labelMinRequiredCells" aria-hidden="true"><td class="mat-calendar-body-label" [attr.colspan]="numCols" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{label}}</td></tr><tr *ngFor="let row of rows; let rowIndex = index" role="row"><td *ngIf="rowIndex === 0 && _firstRowOffset" aria-hidden="true" class="mat-calendar-body-label" [attr.colspan]="_firstRowOffset" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{_firstRowOffset >= labelMinRequiredCells ? label : \'\'}}</td><td *ngFor="let item of row; let colIndex = index" role="gridcell" class="mat-calendar-body-cell" [ngClass]="item.cssClasses" [tabindex]="_isActiveCell(rowIndex, colIndex) ? 0 : -1" [class.mat-calendar-body-disabled]="!item.enabled" [class.mat-calendar-body-active]="_isActiveCell(rowIndex, colIndex)" [attr.aria-label]="item.ariaLabel" [attr.aria-disabled]="!item.enabled || null" [attr.aria-selected]="selectedValue === item.value" (click)="_cellClicked(item)" [style.width]="_cellWidth" [style.paddingTop]="_cellPadding" role="button" [style.paddingBottom]="_cellPadding"><div class="mat-calendar-body-cell-content" [class.mat-calendar-body-selected]="selectedValue === item.value" [class.mat-calendar-body-today]="todayValue === item.value">{{item.displayValue}}</div></td></tr>',styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],host:{class:"mat-calendar-body",role:"grid","aria-readonly":"true"},exportAs:"matCalendarBody",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],q.ctorParameters=()=>[{type:i.ElementRef},{type:i.NgZone}],q.propDecorators={label:[{type:i.Input}],rows:[{type:i.Input}],todayValue:[{type:i.Input}],selectedValue:[{type:i.Input}],labelMinRequiredCells:[{type:i.Input}],numCols:[{type:i.Input}],activeCell:[{type:i.Input}],cellAspectRatio:[{type:i.Input}],selectedValueChange:[{type:i.Output}]};const G=7;class Z{constructor(t,e,a,n){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=a,this._dir=n,this.selectedChange=new i.EventEmitter,this._userSelection=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw H("DateAdapter");if(!this._dateFormats)throw H("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,a=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_dateSelected(t){if(this._selectedDate!=t){const e=this._dateAdapter.getYear(this.activeDate),a=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.createDate(e,a,t);this.selectedChange.emit(n)}this._userSelection.emit()}_handleCalendarBodyKeydown(t){const e=this._activeDate,a=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case F.b:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case F.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case F.j:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case F.i:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case F.d:case F.l:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(G+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%G,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow");let a=this._dateAdapter.getDayOfWeekNames("long").map((t,a)=>({long:t,narrow:e[a]}));this._weekdays=a.slice(t).concat(a.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,n=this._firstWeekOffset;a<t;a++,n++){n==G&&(this._weeks.push([]),n=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),i=this._shouldEnableDate(t),s=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(t):void 0;this._weeks[this._weeks.length-1].push(new W(a+1,e[a],s,i,o))}}_shouldEnableDate(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}Z.decorators=[{type:i.Component,args:[{selector:"mat-month-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th scope="col" *ngFor="let day of _weekdays" [attr.aria-label]="day.long">{{day.narrow}}</th></tr><tr><th class="mat-calendar-table-header-divider" colspan="7" aria-hidden="true"></th></tr></thead><tbody mat-calendar-body [label]="_monthLabel" [rows]="_weeks" [todayValue]="_todayDate" [selectedValue]="_selectedDate" [labelMinRequiredCells]="3" [activeCell]="_dateAdapter.getDate(activeDate) - 1" (selectedValueChange)="_dateSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMonthView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],Z.ctorParameters=()=>[{type:i.ChangeDetectorRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}],Z.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],dateClass:[{type:i.Input}],selectedChange:[{type:i.Output}],_userSelection:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[q,{static:!1}]}]};const K=24,X=4;class J{constructor(t,e,a){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=a,this.selectedChange=new i.EventEmitter,this.yearSelected=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw H("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const a=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),Q(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-tt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let e=0,a=[];e<K;e++)a.push(t+e),a.length==X&&(this._years.push(a.map(t=>this._createCellForYear(t))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let e=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),a)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,a=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-X);break;case F.b:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,X);break;case F.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-tt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,K-tt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case F.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-K:-K);break;case F.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*K:K);break;case F.d:case F.l:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return tt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new W(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}function Q(t,e,a,n,i){const s=t.getYear(e),o=t.getYear(a),r=et(t,n,i);return Math.floor((s-r)/K)===Math.floor((o-r)/K)}function tt(t,e,a,n){const i=t.getYear(e);return((i-et(t,a,n))%(s=K)+s)%s;var s}function et(t,e,a){let n=0;if(a){n=t.getYear(a)-K+1}else e&&(n=t.getYear(e));return n}J.decorators=[{type:i.Component,args:[{selector:"mat-multi-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [rows]="_years" [todayValue]="_todayYear" [selectedValue]="_selectedYear" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_getActiveCell()" (selectedValueChange)="_yearSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMultiYearView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],J.ctorParameters=()=>[{type:i.ChangeDetectorRef},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}],J.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],selectedChange:[{type:i.Output}],yearSelected:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[q,{static:!1}]}]};class at{constructor(t,e,a,n){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=a,this._dir=n,this.selectedChange=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this.activeDateChange=new i.EventEmitter,!this._dateAdapter)throw H("DateAdapter");if(!this._dateFormats)throw H("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const a=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_monthSelected(t){const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);const a=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,a=this._isRtl();switch(t.keyCode){case F.g:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case F.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case F.n:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case F.b:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case F.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case F.c:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case F.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case F.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case F.d:case F.l:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let a=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new W(t,e.toLocaleUpperCase(),a,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&e>n}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&e<n}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}at.decorators=[{type:i.Component,args:[{selector:"mat-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [label]="_yearLabel" [rows]="_months" [todayValue]="_todayMonth" [selectedValue]="_selectedMonth" [labelMinRequiredCells]="2" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_dateAdapter.getMonth(activeDate)" (selectedValueChange)="_monthSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matYearView",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],at.ctorParameters=()=>[{type:i.ChangeDetectorRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]}],at.propDecorators={activeDate:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],selectedChange:[{type:i.Output}],monthSelected:[{type:i.Output}],activeDateChange:[{type:i.Output}],_matCalendarBody:[{type:i.ViewChild,args:[q,{static:!1}]}]};class nt{constructor(t,e,a,n,i){this._intl=t,this.calendar=e,this._dateAdapter=a,this._dateFormats=n,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate)-tt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+K-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(a,n)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-K)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:K)}previousEnabled(){return!this.calendar.minDate||(!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate))}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):Q(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}}nt.decorators=[{type:i.Component,args:[{selector:"mat-calendar-header",template:'<div class="mat-calendar-header"><div class="mat-calendar-controls"><button mat-button type="button" class="mat-calendar-period-button" (click)="currentPeriodClicked()" [attr.aria-label]="periodButtonLabel" cdkAriaLive="polite">{{periodButtonText}}<div class="mat-calendar-arrow" [class.mat-calendar-invert]="calendar.currentView != \'month\'"></div></button><div class="mat-calendar-spacer"></div><ng-content></ng-content><button mat-icon-button type="button" class="mat-calendar-previous-button" [disabled]="!previousEnabled()" (click)="previousClicked()" [attr.aria-label]="prevButtonLabel"></button> <button mat-icon-button type="button" class="mat-calendar-next-button" [disabled]="!nextEnabled()" (click)="nextClicked()" [attr.aria-label]="nextButtonLabel"></button></div></div>',exportAs:"matCalendarHeader",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],nt.ctorParameters=()=>[{type:Y},{type:it,decorators:[{type:i.Inject,args:[Object(i.forwardRef)(()=>it)]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:i.ChangeDetectorRef}];class it{constructor(t,e,a,n){if(this._dateAdapter=e,this._dateFormats=a,this._changeDetectorRef=n,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new i.EventEmitter,this.yearSelected=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this._userSelection=new i.EventEmitter,this.stateChanges=new I.a,!this._dateAdapter)throw H("DateAdapter");if(!this._dateFormats)throw H("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{n.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new z.d(this.headerComponent||nt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()}_dateSelected(t){this._dateAdapter.sameDate(t,this.selected)||this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}it.decorators=[{type:i.Component,args:[{selector:"mat-calendar",template:'<ng-template [cdkPortalOutlet]="_calendarHeaderPortal"></ng-template><div class="mat-calendar-content" [ngSwitch]="currentView" cdkMonitorSubtreeFocus tabindex="-1"><mat-month-view *ngSwitchCase="\'month\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" [dateClass]="dateClass" (selectedChange)="_dateSelected($event)" (_userSelection)="_userSelected()"></mat-month-view><mat-year-view *ngSwitchCase="\'year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (monthSelected)="_monthSelectedInYearView($event)" (selectedChange)="_goToDateInView($event, \'month\')"></mat-year-view><mat-multi-year-view *ngSwitchCase="\'multi-year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (yearSelected)="_yearSelectedInMultiYearView($event)" (selectedChange)="_goToDateInView($event, \'year\')"></mat-multi-year-view></div>',styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],host:{class:"mat-calendar"},exportAs:"matCalendar",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],it.ctorParameters=()=>[{type:Y},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:i.ChangeDetectorRef}],it.propDecorators={headerComponent:[{type:i.Input}],startAt:[{type:i.Input}],startView:[{type:i.Input}],selected:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],dateFilter:[{type:i.Input}],dateClass:[{type:i.Input}],selectedChange:[{type:i.Output}],yearSelected:[{type:i.Output}],monthSelected:[{type:i.Output}],_userSelection:[{type:i.Output}],monthView:[{type:i.ViewChild,args:[Z,{static:!1}]}],yearView:[{type:i.ViewChild,args:[at,{static:!1}]}],multiYearView:[{type:i.ViewChild,args:[J,{static:!1}]}]};const st={transformPanel:Object(L.n)("transformPanel",[Object(L.k)("void",Object(L.l)({opacity:0,transform:"scale(1, 0.8)"})),Object(L.m)("void => enter",Object(L.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(L.l)({opacity:1,transform:"scale(1, 1)"}))),Object(L.m)("* => void",Object(L.e)("100ms linear",Object(L.l)({opacity:0})))]),fadeInCalendar:Object(L.n)("fadeInCalendar",[Object(L.k)("void",Object(L.l)({opacity:0})),Object(L.k)("enter",Object(L.l)({opacity:1})),Object(L.m)("void => *",Object(L.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let ot=0;const rt=new i.InjectionToken("mat-datepicker-scroll-strategy");const lt={provide:rt,deps:[$.b],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};const ct=Object(V.w)(class{constructor(t){this._elementRef=t}});class dt extends ct{constructor(t){super(t)}ngAfterViewInit(){this._calendar.focusActiveCell()}}dt.decorators=[{type:i.Component,args:[{selector:"mat-datepicker-content",template:'<mat-calendar cdkTrapFocus [id]="datepicker.id" [ngClass]="datepicker.panelClass" [startAt]="datepicker.startAt" [startView]="datepicker.startView" [minDate]="datepicker._minDate" [maxDate]="datepicker._maxDate" [dateFilter]="datepicker._dateFilter" [headerComponent]="datepicker.calendarHeaderComponent" [selected]="datepicker._selected" [dateClass]="datepicker.dateClass" [@fadeInCalendar]="\'enter\'" (selectedChange)="datepicker.select($event)" (yearSelected)="datepicker._selectYear($event)" (monthSelected)="datepicker._selectMonth($event)" (_userSelection)="datepicker.close()"></mat-calendar>',styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],host:{class:"mat-datepicker-content","[@transformPanel]":'"enter"',"[class.mat-datepicker-content-touch]":"datepicker.touchUi"},animations:[st.transformPanel,st.fadeInCalendar],exportAs:"matDatepickerContent",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,inputs:["color"]}]}],dt.ctorParameters=()=>[{type:i.ElementRef}],dt.propDecorators={_calendar:[{type:i.ViewChild,args:[it,{static:!1}]}]};class ht{constructor(t,e,a,n,s,o,r,l){if(this._dialog=t,this._overlay=e,this._ngZone=a,this._viewContainerRef=n,this._dateAdapter=o,this._dir=r,this._document=l,this.startView="month",this._touchUi=!1,this.yearSelected=new i.EventEmitter,this.monthSelected=new i.EventEmitter,this.openedStream=new i.EventEmitter,this.closedStream=new i.EventEmitter,this._opened=!1,this.id=`mat-datepicker-${ot++}`,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=T.a.EMPTY,this._disabledChange=new I.a,this._selectedChanged=new I.a,!this._dateAdapter)throw H("DateAdapter");this._scrollStrategy=s}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(B.c)(t)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(B.c)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput._dateFilter}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(t){let e=this._selected;this._selected=t,this._dateAdapter.sameDate(e,this._selected)||this._selectedChanged.next(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_registerInput(t){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=t,this._inputSubscription=this._datepickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(dt,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this,this._setColor()}_openAsPopup(){this._calendarPortal||(this._calendarPortal=new z.d(dt,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._setColor(),this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new $.c({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(P.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(M.a)(t=>t.keyCode===F.e||this._datepickerInput&&t.altKey&&t.keyCode===F.n))).subscribe(t=>{t&&t.preventDefault(),this.close()})}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}}ht.decorators=[{type:i.Component,args:[{selector:"mat-datepicker",template:"",exportAs:"matDatepicker",changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],ht.ctorParameters=()=>[{type:O.b},{type:$.b},{type:i.NgZone},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[rt]}]},{type:V.c,decorators:[{type:i.Optional}]},{type:N.b,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[s.DOCUMENT]}]}],ht.propDecorators={calendarHeaderComponent:[{type:i.Input}],startAt:[{type:i.Input}],startView:[{type:i.Input}],color:[{type:i.Input}],touchUi:[{type:i.Input}],disabled:[{type:i.Input}],yearSelected:[{type:i.Output}],monthSelected:[{type:i.Output}],panelClass:[{type:i.Input}],dateClass:[{type:i.Input}],openedStream:[{type:i.Output,args:["opened"]}],closedStream:[{type:i.Output,args:["closed"]}],opened:[{type:i.Input}]};const ut={provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)(()=>gt),multi:!0},pt={provide:r.NG_VALIDATORS,useExisting:Object(i.forwardRef)(()=>gt),multi:!0};class mt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}class gt{constructor(t,e,a,n){if(this._elementRef=t,this._dateAdapter=e,this._dateFormats=a,this._formField=n,this.dateChange=new i.EventEmitter,this.dateInput=new i.EventEmitter,this._valueChange=new i.EventEmitter,this._disabledChange=new i.EventEmitter,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=T.a.EMPTY,this._localeSubscription=T.a.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.min||!e||this._dateAdapter.compareDate(this.min,e)<=0?null:{matDatepickerMin:{min:this.min,actual:e}}},this._maxValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.max||!e||this._dateAdapter.compareDate(this.max,e)>=0?null:{matDatepickerMax:{max:this.max,actual:e}}},this._filterValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return this._dateFilter&&e&&!this._dateFilter(e)?{matDatepickerFilter:!0}:null},this._validator=r.Validators.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw H("DateAdapter");if(!this._dateFormats)throw H("MAT_DATE_FORMATS");this._localeSubscription=e.localeChanges.subscribe(()=>{this.value=this.value})}set matDatepicker(t){t&&(this._datepicker=t,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.dateInput.emit(new mt(this,this._elementRef.nativeElement)),this.dateChange.emit(new mt(this,this._elementRef.nativeElement))}))}set matDatepickerFilter(t){this._dateFilter=t,this._validatorOnChange()}get value(){return this._value}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);const e=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}get min(){return this._min}set min(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(t){const e=Object(B.c)(t),a=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&a.blur&&a.blur()}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){const e=t.altKey&&t.keyCode===F.b;this._datepicker&&e&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),t.preventDefault())}_onInput(t){let e=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e),this._dateAdapter.sameDate(e,this._value)?this._validatorOnChange():(this._value=e,this._cvaOnChange(e),this._valueChange.emit(e),this.dateInput.emit(new mt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new mt(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}gt.decorators=[{type:i.Directive,args:[{selector:"input[matDatepicker]",providers:[ut,pt,{provide:g.a,useExisting:gt}],host:{"[attr.aria-haspopup]":'_datepicker ? "dialog" : null',"[attr.aria-owns]":"(_datepicker?.opened && _datepicker.id) || null","[attr.min]":"min ? _dateAdapter.toIso8601(min) : null","[attr.max]":"max ? _dateAdapter.toIso8601(max) : null","[disabled]":"disabled","(input)":"_onInput($event.target.value)","(change)":"_onChange()","(blur)":"_onBlur()","(keydown)":"_onKeydown($event)"},exportAs:"matDatepickerInput"}]}],gt.ctorParameters=()=>[{type:i.ElementRef},{type:V.c,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[V.f]}]},{type:m.a,decorators:[{type:i.Optional}]}],gt.propDecorators={matDatepicker:[{type:i.Input}],matDatepickerFilter:[{type:i.Input}],value:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],disabled:[{type:i.Input}],dateChange:[{type:i.Output}],dateInput:[{type:i.Output}]};class bt{}bt.decorators=[{type:i.Directive,args:[{selector:"[matDatepickerToggleIcon]"}]}];class ft{constructor(t,e,a){this._intl=t,this._changeDetectorRef=e,this._stateChanges=T.a.EMPTY;const n=Number(a);this.tabIndex=n||0===n?n:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Object(B.c)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker._disabledChange:Object(j.a)(),e=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(j.a)(),a=this.datepicker?Object(P.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(j.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(P.a)(this._intl.changes,t,e,a).subscribe(()=>this._changeDetectorRef.markForCheck())}}ft.decorators=[{type:i.Component,args:[{selector:"mat-datepicker-toggle",template:'<button #button mat-icon-button type="button" [attr.aria-haspopup]="datepicker ? \'dialog\' : null" [attr.aria-label]="_intl.openCalendarLabel" [attr.tabindex]="disabled ? -1 : tabIndex" [disabled]="disabled" [disableRipple]="disableRipple" (click)="_open($event)"><svg *ngIf="!_customIcon" class="mat-datepicker-toggle-default-icon" viewBox="0 0 24 24" width="24px" height="24px" fill="currentColor" focusable="false"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg><ng-content select="[matDatepickerToggleIcon]"></ng-content></button>',styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}"],host:{class:"mat-datepicker-toggle","[attr.tabindex]":"-1","[class.mat-datepicker-toggle-active]":"datepicker && datepicker.opened","[class.mat-accent]":'datepicker && datepicker.color === "accent"',"[class.mat-warn]":'datepicker && datepicker.color === "warn"',"(focus)":"_button.focus()"},exportAs:"matDatepickerToggle",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush}]}],ft.ctorParameters=()=>[{type:Y},{type:i.ChangeDetectorRef},{type:String,decorators:[{type:i.Attribute,args:["tabindex"]}]}],ft.propDecorators={datepicker:[{type:i.Input,args:["for"]}],tabIndex:[{type:i.Input}],disabled:[{type:i.Input}],disableRipple:[{type:i.Input}],_customIcon:[{type:i.ContentChild,args:[bt,{static:!1}]}],_button:[{type:i.ViewChild,args:["button",{static:!1}]}]};class _t{}_t.decorators=[{type:i.NgModule,args:[{imports:[s.CommonModule,C.b,O.c,$.e,U.a,z.i],exports:[it,q,ht,dt,gt,ft,bt,Z,at,J,nt],declarations:[it,q,ht,dt,gt,ft,bt,Z,at,J,nt],providers:[Y,lt],entryComponents:[dt,nt]}]}];var vt=a("/HVE"),yt=a("HDdC"),Dt=a("D0XW"),Ct=a("Y7HM");function wt(t){const{subscriber:e,counter:a,period:n}=t;e.next(a),this.schedule({subscriber:e,counter:a+1,period:n},n)}var xt=a("eNwd"),kt=a("JX91"),St=a("1G5W"),Et=a("lJxs"),Ot=a("vkgz"),At=a("eIep"),It=a("hOhj");function Tt(t,e){for(let a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function Pt(t,e){const a=e?"":"none";Tt(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:a,msUserSelect:a,webkitUserSelect:a,MozUserSelect:a})}function jt(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Rt(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const Mt=Object(vt.g)({passive:!0}),Ft=Object(vt.g)({passive:!1}),Vt=800;class Nt{constructor(t,e,a,n,i,s){this._config=e,this._document=a,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new I.a,this._pointerMoveSubscription=T.a.EMPTY,this._pointerUpSubscription=T.a.EMPTY,this._scrollSubscription=T.a.EMPTY,this._resizeSubscription=T.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I.a,this.started=new I.a,this.released=new I.a,this.ended=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const a=t.target;return!!a&&(a===e||e.contains(a))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;if(t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement){const e=`translate(${t.x} ${t.y})`;this._rootElement.setAttribute("transform",e)}}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(B.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>Object(B.e)(t)),this._handles.forEach(t=>Pt(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(B.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,Ft),e.addEventListener("touchstart",this._pointerDown,Mt),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(B.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$t(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$t(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$t(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),Ut(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const a=this._preview=this._createPreviewElement(),n=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(n,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(a),this._dropContainer.start()}var e}_initializeDragSequence(t,e){e.stopPropagation();const a=this.isDragging(),n=Ut(e),i=!n&&0!==e.button,s=this._rootElement,o=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+Vt>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),a||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object(kt.a)(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const r=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:r.x,y:r.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):Object(B.e)(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,a=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:a,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,a,this._initialContainer,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let a=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,t,e),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=zt(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let a;if(e){const n=t.viewContainer.createEmbeddedView(e,t.context);a=Ht(n,this._document),this._previewRef=n,a.style.transform=zt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();(a=Lt(t)).style.width=`${e.width}px`,a.style.height=`${e.height}px`,a.style.transform=zt(e.left,e.top)}return Tt(a.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),Pt(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=zt(t.left,t.top);const e=function(t){const e=getComputedStyle(t),a=Rt(e,"transition-property"),n=a.find(t=>"transform"===t||"all"===t);if(!n)return 0;const i=a.indexOf(n),s=Rt(e,"transition-duration"),o=Rt(e,"transition-delay");return jt(s[i])+jt(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const a=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",a),t(),clearTimeout(n))},n=setTimeout(a,1.5*e);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let a;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),a=Ht(this._placeholderRef,this._document)):a=Lt(this._rootElement),a.classList.add("cdk-drag-placeholder"),a}_getPointerPositionInElement(t,e){const a=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,i=n?n.getBoundingClientRect():a,s=Ut(e)?e.targetTouches[0]:e,o=s.pageX-i.left-this._scrollPosition.left,r=s.pageY-i.top-this._scrollPosition.top;return{x:i.left-a.left+o,y:i.top-a.top+r}}_getPointerPositionOnPage(t){const e=Ut(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),a=this.constrainPosition?this.constrainPosition(e,this):e,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?a.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(a.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,n=this._boundaryRect,i=this._previewRect,s=n.top+e,o=n.bottom-(i.height-e),r=n.left+t,l=n.right-(i.width-t);a.x=Bt(a.x,r,l),a.y=Bt(a.y,s,o)}return a}_updatePointerDirectionDelta(t){const{x:e,y:a}=t,n=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(a-i.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(n.y=a>i.y?1:-1,i.y=a),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Pt(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ft),t.removeEventListener("touchstart",this._pointerDown,Mt)}_applyRootElementTransform(t,e){const a=zt(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?a+" "+this._initialTransform:a}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const a=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect(),i=a.left-n.left,s=n.right-a.right,o=a.top-n.top,r=n.bottom-a.bottom;a.width>n.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,a.height>n.height?(o>0&&(e+=o),r>0&&(e-=r)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}}function zt(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Lt(t){const e=t.cloneNode(!0),a=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<a.length;i++)a[i].removeAttribute("id");if(n.length){const t=e.querySelectorAll("canvas");for(let e=0;e<n.length;e++){const a=t[e].getContext("2d");a&&a.drawImage(n[e],0,0)}}return e}function Bt(t,e,a){return Math.max(e,Math.min(a,t))}function $t(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ut(t){return"t"===t.type[0]}function Ht(t,e){const a=t.rootNodes[0];if(a.nodeType!==e.ELEMENT_NODE){const t=e.createElement("div");return t.appendChild(a),t}return a}function Yt(t,e){return Math.max(0,Math.min(e,t))}let Wt=0;const qt=.05,Gt=.05,Zt=2;class Kt{constructor(t,e,a,n,i){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=i,this.id=`cdk-drop-list-ref-${Wt++}`,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.sorted=new I.a,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=T.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I.a,this._handleScroll=()=>{if(!this.isDragging())return;const t=Object(B.e)(this.element);this._updateAfterScroll(this._scrollPosition,t.scrollTop,t.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Dt.a){return(!Object(Ct.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Dt.a),new yt.a(a=>(a.add(e.schedule(wt,t,{subscriber:a,counter:0,period:t})),a))}(0,xt.a).pipe(Object(St.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?ee(t,-Zt):2===this._verticalScrollDirection&&ee(t,Zt),1===this._horizontalScrollDirection?ae(t,-Zt):2===this._horizontalScrollDirection&&ae(t,Zt)})};const s=this.element=Object(B.e)(t);this._shadowRoot=function(t){if(Object(vt.d)()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(s)||a,e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(B.e)(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>t.addEventListener("scroll",this._handleScroll)):t.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(t,e,a){this.start();let n=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===n&&(n=this._getItemIndexFromPointerPosition(t,e,a));const i=this._activeDraggables,s=i.indexOf(t),o=t.getPlaceholderElement();let r=i[n];if(r===t&&(r=i[n+1]),s>-1&&i.splice(s,1),r&&!this._dragDropRegistry.isDragging(r)){const e=r.getRootElement();e.parentElement.insertBefore(o,e),i.splice(n,0,t)}else Object(B.e)(this.element).appendChild(o),i.push(t);o.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,a,n,i={x:0,y:0}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:a.getItemIndex(t),container:this,previousContainer:a,isPointerOverContainer:n,distance:i})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){if(!this._isDragging)return this._draggables.indexOf(t);return Jt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,a,n){if(this.sortingDisabled||!this._isPointerNearDropContainer(e,a))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,a,n);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,r=Jt(i,e=>e.drag===t),l=i[s],c=i[r].clientRect,d=l.clientRect,h=r>s?1:-1;this._previousSwap.drag=l.drag,this._previousSwap.delta=o?n.x:n.y;const u=this._getItemOffsetPx(c,d,h),p=this._getSiblingOffsetPx(r,i,h),m=i.slice();!function(t,e,a){const n=Yt(e,t.length-1),i=Yt(a,t.length-1);if(n===i)return;const s=t[n],o=i<n?-1:1;for(let r=n;r!==i;r+=o)t[r]=t[r+o];t[i]=s}(i,r,s),this.sorted.next({previousIndex:r,currentIndex:s,container:this,item:t}),i.forEach((e,a)=>{if(m[a]===e)return;const n=e.drag===t,i=n?u:p,s=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Xt(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Xt(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let a,n=0,i=0;if(this._isPointerNearDropContainer(t,e)){const s=Object(B.e)(this.element);[n,i]=function(t,e,a,n){const i=ne(e,n),s=ie(e,a);let o=0,r=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(r=1):t.scrollWidth-e>t.clientWidth&&(r=2)}return[o,r]}(s,this._clientRect,t,e),(n||i)&&(a=s)}if(this._viewportRuler&&!n&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),r={width:s,height:o,top:0,right:s,bottom:o,left:0};n=ne(r,e),i=ie(r,t),a=window}!a||n===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&a===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=i,this._scrollNode=a,(n||i)&&a?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const t=Object(B.e)(this.element);this._clientRect=te(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement();return{drag:t,offset:0,clientRect:te(e)}}).sort((e,a)=>t?e.clientRect.left-a.clientRect.left:e.clientRect.top-a.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(t,e,a){const n="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*a];let o=i[n?"width":"height"]*a;if(s){const t=n?"left":"top",e=n?"right":"bottom";-1===a?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_isPointerNearDropContainer(t,e){const{top:a,right:n,bottom:i,left:s,width:o,height:r}=this._clientRect,l=o*qt,c=r*qt;return e>a-c&&e<i+c&&t>s-l&&t<n+l}_getItemOffsetPx(t,e,a){const n="horizontal"===this._orientation;let i=n?e.left-t.left:e.top-t.top;return-1===a&&(i+=n?e.width-t.width:e.height-t.height),i}_getItemIndexFromPointerPosition(t,e,a,n){const i="horizontal"===this._orientation;return Jt(this._itemPositions,({drag:s,clientRect:o},r,l)=>{if(s===t)return l.length<2;if(n){const t=i?n.x:n.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<=Math.floor(o.right):a>=Math.floor(o.top)&&a<=Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(t,e,a,n){const i=t.top-e,s=t.left-a;n&&Xt(n,i,s),this._itemPositions.forEach(({clientRect:t})=>{Xt(t,i,s)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),t.top=e,t.left=a}_removeListeners(){Object(B.e)(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(t,e){return Qt(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,a){return this._siblings.find(n=>n._canReceive(t,e,a))}_canReceive(t,e,a){if(!this.enterPredicate(t,this)||!Qt(this._clientRect,e,a))return!1;const n=this._shadowRoot.elementFromPoint(e,a);if(!n)return!1;const i=Object(B.e)(this.element);return n===i||i.contains(n)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const t=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,t.top,t.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function Xt(t,e,a){t.top+=e,t.bottom=t.top+t.height,t.left+=a,t.right=t.left+t.width}function Jt(t,e){for(let a=0;a<t.length;a++)if(e(t[a],a,t))return a;return-1}function Qt(t,e,a){const{top:n,bottom:i,left:s,right:o}=t;return a>=n&&a<=i&&e>=s&&e<=o}function te(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ee(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function ae(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function ne(t,e){const{top:a,bottom:n,height:i}=t,s=i*Gt;return e>=a-s&&e<=a+s?1:e>=n-s&&e<=n+s?2:0}function ie(t,e){const{left:a,right:n,width:i}=t,s=i*Gt;return e>=a-s&&e<=a+s?1:e>=n-s&&e<=n+s?2:0}const se=Object(vt.g)({passive:!1,capture:!0});class oe{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new I.a,this.pointerUp=new I.a,this.scroll=new I.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,se)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,se)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),a=t?"touchmove":"mousemove",n=t?"touchend":"mouseup";this._globalListeners.set(a,{handler:t=>this.pointerMove.next(t),options:se}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:se}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}oe.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],oe.ctorParameters=()=>[{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[s.DOCUMENT]}]}],oe.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new oe(Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(s.DOCUMENT))},token:oe,providedIn:"root"});const re={dragStartThreshold:5,pointerDirectionChangeThreshold:5};class le{constructor(t,e,a,n){this._document=t,this._ngZone=e,this._viewportRuler=a,this._dragDropRegistry=n}createDrag(t,e=re){return new Nt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Kt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}le.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],le.ctorParameters=()=>[{type:void 0,decorators:[{type:i.Inject,args:[s.DOCUMENT]}]},{type:i.NgZone},{type:It.e},{type:oe}],le.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new le(Object(i["\u0275\u0275inject"])(s.DOCUMENT),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(It.e),Object(i["\u0275\u0275inject"])(oe))},token:le,providedIn:"root"});const ce=new i.InjectionToken("CDK_DROP_LIST"),de=ce,he=new i.InjectionToken("CDK_DRAG_PARENT");class ue{constructor(t,e){this.element=t,this._stateChanges=new I.a,this._disabled=!1,this._parentDrag=e,Pt(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(B.c)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}ue.decorators=[{type:i.Directive,args:[{selector:"[cdkDragHandle]",host:{class:"cdk-drag-handle"}}]}],ue.ctorParameters=()=>[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Inject,args:[he]},{type:i.Optional}]}],ue.propDecorators={disabled:[{type:i.Input,args:["cdkDragHandleDisabled"]}]};class pe{constructor(t){this.templateRef=t}}pe.decorators=[{type:i.Directive,args:[{selector:"ng-template[cdkDragPlaceholder]"}]}],pe.ctorParameters=()=>[{type:i.TemplateRef}],pe.propDecorators={data:[{type:i.Input}]};class me{constructor(t){this.templateRef=t}}me.decorators=[{type:i.Directive,args:[{selector:"ng-template[cdkDragPreview]"}]}],me.ctorParameters=()=>[{type:i.TemplateRef}],me.propDecorators={data:[{type:i.Input}]};const ge=new i.InjectionToken("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}});class be{constructor(t,e,a,n,s,o,r,l,c){this.element=t,this.dropContainer=e,this._document=a,this._ngZone=n,this._viewContainerRef=s,this._dir=r,this._changeDetectorRef=c,this._destroyed=new I.a,this.dragStartDelay=0,this._disabled=!1,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new yt.a(t=>{const e=this._dragRef.moved.pipe(Object(Et.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(t,o),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get boundaryElementSelector(){return"string"==typeof this.boundaryElement?this.boundaryElement:void 0}set boundaryElementSelector(t){this.boundaryElement=t}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(B.c)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(R.a)(1),Object(St.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(kt.a)(this._handles),Object(Ot.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(At.a)(t=>Object(P.a)(...t.map(t=>t._stateChanges))),Object(St.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,a=t.element.nativeElement;t.disabled?e.disableHandle(a):e.enableHandle(a)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,a=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?fe(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return fe(this.element.nativeElement,t);const e=Object(B.e)(t);if(Object(i.isDevMode)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,n=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay=Object(B.f)(this.dragStartDelay),t.constrainPosition=this.constrainPosition,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(n),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}}function fe(t,e){let a=t.parentElement;for(;a;){if(a.matches?a.matches(e):a.msMatchesSelector(e))return a;a=a.parentElement}return null}be.decorators=[{type:i.Directive,args:[{selector:"[cdkDrag]",exportAs:"cdkDrag",host:{class:"cdk-drag","[class.cdk-drag-disabled]":"disabled","[class.cdk-drag-dragging]":"_dragRef.isDragging()"},providers:[{provide:he,useExisting:be}]}]}],be.ctorParameters=()=>[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Inject,args:[ce]},{type:i.Optional},{type:i.SkipSelf}]},{type:void 0,decorators:[{type:i.Inject,args:[s.DOCUMENT]}]},{type:i.NgZone},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[ge]}]},{type:N.b,decorators:[{type:i.Optional}]},{type:le},{type:i.ChangeDetectorRef}],be.propDecorators={_handles:[{type:i.ContentChildren,args:[ue,{descendants:!0}]}],_previewTemplate:[{type:i.ContentChild,args:[me,{static:!1}]}],_placeholderTemplate:[{type:i.ContentChild,args:[pe,{static:!1}]}],data:[{type:i.Input,args:["cdkDragData"]}],lockAxis:[{type:i.Input,args:["cdkDragLockAxis"]}],rootElementSelector:[{type:i.Input,args:["cdkDragRootElement"]}],boundaryElement:[{type:i.Input,args:["cdkDragBoundary"]}],dragStartDelay:[{type:i.Input,args:["cdkDragStartDelay"]}],freeDragPosition:[{type:i.Input,args:["cdkDragFreeDragPosition"]}],disabled:[{type:i.Input,args:["cdkDragDisabled"]}],constrainPosition:[{type:i.Input,args:["cdkDragConstrainPosition"]}],started:[{type:i.Output,args:["cdkDragStarted"]}],released:[{type:i.Output,args:["cdkDragReleased"]}],ended:[{type:i.Output,args:["cdkDragEnded"]}],entered:[{type:i.Output,args:["cdkDragEntered"]}],exited:[{type:i.Output,args:["cdkDragExited"]}],dropped:[{type:i.Output,args:["cdkDragDropped"]}],moved:[{type:i.Output,args:["cdkDragMoved"]}]};class _e{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(B.c)(t)}ngOnDestroy(){this._items.clear()}}_e.decorators=[{type:i.Directive,args:[{selector:"[cdkDropListGroup]",exportAs:"cdkDropListGroup"}]}],_e.propDecorators={disabled:[{type:i.Input,args:["cdkDropListGroupDisabled"]}]};let ve=0;class ye{constructor(t,e,a,n,s){this.element=t,this._changeDetectorRef=a,this._dir=n,this._group=s,this._destroyed=new I.a,this.connectedTo=[],this.orientation="vertical",this.id=`cdk-drop-list-${ve++}`,this._disabled=!1,this._sortingDisabled=!1,this.enterPredicate=()=>!0,this.autoScrollDisabled=!1,this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._dropListRef=e.createDropList(t),this._dropListRef.data=this,this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._syncInputs(this._dropListRef),this._handleEvents(this._dropListRef),ye._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._disabled=Object(B.c)(t)}get sortingDisabled(){return this._sortingDisabled}set sortingDisabled(t){this._sortingDisabled=Object(B.c)(t)}ngAfterContentInit(){this._draggables.changes.pipe(Object(kt.a)(this._draggables),Object(St.a)(this._destroyed)).subscribe(t=>{this._dropListRef.withItems(t.map(t=>t._dragRef))})}ngOnDestroy(){const t=ye._dropLists.indexOf(this);t>-1&&ye._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,a,n){this._dropListRef.drop(t._dragRef,e,a._dropListRef,n)}enter(t,e,a){this._dropListRef.enter(t._dragRef,e,a)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_sortItem(t,e,a,n){return this._dropListRef._sortItem(t._dragRef,e,a,n)}_getSiblingContainerFromPosition(t,e,a){const n=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,a);return n?n.data:null}_isOverContainer(t,e){return this._dropListRef._isOverContainer(t,e)}_syncInputs(t){this._dir&&this._dir.change.pipe(Object(kt.a)(this._dir.value),Object(St.a)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const e=Object(B.b)(this.connectedTo).map(t=>"string"==typeof t?ye._dropLists.find(e=>e.id===t):t);this._group&&this._group._items.forEach(t=>{-1===e.indexOf(t)&&e.push(t)}),t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.connectedTo(e.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}}ye._dropLists=[],ye.decorators=[{type:i.Directive,args:[{selector:"[cdkDropList], cdk-drop-list",exportAs:"cdkDropList",providers:[{provide:_e,useValue:void 0},{provide:de,useExisting:ye}],host:{class:"cdk-drop-list","[id]":"id","[class.cdk-drop-list-disabled]":"disabled","[class.cdk-drop-list-dragging]":"_dropListRef.isDragging()","[class.cdk-drop-list-receiving]":"_dropListRef.isReceiving()"}}]}],ye.ctorParameters=()=>[{type:i.ElementRef},{type:le},{type:i.ChangeDetectorRef},{type:N.b,decorators:[{type:i.Optional}]},{type:_e,decorators:[{type:i.Optional},{type:i.SkipSelf}]}],ye.propDecorators={_draggables:[{type:i.ContentChildren,args:[Object(i.forwardRef)(()=>be),{descendants:!1}]}],connectedTo:[{type:i.Input,args:["cdkDropListConnectedTo"]}],data:[{type:i.Input,args:["cdkDropListData"]}],orientation:[{type:i.Input,args:["cdkDropListOrientation"]}],id:[{type:i.Input}],lockAxis:[{type:i.Input,args:["cdkDropListLockAxis"]}],disabled:[{type:i.Input,args:["cdkDropListDisabled"]}],sortingDisabled:[{type:i.Input,args:["cdkDropListSortingDisabled"]}],enterPredicate:[{type:i.Input,args:["cdkDropListEnterPredicate"]}],autoScrollDisabled:[{type:i.Input,args:["cdkDropListAutoScrollDisabled"]}],dropped:[{type:i.Output,args:["cdkDropListDropped"]}],entered:[{type:i.Output,args:["cdkDropListEntered"]}],exited:[{type:i.Output,args:["cdkDropListExited"]}],sorted:[{type:i.Output,args:["cdkDropListSorted"]}]};class De{}De.decorators=[{type:i.NgModule,args:[{declarations:[ye,_e,be,ue,me,pe],exports:[ye,_e,be,ue,me,pe],providers:[le]}]}];var Ce=a("Y8tL"),we=a("9qht"),xe=a("drcI"),ke=a("iInd"),Se=a("0T/Q");let Ee=class{constructor(){this.setArea=t=>this.area=t,this.refreshAreaList=()=>{this.lstAreasComponent.loadEntidades()},this.area={area:null,sede:null,nombre:null}}ngOnInit(){}};n.b([Object(i.ViewChild)("listaAreas",{static:!1})],Ee.prototype,"lstAreasComponent",void 0),Ee=n.b([Object(i.Component)({selector:"app-area",template:n.c(a("82jH")).default,styles:[n.c(a("4Gwt")).default]})],Ee);var Oe=a("sKxO"),Ae=a("FY0D"),Ie=a("RH9n");let Te=class{constructor(t,e,a,n){this.dialogRef=t,this.data=e,this.snackBar=a,this.ls=n,this.displayedColumns=["numero","nombre"],this.esMovil=!1,this.terminar=()=>{const t=this.todosConNombre(this.data.cuentas);t<0?this.dialogRef.close(this.data.cuentas):this.snackBar.open(`Favor ingresar nombre a la cuenta #${this.data.cuentas[t].cuenta}...`,"Cuentas",{duration:5e3})},this.setTableDataSource=()=>this.dataSource=new v.a(this.data.cuentas),this.eliminarFila=t=>{const e=this.data.cuentas.findIndex(e=>+e.numero==+t.numero);e>0?(this.data.cuentas.splice(e,1),this.data.cuentas.map((t,e)=>t.numero=e+1),this.dataSource.data=this.data.cuentas):console.log("No se encuentra esta cuenta...")}}ngOnInit(){this.esMovil=this.ls.get(Oe.a.usrTokenVar).enmovil||!1,this.setTableDataSource();for(let t=0;t<+this.data.comensales-1;t++)this.agregarFila()}todosConNombre(t){for(let e=0;e<t.length;e++)if(!t[e].nombre)return e;return-1}agregarFila(){this.data.cuentas.push({cuenta:0,numero:this.data.cuentas.length+1,nombre:null,productos:[]}),this.dataSource.data=this.data.cuentas}};Te.ctorParameters=()=>[{type:O.d},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]},{type:w.a},{type:Ae.a}],Te=n.b([Object(i.Component)({selector:"app-pide-datos-cuentas",template:n.c(a("zlRV")).default,styles:[n.c(a("7E+n")).default]}),n.d(1,Object(i.Inject)(O.a))],Te);var Pe=a("K9lQ");let je=class{constructor(t,e,a,n,i){this.dialogRef=t,this.data=e,this.dialogDatosCuentas=a,this.usuarioSrvc=n,this.ls=i,this.lstMeseros=[],this.esMovil=!1,this.loadMeseros=()=>{this.usuarioSrvc.getMeserosTurno().subscribe(t=>{t&&(this.lstMeseros=t)})},this.toNumber=t=>+t}ngOnInit(){this.esMovil=this.ls.get(Oe.a.usrTokenVar).enmovil||!1,this.loadMeseros()}pedirDatosDeCuentas(t){this.dialogDatosCuentas.open(Te,{width:"50%",disableClose:!0,data:{cuentas:t.cuentas,comensales:this.data.comensales}}).afterClosed().subscribe(e=>{t.cuentas=e,this.dialogRef.close(t)})}terminar(t=null){t?t.dividirCuentasPorSillas?this.pedirDatosDeCuentas(t):this.dialogRef.close(t):this.dialogRef.close()}};je.ctorParameters=()=>[{type:O.d},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]},{type:O.b},{type:Pe.a},{type:Ae.a}],je=n.b([Object(i.Component)({selector:"app-abrir-mesa",template:n.c(a("tGvL")).default,styles:[n.c(a("1QzS")).default]}),n.d(1,Object(i.Inject)(O.a))],je);var Re=a("R5jZ"),Me=a("un/a"),Fe=a("JIr8"),Ve=a("Qyje");let Ne=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="mante/area",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.url}/${this.moduleUrl}/get_areas?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}save(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.url}/${this.moduleUrl}/guardar${t.area?"/"+t.area:""}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};Ne.ctorParameters=()=>[{type:o.a},{type:Ae.a}],Ne=n.b([Object(i.Injectable)({providedIn:"root"})],Ne);var ze=a("JKh+");let Le=class{constructor(t,e,a,n,i,s){this.dialog=t,this.snackBar=e,this.ls=a,this.areaSrvc=n,this.comandaSrvc=i,this.socket=s,this.divSize={h:0,w:0},this.cargando=!1,this.lstTabsAreas=[],this.lstTabsAreasForUpdate=[],this.actualizar=()=>{const t=this.lstTabsAreas.find(t=>+t.area==+this.mesaSeleccionada.mesa.area.area),e=this.lstTabsAreas.findIndex(t=>+t.area==+this.mesaSeleccionada.mesa.area.area),a=t.mesas.findIndex(t=>+t.mesa==+this.mesaSeleccionada.mesa.mesa);this.lstTabsAreas[e].mesas[a].estatus=1,this.toggleRightSidenav()},this.resetMesaSeleccionada=()=>this.mesaSeleccionada={comanda:null,usuario:null,sede:null,estatus:null,mesa:{mesa:null,area:{area:null,sede:null,area_padre:null,nombre:null},numero:null,posx:null,posy:null,tamanio:null,estatus:null},cuentas:[]},this.loadAreas=(t=!1,e={})=>{this.cargando=!0,this.areaSrvc.get({sede:+this.ls.get(Oe.a.usrTokenVar).sede||0}).subscribe(a=>{t?(this.lstTabsAreasForUpdate=a,this.updateTableStatus(e.mesaenuso)):(this.lstTabsAreas=a,this.cargando=!1)})},this.updateTableStatus=(t={})=>{for(const e of this.lstTabsAreasForUpdate)for(const t of e.mesas)this.setEstatusMesa({area:+e.area,mesa:+t.mesa},+t.estatus);this.cargando=!1,this.rightSidenav.opened&&+this.mesaSeleccionada.comanda==+t.comanda&&this.toggleRightSidenav()},this.onResize=t=>this.setDivSize(),this.setEstatusMesa=(t,e)=>{const a=this.lstTabsAreas.findIndex(e=>+e.area==+t.area);if(a>-1){const n=this.lstTabsAreas[a].mesas.findIndex(e=>+e.mesa==+t.mesa);n>-1&&(this.lstTabsAreas[a].mesas[n].estatus=e)}},this.guardarMesa=t=>{this.comandaSrvc.save(this.mesaSeleccionadaToOpen).subscribe(e=>{e.exito?(this.socket.emit("refrescar:mesa",{}),this.mesaSeleccionada=e.comanda,this.setEstatusMesa(t,+e.comanda.mesa.estatus),this.snTrancomanda.llenaProductosSeleccionados(this.mesaSeleccionada),this.snTrancomanda.setSelectedCuenta(this.mesaSeleccionada.cuentas[0].numero),this.toggleRightSidenav()):this.snackBar.open(`${e.mensaje}`,"ERROR",{duration:5e3})})},this.toggleRightSidenav=(t=null)=>{this.rightSidenav.toggle().then(e=>{"close"===e?(this.checkEstatusMesa(),t&&this.loadAreas(!0,{mesaenuso:t})):"open"===e&&1===this.mesaSeleccionada.cuentas.length&&this.snTrancomanda.setSelectedCuenta(this.mesaSeleccionada.cuentas[0].numero)})},this.cerrandoRightSideNav=()=>{this.snTrancomanda.resetMesaEnUso(),this.snTrancomanda.resetLstProductosDeCuenta(),this.snTrancomanda.resetLstProductosSeleccionados(),this.snTrancomanda.resetCuentaActiva(),this.snTrancomanda.resetListadoArticulos(),this.fuerzaCierreComanda(!1)},this.checkEstatusMesa=()=>{if(this.mesaSeleccionada&&this.mesaSeleccionada.cuentas&&this.mesaSeleccionada.cuentas.length>0){0===(this.mesaSeleccionada.cuentas.filter(t=>0==+t.cerrada).length||0)&&this.setEstatusMesa({area:this.mesaSeleccionada.mesa.area.area,mesa:this.mesaSeleccionada.mesa.mesa},1)}},this.fuerzaCierreComanda=t=>{this.comandaSrvc.cerrarEstacion(this.mesaSeleccionada.comanda).subscribe(e=>{this.loadComandaMesa(this.mesaSeleccionada.mesa,t)})},this.loadComandaMesa=(t,e=!0)=>{this.comandaSrvc.getComandaDeMesa(t.mesa).subscribe(t=>{t.exito?(Array.isArray(t)?(0===t.length&&(this.mesaSeleccionada={mesa:this.mesaSeleccionada.mesa,cuentas:[{cerrada:1}]}),this.checkEstatusMesa()):this.mesaSeleccionada=t,this.checkEstatusMesa(),e?(this.snTrancomanda.llenaProductosSeleccionados(this.mesaSeleccionada),this.toggleRightSidenav()):this.checkEstatusMesa()):(t.mensaje&&this.snackBar.open(`${t.mensaje}`,"ERROR",{duration:5e3}),Array.isArray(t)&&0===t.length&&(this.mesaSeleccionada={mesa:this.mesaSeleccionada.mesa,cuentas:[{cerrada:1}]}),this.checkEstatusMesa()),this.checkEstatusMesa()})}}ngOnInit(){this.loadAreas(),this.resetMesaSeleccionada(),this.ls.get(Oe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(Oe.a.usrTokenVar).sede_uuid),this.socket.on("refrescar:mesa",t=>{this.loadAreas(!0,t)}))}ngAfterViewInit(){setTimeout(()=>{this.setDivSize(),this.snTrancomanda.resetMesaEnUso()},600)}setDivSize(){}onClickMesa(t){switch(+t.mesaSelected.estatus){case 1:this.openAbrirMesaDialog(t.mesaSelected);break;case 2:this.loadComandaMesa(t.mesaSelected)}}openAbrirMesaDialog(t){if(this.mesaSeleccionadaToOpen={nombreArea:this.tabArea.textLabel,area:+t.area,mesa:+t.mesa,numero:+t.numero,mesero:"",comensales:"1",comanda:0,esEvento:!1,dividirCuentasPorSillas:!1,estatus:1,cuentas:[{numero:1,nombre:"\xdanica",productos:[]}]},0==+t.esmostrador){this.dialog.open(je,{width:"50%",height:"auto",disableClose:!0,data:this.mesaSeleccionadaToOpen}).afterClosed().subscribe(e=>{e&&(this.mesaSeleccionadaToOpen=e,this.guardarMesa(t))})}else this.mesaSeleccionadaToOpen.mesero=this.ls.get(Oe.a.usrTokenVar).idusr,this.guardarMesa(t)}};Le.ctorParameters=()=>[{type:O.b},{type:w.a},{type:Ae.a},{type:Ne},{type:ze.a},{type:Ie.a}],n.b([Object(i.ViewChild)("matTabArea",{static:!1})],Le.prototype,"pestania",void 0),n.b([Object(i.ViewChild)("rightSidenav",{static:!1})],Le.prototype,"rightSidenav",void 0),n.b([Object(i.ViewChild)("tabArea",{static:!1})],Le.prototype,"tabArea",void 0),n.b([Object(i.ViewChild)("snTranComanda",{static:!1})],Le.prototype,"snTrancomanda",void 0),Le=n.b([Object(i.Component)({selector:"app-tran-areas",template:n.c(a("nTCp")).default,styles:[n.c(a("QNkw")).default]})],Le);var Be=a("wd/R");let $e=class{constructor(){this.setTurno=t=>{this.turno=t,this.frmTurno.loadDetalleTurno(+this.turno.turno)},this.refreshTurnoList=()=>this.lstTurnoComponent.loadTurnos(),this.turno={turno:null,turno_tipo:null,inicio:Be().format(Oe.a.dbDateTimeFormat),fin:null}}ngOnInit(){}};n.b([Object(i.ViewChild)("lstTurno",{static:!1})],$e.prototype,"lstTurnoComponent",void 0),n.b([Object(i.ViewChild)("frmTurno",{static:!1})],$e.prototype,"frmTurno",void 0),$e=n.b([Object(i.Component)({selector:"app-turno",template:n.c(a("CqNL")).default,styles:[n.c(a("BHSW")).default]})],$e);let Ue=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="reporte/venta",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}porCategoria(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlFacturacion}/${this.moduleUrl}/categoria?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}porArticulo(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlFacturacion}/${this.moduleUrl}/articulo?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}porCategoriaPdf(t){const e={headers:new o.c({Authorization:this.usrToken,Accept:"application/pdf"}),responseType:"blob"};return this.http.get(`${Oe.a.urlFacturacion}/${this.moduleUrl}/categoriapdf/1?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}porArticuloPdf(t){const e={headers:new o.c({Authorization:this.usrToken,Accept:"application/pdf"}),responseType:"blob"};return this.http.get(`${Oe.a.urlFacturacion}/${this.moduleUrl}/articulopdf/1?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};Ue.ctorParameters=()=>[{type:o.a},{type:Ae.a}],Ue=n.b([Object(i.Injectable)({providedIn:"root"})],Ue);let He=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="turno",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/get_turno_tipo?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}save(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/guardar_turno_tipo${t.turno_tipo?"/"+t.turno_tipo:""}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};He.ctorParameters=()=>[{type:o.a},{type:Ae.a}],He=n.b([Object(i.Injectable)({providedIn:"root"})],He);var Ye=a("Iab2");let We=class{constructor(t,e,a){this.snackBar=t,this.rptVentasSrvc=e,this.tipoTurnoSrvc=a,this.tiposReporte=[],this.params={},this.paramsToSend={},this.msgGenerandoReporte=null,this.porCategoria=[],this.porArticulo=[],this.tiposTurno=[],this.tituloCategoria="Ventas por categoria",this.tituloArticulo="Ventas por articulo",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!0,showExcel:!1},this.loadTiposTurno=()=>{this.tipoTurnoSrvc.get().subscribe(t=>{t&&(this.tiposTurno=t)})},this.loadTiposReporte=()=>{this.tiposReporte=[{tipo_reporte:1,descripcion:"Por categor\xeda"},{tipo_reporte:2,descripcion:"Por art\xedculo"}]},this.resetParams=()=>{this.porCategoria=[],this.porArticulo=[],this.msgGenerandoReporte=null,this.params={tipo_reporte:void 0,fdel:Be().startOf("week").format(Oe.a.dbDateFormat),fal:Be().endOf("week").format(Oe.a.dbDateFormat)},this.cargando=!1},this.getReporte=(t=1)=>{switch(this.paramsToSend=JSON.parse(JSON.stringify(this.params)),this.msgGenerandoReporte="GENERANDO REPORTE EN ",t){case 1:this.getEnPantalla();break;case 2:this.getPdf();break;case 3:this.msgGenerandoReporte+="EXCEL."}},this.getPdf=()=>{switch(this.params.tipo_reporte){case 1:this.getPorCategoriaPdf();break;case 2:this.getPorArticuloPdf()}},this.getPorCategoriaPdf=()=>{this.cargando=!0,this.cleanParams(),this.rptVentasSrvc.porCategoriaPdf(this.paramsToSend).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/pdf"});Object(Ye.saveAs)(e,`${this.tituloCategoria}.pdf`)}else this.snackBar.open("No se pudo generar el reporte...",this.tituloCategoria,{duration:3e3})})},this.getPorArticuloPdf=()=>{this.cargando=!0,this.cleanParams(),this.rptVentasSrvc.porArticuloPdf(this.paramsToSend).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/pdf"});Object(Ye.saveAs)(e,`${this.tituloArticulo}.pdf`)}else this.snackBar.open("No se pudo generar el reporte...",this.tituloArticulo,{duration:3e3})})},this.getEnPantalla=()=>{switch(this.params.tipo_reporte){case 1:this.getPorCategoriaEnPantalla();break;case 2:this.getPorArticuloEnPantalla()}},this.cleanParams=()=>delete this.paramsToSend.tipo_reporte,this.getPorCategoriaEnPantalla=()=>{this.cargando=!0,this.cleanParams(),this.rptVentasSrvc.porCategoria(this.paramsToSend).subscribe(t=>{this.cargando=!1,t?this.porCategoria=t:this.snackBar.open("No se pudo generar el reporte...","Ventas por categor\xeda",{duration:3e3})})},this.getPorArticuloEnPantalla=()=>{this.cargando=!0,this.cleanParams(),this.rptVentasSrvc.porArticulo(this.paramsToSend).subscribe(t=>{this.cargando=!1,t?this.porArticulo=t:this.snackBar.open("No se pudo generar el reporte...","Ventas por art\xedculo",{duration:3e3})})}}ngOnInit(){this.resetParams(),this.loadTiposReporte(),this.loadTiposTurno()}};We.ctorParameters=()=>[{type:w.a},{type:Ue},{type:He}],We=n.b([Object(i.Component)({selector:"app-rpt-ventas",template:n.c(a("ZtfH")).default,styles:[n.c(a("G+Be")).default]})],We);let qe=class{constructor(){this.params={},this.configParams={isRequiredFDel:!0,isRequiredFAl:!0},this.configBotones={isHtmlDisabled:!1,isPdfDisabled:!1,isExcelDisabled:!1},this.cargando=!1,this.resetParams=()=>{this.params={fdel:Be().startOf("week").format(Oe.a.dbDateFormat),fal:Be().endOf("week").format(Oe.a.dbDateFormat)}},this.getReporte=()=>{console.log("GENERANDO CON PARAMETROS = ",this.params)}}ngOnInit(){this.resetParams()}};qe=n.b([Object(i.Component)({selector:"app-turnos",template:n.c(a("doAD")).default,styles:[n.c(a("X00p")).default]})],qe);var Ge=a("FHMA");let Ze=class{constructor(t,e){this.snackBar=t,this.pdfServicio=e,this.params={},this.titulo="Propinas",this.configBotones={isHtmlDisabled:!0,isPdfDisabled:!1,isExcelDisabled:!0,showHtml:!1,showExcel:!1,showPdf:!0},this.cargando=!1,this.resetParams=()=>{this.params={},this.cargando=!1}}ngOnInit(){}onSubmit(){this.cargando=!0,this.pdfServicio.getReportePropina(this.params).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/pdf"});Object(Ye.saveAs)(e,`${this.titulo}.pdf`)}else this.snackBar.open("No se pudo generar el reporte...",this.titulo,{duration:3e3})})}};Ze.ctorParameters=()=>[{type:w.a},{type:Ge.a}],Ze=n.b([Object(i.Component)({selector:"app-propinas",template:n.c(a("LCbO")).default,styles:[n.c(a("OKyJ")).default]})],Ze);var Ke=a("IJgu"),Xe=a("+iZS"),Je=a("KFbY");let Qe=class{constructor(t,e,a,n,i,s,o,r){this.dialog=t,this.snackBar=e,this.socket=a,this.ls=n,this.comandaSrvc=i,this.facturaSrvc=s,this.dns=o,this.pdfServicio=r,this.dataSource=[],this.columnsToDisplay=["comanda","orden","fechahora","nombre","total","pdf","imprimir","facturar"],this.comandasEnLinea=[],this.notificarUsuario=()=>{const t={icon:"assets/img/minilogo.png",body:`Se recibi\xf3 una nueva orden a las ${Be().format(Oe.a.dateTimeFormat)}.`,dir:"auto"};this.dns.createNotification("Rest-Touch Pro",1e4,t)},this.loadComandasEnLinea=()=>{this.comandaSrvc.getComandasOnLIne().subscribe(t=>{this.comandasEnLinea=t.map(t=>(t.fhcreacion=Be.utc(t.fhcreacion).local().format(Oe.a.dbDateTimeFormat),t)),this.dataSource=this.comandasEnLinea})},this.setToPrint=t=>{const e=[];return t.forEach(t=>{e.push({id:+t.articulo.articulo,nombre:t.articulo.descripcion,cantidad:+t.cantidad,total:+t.total,notas:t.notas||"",impresora:{bluetooth:+t.articulo.impresora.bluetooth,direccion_ip:t.articulo.impresora.direccion_ip||"",impresora:+t.articulo.impresora.impresora,nombre:t.articulo.impresora.nombre||"",sede:+t.articulo.impresora.sede,ubicacion:t.articulo.impresora.ubicacion||""}})}),e},this.getPdf=t=>{const e=+t.cuentas[0].cuenta;this.pdfServicio.getComanda(e).subscribe(t=>{if(t){const a=new Blob([t],{type:"application/pdf"}),n=window.URL.createObjectURL(a);window.open(n,`cuenta_${e}`,"height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no")}else this.snackBar.open("No se pudo generar la comanda...","Comanda",{duration:3e3})})},this.imprimir=t=>{const e=this.setToPrint(t.cuentas[0].productos),a=e.filter(t=>0==+t.impresora.bluetooth),n=e.filter(t=>1==+t.impresora.bluetooth);let i={};a.length>0&&(i={Tipo:"Comanda",Nombre:t.cuentas[0].nombre,Numero:t.comanda,NoOrdenEnLinea:t.origen_datos.numero_orden,DireccionEntrega:t.origen_datos.direccion_entrega,DetalleCuenta:a,Total:0},this.socket.emit("print:comanda",`${JSON.stringify(i)}`)),n.length>0&&(i={Tipo:"Comanda",Nombre:t.cuentas[0].nombre,Numero:t.comanda,NoOrdenEnLinea:t.origen_datos.numero_orden,DireccionEntrega:t.origen_datos.direccion_entrega,DetalleCuenta:n,Total:0},this.printToBT(JSON.stringify(i)))},this.printToBT=(t="")=>{const e=`com.restouch.impresion://impresion/${t}`,a=window.open(e,"PrntBT","height=200,width=200,menubar=no,location=no,resizable=no,scrollbars=no,status=no");setTimeout(()=>a.close(),1e3)},this.firmar=t=>{this.facturaSrvc.firmar(+t.factura.factura).subscribe(e=>{if(e.exito){this.loadComandasEnLinea(),this.dialog.open(Ke.a,{maxWidth:"400px",data:new Ke.b("Imprimir factura","\xbfDesea imprimir la factura?","S\xed","No")}).afterClosed().subscribe(a=>{a&&this.printFactura(e.factura,t.origen_datos)})}this.snackBar.open(e.mensaje,"Facturaci\xf3n",{duration:e.exito?3e3:1e4})})},this.printFactura=(t,e={})=>{const a={NombreEmpresa:t.empresa.nombre_comercial,NitEmpresa:t.empresa.nit,SedeEmpresa:t.sedeFactura.nombre,DireccionEmpresa:t.empresa.direccion,Fecha:Be(t.fecha_factura).format(Oe.a.dateFormat),Nit:t.receptor.nit,Nombre:t.receptor.nombre,Direccion:t.receptor.direccion,Serie:t.serie_factura,Numero:t.numero_factura,Total:0,NoAutorizacion:t.fel_uuid,NombreCertificador:t.certificador_fel.nombre,NitCertificador:t.certificador_fel.nit,FechaDeAutorizacion:t.fecha_autorizacion,NoOrdenEnLinea:e.numero_orden,FormaDePago:e.metodo_pago.join(", "),DetalleFactura:[]};for(const n of t.detalle)a.DetalleFactura.push({Cantidad:n.cantidad,Descripcion:n.articulo.descripcion,Total:parseFloat(n.total)}),a.Total+=parseFloat(n.total);this.socket.emit("print:factura",JSON.stringify(a))}}ngOnInit(){this.ls.get(Oe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(Oe.a.usrTokenVar).sede_uuid),this.socket.on("shopify:updlist",()=>{this.loadComandasEnLinea(),this.notificarUsuario()}),this.socket.on("shopify:error",t=>{this.loadComandasEnLinea(),this.snackBar.open(`ERROR: ${t}`,"Firmar",{duration:1e4})})),this.loadComandasEnLinea()}ngOnDestroy(){}};Qe.ctorParameters=()=>[{type:O.b},{type:w.a},{type:Ie.a},{type:Ae.a},{type:ze.a},{type:Je.a},{type:Xe.a},{type:Ge.a}],Qe=n.b([Object(i.Component)({selector:"app-comanda-en-linea",template:n.c(a("dgKD")).default,animations:[Object(L.n)("detailExpand",[Object(L.k)("collapsed",Object(L.l)({height:"0px",minHeight:"0"})),Object(L.k)("expanded",Object(L.l)({height:"*"})),Object(L.m)("expanded <=> collapsed",Object(L.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:[n.c(a("uuZA")).default]})],Qe);let ta=class{constructor(t,e,a){this.snackBar=t,this.pdfServicio=e,this.tipoTurnoSrvc=a,this.params={},this.titulo="Resumen de caja",this.tiposTurno=[],this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!1},this.loadTiposTurno=()=>{this.tipoTurnoSrvc.get().subscribe(t=>{t&&(this.tiposTurno=t)})},this.resetParams=()=>{this.params={},this.cargando=!1}}ngOnInit(){this.loadTiposTurno()}onSubmit(){this.cargando=!0,this.pdfServicio.getReporteCaja(this.params).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/pdf"});Object(Ye.saveAs)(e,`${this.titulo}.pdf`)}else this.snackBar.open("No se pudo generar el reporte...",this.titulo,{duration:3e3})})}};ta.ctorParameters=()=>[{type:w.a},{type:Ge.a},{type:He}],ta=n.b([Object(i.Component)({selector:"app-caja",template:n.c(a("2sG5")).default,styles:[n.c(a("Csbo")).default]})],ta);let ea=class{constructor(t,e){this.snackBar=t,this.pdfServicio=e,this.params={},this.titulo="Facturas",this.cargando=!1,this.configBotones={showPdf:!0,showHtml:!1,showExcel:!1},this.resetParams=()=>{this.params={},this.cargando=!1}}ngOnInit(){}onSubmit(){this.cargando=!0,this.pdfServicio.getReporteFactura(this.params).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/pdf"});Object(Ye.saveAs)(e,`${this.titulo}.pdf`)}else this.snackBar.open("No se pudo generar el reporte...",this.titulo,{duration:3e3})})}};ea.ctorParameters=()=>[{type:w.a},{type:Ge.a}],ea=n.b([Object(i.Component)({selector:"app-factura",template:n.c(a("RgUP")).default,styles:[n.c(a("t8Kt")).default]})],ea);let aa=class{constructor(){this.setTurno=t=>this.turno=t,this.refreshTurnoList=()=>this.lstTurnoComponent.loadTurnos(),this.turno={turno_tipo:null,descripcion:null,activo:1}}ngOnInit(){}};n.b([Object(i.ViewChild)("lstTurno",{static:!1})],aa.prototype,"lstTurnoComponent",void 0),aa=n.b([Object(i.Component)({selector:"app-turno-tipo",template:n.c(a("YC1U")).default,styles:[n.c(a("eQgW")).default]})],aa);let na=class{constructor(){this.setPropina=t=>this.propina={propina_distribucion:t.propina_distribucion,usuario_tipo:t.usuario_tipo.usuario_tipo,porcentaje:t.porcentaje,anulado:t.anulado},this.refreshPropinaList=()=>this.lstPropinaComponent.loadPropinas(),this.propina={propina_distribucion:null,usuario_tipo:null,porcentaje:null,anulado:null}}ngOnInit(){}};n.b([Object(i.ViewChild)("lstPropina",{static:!1})],na.prototype,"lstPropinaComponent",void 0),na=n.b([Object(i.Component)({selector:"app-propina",template:n.c(a("zmM/")).default,styles:[n.c(a("AjM8")).default]})],na);let ia=class{constructor(t,e){this.http=t,this.ls=e,this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}getCampos(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlCatalogos}/get_campos?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}getReporte(t={}){const e={headers:new o.c({Authorization:this.usrToken,Accept:"application/vnd.ms-excel"}),responseType:"blob"};return this.http.post(`${Oe.a.urlAppRestaurante}/reporte/autoconsulta`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};ia.ctorParameters=()=>[{type:o.a},{type:Ae.a}],ia=n.b([Object(i.Injectable)({providedIn:"root"})],ia);let sa=class{constructor(t,e){this.snackBar=t,this.autoconsultaSrvc=e,this.params={campos:[],datos:[]},this.titulo="Autoconsulta",this.campos=[],this.fechas=[],this.orden=[],this.cargando=!1,this.configBotones={showPdf:!1,showHtml:!1,showExcel:!0},this.resetParams=()=>{this.params={campos:[],datos:[]},this.cargando=!1},this.getReporte=()=>{this.cargando=!0;for(const t in this.params.campos)this.params.datos.push(this.params.campos[t]);this.autoconsultaSrvc.getReporte(this.params).subscribe(t=>{if(this.cargando=!1,t){const e=new Blob([t],{type:"application/vnd.ms-excel"});Object(Ye.saveAs)(e,`${this.titulo}.xls`)}else this.snackBar.open("No se pudo generar el reporte...",this.titulo,{duration:3e3})})},this.getCampos=(t={},e=1)=>{this.cargando=!0,this.autoconsultaSrvc.getCampos(t).subscribe(t=>{switch(this.cargando=!1,e){case 1:this.campos=t;break;case 2:this.fechas=t;break;case 3:this.orden=t}})}}ngOnInit(){this.getCampos(),this.getCampos({por_fecha:1},2),this.getCampos({ordenar_por:1},3)}};sa.ctorParameters=()=>[{type:w.a},{type:ia}],sa=n.b([Object(i.Component)({selector:"app-autoconsulta",template:n.c(a("QduS")).default,styles:[n.c(a("kNVz")).default]})],sa);let oa=class{constructor(){this.editarCajaCorte=t=>this.ccorte=t,this.actualizaLista=()=>this.lstCajacorteComponent.getCajascortes(),this.ccorte={caja_corte:0,creacion:null,usuario:0,turno:0,confirmado:null,anulado:0,caja_corte_tipo:0,descripcion:null,detalle:[]}}ngOnInit(){}};n.b([Object(i.ViewChild)("lstCortecaja",{static:!1})],oa.prototype,"lstCajacorteComponent",void 0),oa=n.b([Object(i.Component)({selector:"app-cajacorte",template:n.c(a("7roY")).default,styles:[n.c(a("6oUw")).default]})],oa);let ra=class{constructor(t,e,a,n,i,s){this.ls=t,this.comandaSrvc=e,this.socket=a,this.dns=n,this.snackBar=i,this.dialog=s,this.lstComandasCocina=[],this.lstComandasCocinaEnProceso=[],this.notificarUsuario=()=>{const t={icon:"assets/img/minilogo.png",body:`Se recibi\xf3 una nueva orden a las ${Be().format(Oe.a.dateTimeFormat)}.`,dir:"auto"};this.dns.createNotification("Rest-Touch Pro",1e4,t)},this.loadComandasCocina=()=>this.comandaSrvc.getComandasCocina().subscribe(t=>{this.lstComandasCocina=t.pendientes,this.lstComandasCocinaEnProceso=t.enproceso}),this.setCocinado=(t,e=2)=>{this.dialog.open(Ke.a,{maxWidth:"400px",data:new Ke.b("Cocina",`\xbfSeguro de marcar como '${1==+e?"vista":"cocinada"}' la comanda #${t.comanda}?`,"S\xed","No")}).afterClosed().subscribe(a=>{a&&this.comandaSrvc.setComandaCocinada(+t.comanda,e).subscribe(t=>{t.exito?this.snackBar.open(t.mensaje,"Cocina",{duration:3e3}):this.snackBar.open(`ERROR: ${t.mensaje}`,"Cocina",{duration:7e3}),this.loadComandasCocina()})})}}ngOnInit(){this.ls.get(Oe.a.usrTokenVar).sede_uuid&&(this.socket.emit("joinRestaurant",this.ls.get(Oe.a.usrTokenVar).sede_uuid),this.socket.on("refrescar:listaCocina",()=>{this.loadComandasCocina(),this.notificarUsuario()})),this.loadComandasCocina()}};ra.ctorParameters=()=>[{type:Ae.a},{type:ze.a},{type:Ie.a},{type:Xe.a},{type:w.a},{type:O.b}],ra=n.b([Object(i.Component)({selector:"app-tran-cocina",template:n.c(a("9yMN")).default,styles:[n.c(a("w/l6")).default]})],ra);const la=[{path:"mantareas",component:Ee,canActivate:[Se.a]},{path:"tranareas",component:Le,canActivate:[Se.a]},{path:"turno",component:$e,canActivate:[Se.a]},{path:"rptvtascat",component:We,canActivate:[Se.a]},{path:"rptturnos",component:qe,canActivate:[Se.a]},{path:"rptpropinas",component:Ze,canActivate:[Se.a]},{path:"rptcaja",component:ta,canActivate:[Se.a]},{path:"rptfactura",component:ea,canActivate:[Se.a]},{path:"cmdonline",component:Qe,canActivate:[Se.a]},{path:"tipoturno",component:aa,canActivate:[Se.a]},{path:"propina",component:na,canActivate:[Se.a]},{path:"autoconsulta",component:sa,canActivate:[Se.a]},{path:"cajacorte",component:oa,canActivate:[Se.a]},{path:"trancocina",component:ra,canActivate:[Se.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}];let ca=class{};ca=n.b([Object(i.NgModule)({imports:[ke.b.forChild(la)],exports:[ke.b]})],ca);let da=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="mesa",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/buscar?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}save(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlMantenimientos}/mesa/guardar${t.mesa?"/"+t.mesa:""}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}getDisponibles(){const t={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlMantenimientos}/area/get_mesas_disponibles?`,t).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};da.ctorParameters=()=>[{type:o.a},{type:Ae.a}],da=n.b([Object(i.Injectable)({providedIn:"root"})],da);let ha=class{constructor(t,e){this.snackBar=t,this.mesaSrvc=e,this.configuracion={mesa:0,area:0,numero:0,posx:0,posy:0,tamanio:48,estatus:1,ancho:null,alto:null,esmostrador:0,vertical:0},this.dontAllowDrag=!0,this.isDisabled=!1,this.onClickMesa=new i.EventEmitter,this.urlImage="/assets/img/mesas/",this.ngAfterViewInit=()=>this.objMesa=this.divMesa.nativeElement,this.clickMesa=()=>this.onClickMesa.emit({mesaSelected:this.configuracion}),this.getAncho=()=>this.configuracion.ancho&&+this.configuracion.ancho>0?this.configuracion.ancho:this.configuracion.tamanio,this.getAlto=()=>this.configuracion.alto&&+this.configuracion.alto>0?this.configuracion.alto:this.configuracion.tamanio,this.dragEnded=t=>{const e=t.source.element.nativeElement,a=e.offsetParent.scrollWidth,n=e.offsetParent.scrollHeight,i=t.distance,s={mesa:this.configuracion.mesa,area:this.configuracion.area,numero:this.configuracion.numero,posx:100*(e.offsetLeft+i.x)/a,posy:100*(e.offsetTop+i.y)/n,tamanio:this.configuracion.tamanio,estatus:this.configuracion.estatus};this.mesaSrvc.save(s).subscribe(t=>{t.exito?t.mesa?(this.configuracion.mesa=t.mesa.mesa,this.snackBar.open(`Mesa #${t.mesa.numero} actualizada...`,"Dise\xf1o de \xe1rea",{duration:3e3})):this.snackBar.open(`Mesa #${this.configuracion.numero} actualizada...`,"Dise\xf1o de \xe1rea",{duration:3e3}):this.snackBar.open(`ERROR:${t.mensaje}.`,"Dise\xf1o de \xe1rea",{duration:3e3})})}}ngOnInit(){0==+this.configuracion.esmostrador?this.urlImage+="table_03.svg":0==+this.configuracion.vertical?this.urlImage+="mostrador_horizontal.svg":this.urlImage+="mostrador_vertical.svg"}};ha.ctorParameters=()=>[{type:w.a},{type:da}],n.b([Object(i.Input)()],ha.prototype,"configuracion",void 0),n.b([Object(i.Input)()],ha.prototype,"dontAllowDrag",void 0),n.b([Object(i.Input)()],ha.prototype,"isDisabled",void 0),n.b([Object(i.Output)()],ha.prototype,"onClickMesa",void 0),n.b([Object(i.ViewChild)("divMesa",{static:!1})],ha.prototype,"divMesa",void 0),ha=n.b([Object(i.Component)({selector:"app-mesa",template:n.c(a("r7HG")).default,styles:[n.c(a("GFj5")).default]})],ha);let ua=class{constructor(t,e,a,n){this.dialogRef=t,this.comandaSrvc=e,this.snackBar=a,this.data=n}ngOnInit(){}cancelar(){this.dialogRef.close(!1)}unirCuentas(t,e){console.log("ORIGEN",t),console.log("DESTINO",e),this.comandaSrvc.unificarCuentas(t.cuenta,e.cuenta).subscribe(t=>{console.log(t),t.exito?(this.snackBar.open(t.mensaje,"Cuentas",{duration:3e3}),this.dialogRef.close(!0)):this.snackBar.open(`ERROR:${t.mensaje}`,"Cuentas",{duration:7e3})})}unirTodas(){}};ua.ctorParameters=()=>[{type:O.d},{type:ze.a},{type:w.a},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]}],ua=n.b([Object(i.Component)({selector:"app-unir-cuenta",template:n.c(a("G+t/")).default,styles:[n.c(a("0wdR")).default]}),n.d(3,Object(i.Inject)(O.a))],ua);let pa=class{constructor(t,e,a,n,i){this.dialogRef=t,this.snackBar=e,this.mesaSrvc=a,this.comandaSrvc=n,this.data=i,this.mesasDisponibles=[],this.loadMesasDisponibles=()=>this.mesaSrvc.getDisponibles().subscribe(t=>this.mesasDisponibles=t),this.cancelar=()=>this.dialogRef.close(!1),this.trasladar=()=>{this.comandaSrvc.trasladarMesa(+this.data.mesaEnUso.comanda,+this.data.mesaEnUso.mesa.mesa,+this.destino.mesa).subscribe(t=>{t.exito?(this.snackBar.open(t.mensaje,"Traslado de mesa",{duration:3e3}),this.dialogRef.close(!0)):this.snackBar.open(`ERROR:${t.mensaje}`,"Traslado de mesa",{duration:7e3})})}}ngOnInit(){this.loadMesasDisponibles()}};pa.ctorParameters=()=>[{type:O.d},{type:w.a},{type:da},{type:ze.a},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]}],pa=n.b([Object(i.Component)({selector:"app-traslado-mesa",template:n.c(a("p5ks")).default,styles:[n.c(a("3YTL")).default]}),n.d(4,Object(i.Inject)(O.a))],pa);var ma=a("fn6i");let ga=class{constructor(t,e,a,n,s,o,r){this.router=t,this.dialog=e,this.snackBar=a,this.comandaSrvc=n,this.socket=s,this.ls=o,this.pdfServicio=r,this.closeSideNavEv=new i.EventEmitter,this.mesaSavedEv=new i.EventEmitter,this.showPortalComanda=!1,this.showPortalCuenta=!1,this.noComanda=0,this.sumCuenta=0,this.categorias=[],this.bloqueoBotones=!1,this.resetMesaEnUso=()=>this.mesaEnUso={exito:!0,comanda:null,usuario:null,sede:null,estatus:null,mesa:{mesa:null,area:{area:null,sede:null,area_padre:null,nombre:null},numero:null,posx:null,posy:null,tamanio:null,estatus:null},cuentas:[]},this.resetLstProductosSeleccionados=()=>this.lstProductosSeleccionados=[],this.resetLstProductosDeCuenta=()=>this.lstProductosDeCuenta=[],this.resetCuentaActiva=()=>this.cuentaActiva={cuenta:null,numero:null,nombre:null,productos:[]},this.resetListadoArticulos=()=>this.appLstProdAlt.loadArbolArticulos(),this.setListaCategorias=(t=[])=>this.categorias=t,this.clickOnCategoria=t=>this.appLstProdAlt.fillSubCategorias(t.categoria_grupo),this.llenaProductosSeleccionados=(t=this.mesaEnUso)=>{null==this.mesaEnUso.comanda&&(this.mesaEnUso=t),this.lstProductosSeleccionados=[];for(let e=0;e<t.cuentas.length;e++){const a=t.cuentas[e];for(let t=0;t<a.productos.length;t++){const e=a.productos[t];this.lstProductosSeleccionados.push({id:+e.articulo.articulo,nombre:e.articulo.descripcion,cuenta:+e.numero_cuenta||1,cantidad:+e.cantidad,impreso:+e.impreso,precio:parseFloat(e.precio)||10,total:parseFloat(e.total)||parseFloat(e.cantidad)*parseFloat(e.precio),notas:e.notas||"",showInputNotas:!1,itemListHeight:"70px",detalle_comanda:+e.detalle_comanda,detalle_cuenta:+e.detalle_cuenta,impresora:e.articulo.impresora})}}},this.cerrarMesa=()=>{this.comandaSrvc.cerrarMesa(this.mesaEnUso.mesa.mesa).subscribe(t=>{t.exito?(this.snackBar.open(t.mensaje,"Comanda",{duration:3e3}),this.mesaEnUso.mesa.estatus=1,this.mesaSavedEv.emit(),this.socket.emit("refrescar:mesa",{mesaenuso:this.mesaEnUso})):(console.log("FALLA PARA CERRAR LA MESA...",t),this.snackBar.open(`ERROR: ${t.mensaje}`,"Comanda",{duration:7e3}))})},this.printToBT=(t="")=>{const e=`com.restouch.impresion://impresion/${t}`,a=window.open(e,"PrntBT","height=200,width=200,menubar=no,location=no,resizable=no,scrollbars=no,status=no");setTimeout(()=>a.close(),1e3)},this.printComandaPDF=()=>{const t=+this.cuentaActiva.cuenta;this.pdfServicio.getComanda(t).subscribe(e=>{if(e){const a=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(a);window.open(n,`cuenta_${t}`,"height=700,width=800,menubar=no,location=no,resizable=no,scrollbars=no,status=no")}else this.snackBar.open("No se pudo generar la comanda...","Comanda",{duration:3e3})})},this.sumaDetalle=t=>{let e=0;for(const a of t)e+=a.total||0;return e},this.cambiarEstatusCuenta=t=>{const e=this.mesaEnUso.cuentas.findIndex(e=>+e.cuenta==+t.cuenta);this.mesaEnUso.cuentas[e].cerrada=+t.cerrada},this.esCajero=(t=[])=>t.find(t=>"cajero"===t.trim().toLocaleLowerCase()),this.trasladoMesa=()=>{this.dialog.open(pa,{width:"55%",data:{mesaEnUso:this.mesaEnUso}}).afterClosed().subscribe(t=>{t&&(this.socket.emit("refrescar:mesa",{mesaenuso:this.mesaEnUso}),this.closeSideNavEv.emit(this.mesaEnUso))})}}ngOnInit(){this.resetMesaEnUso(),this.resetLstProductosSeleccionados(),this.resetLstProductosDeCuenta(),this.resetCuentaActiva(),this.noComanda=this.mesaEnUso.comanda||0,this.llenaProductosSeleccionados(),this.ls.get(Oe.a.usrTokenVar).sede_uuid&&this.socket.emit("joinRestaurant",this.ls.get(Oe.a.usrTokenVar).sede_uuid)}setSelectedCuenta(t){this.bloqueoBotones=!0,this.cuentaActiva=this.mesaEnUso.cuentas.find(e=>+e.numero==+t),this.setLstProductosDeCuenta(),this.bloqueoBotones=!1}setSumaCuenta(t){let e=0;for(const a of t)e+=a.precio*a.cantidad;this.sumCuenta=e}setLstProductosDeCuenta(){this.lstProductosDeCuenta=this.lstProductosSeleccionados.filter(t=>+t.cuenta==+this.cuentaActiva.numero)}addProductoSelected(t){if(this.bloqueoBotones=!0,+this.cuentaActiva.numero){const e=this.lstProductosSeleccionados.findIndex(e=>+e.id==+t.id&&+e.cuenta==+this.cuentaActiva.numero&&0==+e.impreso);if(e<0)this.detalleComanda={articulo:t.id,cantidad:1,precio:+t.precio,total:1*+t.precio,notas:""},this.comandaSrvc.saveDetalle(this.mesaEnUso.comanda,this.cuentaActiva.cuenta,this.detalleComanda).subscribe(t=>{t.exito?(this.mesaEnUso=t.comanda,this.llenaProductosSeleccionados(this.mesaEnUso),this.setSelectedCuenta(+this.cuentaActiva.numero)):this.snackBar.open(`ERROR:${t.mensaje}`,"Comanda",{duration:3e3}),this.bloqueoBotones=!1});else{const t=this.lstProductosSeleccionados[e];this.detalleComanda={detalle_cuenta:t.detalle_cuenta,detalle_comanda:t.detalle_comanda,articulo:t.id,cantidad:+t.cantidad+1,precio:+t.precio,total:(+t.cantidad+1)*+t.precio,notas:t.notas},this.comandaSrvc.saveDetalle(this.mesaEnUso.comanda,this.cuentaActiva.cuenta,this.detalleComanda).subscribe(t=>{t.exito?(this.mesaEnUso=t.comanda,this.llenaProductosSeleccionados(this.mesaEnUso),this.setSelectedCuenta(+this.cuentaActiva.numero)):this.snackBar.open(`ERROR:${t.mensaje}`,"Comanda",{duration:3e3}),this.bloqueoBotones=!1})}this.setLstProductosDeCuenta()}}updProductosCuenta(t){const e=t.listaProductos||[],a=this.lstProductosSeleccionados.filter(t=>+t.cuenta!=+this.cuentaActiva.numero);e.length>0?this.lstProductosSeleccionados=a.concat(e):this.lstProductosSeleccionados=a,t.comanda&&(this.mesaEnUso=t.comanda,this.llenaProductosSeleccionados(this.mesaEnUso),this.setSelectedCuenta(+this.cuentaActiva.numero))}prepProductosComanda(t){let e=[];for(let a=0;a<t.length;a++)e.push({articulo:t[a].id,cantidad:t[a].cantidad,precio:t[a].precio,total:t[a].total,notas:t[a].notas,impreso:1,detalle_comanda:t[a].detalle_comanda,detalle_cuenta:t[a].detalle_cuenta});return e}printComanda(t=!1){if(this.bloqueoBotones=!0,this.lstProductosAImprimir=this.lstProductosDeCuenta.filter(t=>0==+t.impreso&&+t.cantidad>0),this.lstProductosAImprimir.length>0){this.lstProductosDeCuenta.map(t=>t.impreso=1),this.noComanda=this.mesaEnUso.comanda,this.cuentaActiva.productos=this.prepProductosComanda(this.lstProductosDeCuenta);const e=this.mesaEnUso.cuentas.findIndex(t=>+t.cuenta==+this.cuentaActiva.cuenta);if(e>-1){this.mesaEnUso.cuentas[e]=this.cuentaActiva;const a={area:this.mesaEnUso.mesa.area.area,mesa:this.mesaEnUso.mesa.mesa,mesero:this.mesaEnUso.usuario,comanda:this.mesaEnUso.comanda,cuentas:this.mesaEnUso.cuentas};this.comandaSrvc.save(a).subscribe(e=>{e.exito?this.comandaSrvc.setProductoImpreso(this.cuentaActiva.cuenta).subscribe(e=>{this.llenaProductosSeleccionados(e.comanda),this.setSelectedCuenta(this.cuentaActiva.numero),this.snackBar.open("Cuenta actualizada",`Cuenta #${this.cuentaActiva.numero}`,{duration:3e3});const a=this.lstProductosAImprimir.filter(t=>0==+t.impresora.bluetooth),n=this.lstProductosAImprimir.filter(t=>1==+t.impresora.bluetooth);t?this.printComandaPDF():(a.length>0&&(this.socket.emit("print:comanda",`${JSON.stringify({Tipo:"Comanda",Nombre:this.cuentaActiva.nombre,Numero:this.noComanda,DetalleCuenta:a,Ubicacion:`${this.mesaEnUso.mesa.area.nombre} - Mesa ${this.mesaEnUso.mesa.numero}`,Mesero:`${this.mesaEnUso.mesero.nombres} ${this.mesaEnUso.mesero.apellidos}`,Total:null})}`),this.snackBar.open(`Imprimiendo comanda #${this.noComanda}`,"Comanda",{duration:7e3})),n.length>0&&this.printToBT(JSON.stringify({Tipo:"Comanda",Nombre:this.cuentaActiva.nombre,Numero:this.noComanda,DetalleCuenta:n,Ubicacion:`${this.mesaEnUso.mesa.area.nombre} - Mesa ${this.mesaEnUso.mesa.numero}`,Mesero:`${this.mesaEnUso.mesero.nombres} ${this.mesaEnUso.mesero.apellidos}`,Total:null}))),this.socket.emit("refrescar:mesa",{mesaenuso:this.mesaEnUso}),this.socket.emit("refrescar:listaCocina",{mesaenuso:this.mesaEnUso}),0==+this.mesaEnUso.mesa.esmostrador&&this.closeSideNavEv.emit()}):this.snackBar.open(`ERROR: ${e.mensaje}`,`Cuenta #${this.cuentaActiva.numero}`,{duration:3e3}),this.bloqueoBotones=!1})}}else this.snackBar.open("Nada para enviar...",`Cuenta #${this.cuentaActiva.numero}`,{duration:3e3}),this.bloqueoBotones=!1}printCuenta(){this.bloqueoBotones=!0,this.lstProductosAImprimir=this.lstProductosDeCuenta.filter(t=>1==+t.impreso),this.setSumaCuenta(this.lstProductosAImprimir);const t=this.sumaDetalle(this.lstProductosAImprimir),e=this.mesaEnUso.mesa.impresora||this.mesaEnUso.mesa.area.impresora,a={Tipo:"Cuenta",Nombre:this.cuentaActiva.nombre,Numero:null,DetalleCuenta:this.lstProductosAImprimir,Total:t,Empresa:this.ls.get(Oe.a.usrTokenVar).empresa,Restaurante:this.ls.get(Oe.a.usrTokenVar).restaurante,PropinaSugerida:(.1*t).toFixed(2),Impresora:e,Ubicacion:`${this.mesaEnUso.mesa.area.nombre} - Mesa ${this.mesaEnUso.mesa.numero} - Comanda ${this.mesaEnUso.comanda}`,Mesero:`${this.mesaEnUso.mesero.nombres} ${this.mesaEnUso.mesero.apellidos}`};0==+e.bluetooth?this.socket.emit("print:cuenta",`${JSON.stringify(a)}`):this.printToBT(JSON.stringify(a)),this.snackBar.open(`Imprimiendo cuenta de ${this.cuentaActiva.nombre}`,"Cuenta",{duration:7e3}),this.bloqueoBotones=!1,this.closeSideNavEv.emit()}unirCuentas(){this.dialog.open(ua,{width:"55%",data:{lstProductosSeleccionados:this.lstProductosSeleccionados,mesaEnUso:this.mesaEnUso}}).afterClosed().subscribe(t=>{t&&this.closeSideNavEv.emit()})}cobrarCuenta(){this.comandaSrvc.getCuenta(this.cuentaActiva.cuenta).subscribe(t=>{if(t.pendiente.length>0)this.snackBar.open("Cobro","Tiene productos sin comandar",{duration:3e3});else{const t=this.lstProductosDeCuenta.filter(t=>1==+t.impreso);if(t.length>0){this.dialog.open(ma.a,{width:"95%",data:{mesaenuso:this.mesaEnUso,cuenta:this.cuentaActiva.nombre,idcuenta:this.cuentaActiva.cuenta,productosACobrar:t,porcentajePropina:0,impresora:0==+this.mesaEnUso.mesa.esmostrador?null:this.mesaEnUso.mesa.impresora||this.mesaEnUso.mesa.area.impresora}}).afterClosed().subscribe(t=>{t&&"closePanel"!==t?(this.cambiarEstatusCuenta(t),this.closeSideNavEv.emit()):"closePanel"===t&&this.closeSideNavEv.emit()})}else this.snackBar.open("Cobro","Sin productos a cobrar.",{duration:3e3})}})}};ga.ctorParameters=()=>[{type:ke.a},{type:O.b},{type:w.a},{type:ze.a},{type:Ie.a},{type:Ae.a},{type:Ge.a}],n.b([Object(i.Input)()],ga.prototype,"mesaEnUso",void 0),n.b([Object(i.Output)()],ga.prototype,"closeSideNavEv",void 0),n.b([Object(i.ViewChild)("appLstProdAlt",{static:!1})],ga.prototype,"appLstProdAlt",void 0),n.b([Object(i.Output)()],ga.prototype,"mesaSavedEv",void 0),ga=n.b([Object(i.Component)({selector:"app-tran-comanda",template:n.c(a("mCR8")).default,styles:[n.c(a("vJMn")).default]})],ga);let ba=class{constructor(t,e){this.dialogRef=t,this.comandaSrvc=e,this.data={pwd:void 0},this.cancelar=()=>this.dialogRef.close(),this.terminar=()=>{this.comandaSrvc.validaPwdGerenteTurno(this.data.pwd).subscribe(t=>{t.exito?this.dialogRef.close(t.esgerente):this.dialogRef.close(!1)})}}ngOnInit(){}};ba.ctorParameters=()=>[{type:O.d},{type:ze.a}],ba=n.b([Object(i.Component)({selector:"app-valida-pwd-gerente-turno",template:n.c(a("lfgn")).default,styles:[n.c(a("Z8zX")).default]})],ba);let fa=class{constructor(t,e,a,n,s){this.snackBar=t,this.ls=e,this.comandaSrvc=a,this.socket=n,this.dialog=s,this.listaProductos=[],this.noCuenta=null,this.listHeight="450px",this.IdComanda=0,this.IdCuenta=0,this.bloqueoBotones=!1,this.mesaEnUso={},this.productoRemovedEv=new i.EventEmitter,this.esMovil=!1,this.removeProducto=(t,e,a=!1)=>{this.bloqueoBotones=!0,this.detalleComanda={detalle_cuenta:t.detalle_cuenta,detalle_comanda:t.detalle_comanda,articulo:t.id,cantidad:+t.cantidad>1?+t.cantidad-1:0,precio:+t.precio,total:+t.cantidad>1?(+t.cantidad-1)*+t.precio:0,notas:t.notas,autorizado:a},this.comandaSrvc.saveDetalle(this.IdComanda,this.IdCuenta,this.detalleComanda).subscribe(e=>{e.exito?(t.cantidad=this.detalleComanda.cantidad,this.productoRemovedEv.emit({listaProductos:this.listaProductos,comanda:e.comanda}),0==+t.cantidad&&(this.socket.emit("refrescar:mesa",{mesaenuso:this.mesaEnUso}),this.socket.emit("refrescar:listaCocina",{mesaenuso:this.mesaEnUso}))):this.snackBar.open(`ERROR: ${e.mensaje}`,"Comanda",{duration:3e3}),this.bloqueoBotones=!1})},this.deleteProductoFromList=(t,e,a=!1)=>{t.cantidad=0,t.notas="",this.removeProducto(t,e,a)},this.deleteProductoFromListAfterPrinted=(t,e)=>{this.bloqueoBotones=!0,this.dialog.open(ba,{width:"40%",disableClose:!0}).afterClosed().subscribe(a=>{a?(this.deleteProductoFromList(t,e,!0),this.snackBar.open("Se eliminar\xe1 el producto seleccionado.","Comanda",{duration:5e3})):this.snackBar.open("La contrase\xf1a no es correcta","Comanda",{duration:5e3}),this.bloqueoBotones=!1})}}ngOnInit(){this.esMovil=this.ls.get(Oe.a.usrTokenVar).enmovil||!1}ngDoCheck(){}toggleShowInputNotas(t){t.showInputNotas=!t.showInputNotas,t.showInputNotas?t.itemListHeight="140px":t.itemListHeight="70px"}doAction(t){console.log(t)}};fa.ctorParameters=()=>[{type:w.a},{type:Ae.a},{type:ze.a},{type:Ie.a},{type:O.b}],n.b([Object(i.Input)()],fa.prototype,"listaProductos",void 0),n.b([Object(i.Input)()],fa.prototype,"noCuenta",void 0),n.b([Object(i.Input)()],fa.prototype,"listHeight",void 0),n.b([Object(i.Input)()],fa.prototype,"IdComanda",void 0),n.b([Object(i.Input)()],fa.prototype,"IdCuenta",void 0),n.b([Object(i.Input)()],fa.prototype,"bloqueoBotones",void 0),n.b([Object(i.Input)()],fa.prototype,"mesaEnUso",void 0),n.b([Object(i.Output)()],fa.prototype,"productoRemovedEv",void 0),fa=n.b([Object(i.Component)({selector:"app-lista-productos-comanda",template:n.c(a("/LcN")).default,styles:[n.c(a("Nyij")).default]})],fa);let _a=class{constructor(t,e){this.areaSrvc=t,this.ls=e,this.getEntidadEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadEntidades=()=>{this.areaSrvc.get({sede:this.ls.get(Oe.a.usrTokenVar).sede||0,debaja:1}).subscribe(t=>{t&&t.length>0&&(this.lstEntidades=t,this.applyFilter())})},this.getEntidad=t=>{this.areaSrvc.get({area:t,debaja:1}).subscribe(t=>{t&&t.length>0&&this.getEntidadEv.emit(t[0])})},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.loadEntidades()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(Oe.b)(this.lstEntidades,this.txtFiltro);this.length=t.length,this.lstEntidadesPaged=Object(Oe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstEntidades.length,this.lstEntidadesPaged=Object(Oe.c)(this.lstEntidades,this.pageSize,this.pageIndex+1)}};_a.ctorParameters=()=>[{type:Ne},{type:Ae.a}],n.b([Object(i.Output)()],_a.prototype,"getEntidadEv",void 0),_a=n.b([Object(i.Component)({selector:"app-lista-area",template:n.c(a("mRlv")).default,styles:[n.c(a("77DD")).default]})],_a);var va=a("qMXL");let ya=class{constructor(t,e,a,n,i){this.mesaSrvc=t,this.impresoraSrvc=e,this.snackBar=a,this.dialogRef=n,this.data=i,this.impresoras=[],this.mesa={},this.loadImpresoras=()=>this.impresoraSrvc.get().subscribe(t=>this.impresoras=t),this.cancelar=()=>this.dialogRef.close(!1),this.guardarConfiguracion=()=>{this.mesaSrvc.save(this.mesa).subscribe(t=>{t.exito?t.mesa?this.snackBar.open(`Mesa #${t.mesa.numero} actualizada...`,"Configuraci\xf3n de mesa",{duration:3e3}):this.snackBar.open(`Mesa #${this.mesa.numero} actualizada...`,"Configuraci\xf3n de mesa",{duration:3e3}):this.snackBar.open(`ERROR:${t.mensaje}.`,"Configuraci\xf3n de mesa",{duration:7e3}),this.dialogRef.close(!0)})}}ngOnInit(){this.mesa=this.data.mesa,this.loadImpresoras()}};ya.ctorParameters=()=>[{type:da},{type:va.a},{type:w.a},{type:O.d},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]}],ya=n.b([Object(i.Component)({selector:"app-configura-mesa",template:n.c(a("dyZP")).default,styles:[n.c(a("M0mC")).default]}),n.d(4,Object(i.Inject)(O.a))],ya);let Da=class{constructor(t,e,a,n,i){this.snackBar=t,this.mesaSrvc=e,this.dialogRef=a,this.dialog=n,this.data=i,this.mesas=[],this.contextMenuPosition={x:"0px",y:"0px"},this.getNextTableNumber=()=>this.mesas.length>0?this.mesas.reduce((t,e)=>+e.numero>t?+e.numero:t,this.mesas[0].numero?+this.mesas[0].numero:0)+1:1,this.addTable=(t=null,e=null,a=0,n=0)=>{this.mesas.push({mesa:null,area:this.data.area,numero:this.getNextTableNumber(),posx:1,posy:1,tamanio:72,estatus:1,ancho:t,alto:e,esmostrador:a,vertical:n}),this.saveNewMesa(this.mesas[this.mesas.length-1],this.mesas.length-1)},this.addMostrador=(t=!1)=>this.addTable(t?72:144,t?144:72,1,t?1:0),this.saveNewMesa=(t,e)=>{this.mesaSrvc.save(t).subscribe(t=>{t.exito?t.mesa&&(this.mesas[e]=t.mesa):this.snackBar.open(`ERROR: ${t.mensaje}`,"Mesa",{duration:7e3})})},this.onClickMesa=t=>{},this.terminar=()=>this.dialogRef.close(this.mesas),this.configurarMesa=t=>{this.dialog.open(ya,{width:"50%",data:{mesa:t}}).afterClosed().subscribe(t=>{})},this.toggleDeBaja=(t,e=1)=>{this.dialog.open(Ke.a,{maxWidth:"400px",data:new Ke.b(0==+t.esmostrador?"Mesa":"Mostrador",`\xbfSeguro que desea ${1===e?"dar de baja":"habilitar"} ${0==+t.esmostrador?"la mesa":"el mostrador"} #${t.numero}?`,"S\xed","No")}).afterClosed().subscribe(a=>{a&&(t.debaja=e,this.mesaSrvc.save(t).subscribe(t=>{if(t.exito){if(t.mesa){const e=this.mesas.findIndex(e=>+e.mesa==+t.mesa.mesa);e>-1&&(this.mesas[e]=t.mesa),this.snackBar.open(t.mensaje,"Mesa",{duration:3e3})}}else this.snackBar.open(`ERROR: ${t.mensaje}`,"Mesa",{duration:7e3})}))})}}ngOnInit(){this.mesas=this.data.mesas}onContextMenu(t,e){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",this.contextMenu.menuData={item:e},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu()}};Da.ctorParameters=()=>[{type:w.a},{type:da},{type:O.d},{type:O.b},{type:void 0,decorators:[{type:i.Inject,args:[O.a]}]}],n.b([Object(i.ViewChild)(k.b,{static:!1})],Da.prototype,"contextMenu",void 0),Da=n.b([Object(i.Component)({selector:"app-area-designer",template:n.c(a("zI+U")).default,styles:[n.c(a("0+aQ")).default]}),n.d(4,Object(i.Inject)(O.a))],Da);let Ca=class{constructor(t,e,a,n,s){this.snackBar=t,this.dialog=e,this.entidadSrvc=a,this.impresoraSrvc=n,this.ls=s,this.entidadSavedEv=new i.EventEmitter,this.sedeUsr=0,this.lstAreas=[],this.esMovil=!1,this.impresoras=[],this.loadAreas=()=>this.entidadSrvc.get({sede:this.sedeUsr,debaja:1}).subscribe(t=>this.lstAreas=t),this.loadImpresoras=()=>this.impresoraSrvc.get().subscribe(t=>this.impresoras=t),this.resetEntidad=()=>this.entidad={area:null,sede:this.sedeUsr,nombre:null,mesas:[]},this.onSubmit=()=>{this.entidadSrvc.save(this.entidad).subscribe(t=>{t.exito?(this.snackBar.open(`${t.mensaje}`,"\xc1rea",{duration:3e3}),this.resetEntidad(),this.loadAreas(),this.entidadSavedEv.emit()):this.snackBar.open(`ERROR: ${t.mensaje}`,"\xc1rea",{duration:3e3})})},this.openDesigner=()=>{this.dialog.open(Da,{width:"800px",disableClose:!1,data:{area:+this.entidad.area,mesas:this.entidad.mesas||[]}}).afterClosed().subscribe(t=>{t&&(this.entidadSavedEv.emit(),this.entidadSrvc.get({area:+this.entidad.area,debaja:1}).subscribe(t=>{t&&t.length>0&&(this.entidad=t[0])}))})}}ngOnInit(){this.sedeUsr=this.ls.get(Oe.a.usrTokenVar).sede||0,this.esMovil=this.ls.get(Oe.a.usrTokenVar).enmovil||!1,this.resetEntidad(),this.loadAreas(),this.loadImpresoras()}};Ca.ctorParameters=()=>[{type:w.a},{type:O.b},{type:Ne},{type:va.a},{type:Ae.a}],n.b([Object(i.Input)()],Ca.prototype,"entidad",void 0),n.b([Object(i.Output)()],Ca.prototype,"entidadSavedEv",void 0),Ca=n.b([Object(i.Component)({selector:"app-form-area",template:n.c(a("l4QZ")).default,styles:[n.c(a("TRt2")).default]})],Ca);let wa=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="turno",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/buscar?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}save(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/guardar${t.turno?"/"+t.turno:""}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}getDetalle(t,e={}){const a={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/buscar_usuario/${t}?${Ve.stringify(e)}`,a).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}saveDetalle(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/agregar_usuario/${t.turno}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}anularDetalle(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlMantenimientos}/${this.moduleUrl}/anular_usuario/${t.turno}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};wa.ctorParameters=()=>[{type:o.a},{type:Ae.a}],wa=n.b([Object(i.Injectable)({providedIn:"root"})],wa);let xa=class{constructor(t,e){this.ls=t,this.turnoSrvc=e,this.getTurnoEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadTurnos=()=>{this.turnoSrvc.get({sede:+this.ls.get(Oe.a.usrTokenVar).sede||0}).subscribe(t=>{t&&t.length>0&&(this.lstTurnos=t,this.applyFilter())})},this.getTurno=t=>{this.getTurnoEv.emit({turno:t.turno,turno_tipo:t.turno_tipo.turno_tipo,fecha:t.fecha,inicio:t.inicio,fin:t.fin})},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.loadTurnos()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(Oe.b)(this.lstTurnos,this.txtFiltro);this.length=t.length,this.lstTurnosPaged=Object(Oe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstTurnos.length,this.lstTurnosPaged=Object(Oe.c)(this.lstTurnos,this.pageSize,this.pageIndex+1)}};xa.ctorParameters=()=>[{type:Ae.a},{type:wa}],n.b([Object(i.Output)()],xa.prototype,"getTurnoEv",void 0),xa=n.b([Object(i.Component)({selector:"app-lista-turno",template:n.c(a("PwNf")).default,styles:[n.c(a("6fiT")).default]})],xa);let ka=class{constructor(t,e){this.http=t,this.ls=e,this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlCatalogos}/get_tipo_usuario?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};ka.ctorParameters=()=>[{type:o.a},{type:Ae.a}],ka=n.b([Object(i.Injectable)({providedIn:"root"})],ka);let Sa=class{constructor(t,e,a,n,s,o,r){this._snackBar=t,this.ls=e,this.tipoTurnoSrvc=a,this.turnoSrvc=n,this.usuarioTipoSrvc=s,this.usuarioSrvc=o,this.dialog=r,this.turnoSavedEv=new i.EventEmitter,this.showTurnoForm=!0,this.showDetalleTurnoForm=!0,this.detallesTurno=[],this.displayedColumns=["usuario_tipo","usuario","editItem"],this.tiposTurno=[],this.tiposUsuario=[],this.usuarios=[],this.esMovil=!1,this.loadTiposTurno=()=>{this.tipoTurnoSrvc.get().subscribe(t=>{t&&(this.tiposTurno=t)})},this.loadTiposUsuario=()=>{this.usuarioTipoSrvc.get().subscribe(t=>{t&&(this.tiposUsuario=t)})},this.loadUsuarios=()=>{this.usuarioSrvc.get({sede:this.ls.get(Oe.a.usrTokenVar).sede||0}).subscribe(t=>{t&&(this.usuarios=t)})},this.resetTurno=()=>{this.turno={turno:null,turno_tipo:null,inicio:Be().format(Oe.a.dbDateTimeFormat),fin:null},this.resetDetalleTurno()},this.saveInfoTurno=()=>{this.turnoSrvc.save(this.turno).subscribe(t=>{t.exito?(this.turnoSavedEv.emit(),this.resetTurno(),this.turno=t.turno,this._snackBar.open("Turno modificado con \xe9xito...","Turno",{duration:3e3})):this._snackBar.open(`ERROR: ${t.mensaje}`,"Turno",{duration:3e3})})},this.onSubmit=()=>{if(Be(this.turno.fin).isValid()){this.dialog.open(Ke.a,{maxWidth:"400px",data:new Ke.b("Cerrar turno","La fecha de finalizaci\xf3n cerrar\xe1 el turno. \xbfDesea continuar?","S\xed","No")}).afterClosed().subscribe(t=>{t&&this.saveInfoTurno()})}else this.saveInfoTurno()},this.resetDetalleTurno=()=>this.detalleTurno={turno:this.turno.turno?this.turno.turno:null,usuario:null,usuario_tipo:null},this.loadDetalleTurno=(t=+this.turno.turno)=>{this.turnoSrvc.getDetalle(t,{turno:t}).subscribe(t=>{t&&(this.detallesTurno=t,this.updateTableDataSource())})},this.onSubmitDetail=()=>{this.detalleTurno.turno=this.turno.turno,this.turnoSrvc.saveDetalle(this.detalleTurno).subscribe(t=>{t.exito?(this.loadDetalleTurno(),this.resetDetalleTurno(),this._snackBar.open("Usuario agregado al turno...","Turno",{duration:3e3})):this._snackBar.open(`ERROR: ${t.mensaje}`,"Turno",{duration:3e3})})},this.anularDetalleTurno=t=>{this.turnoSrvc.anularDetalle({turno:t.turno,usuario:t.usuario.usuario,usuario_tipo:t.usuario_tipo.usuario_tipo}).subscribe(t=>{t.exito?(this.loadDetalleTurno(),this.resetDetalleTurno(),this._snackBar.open("Se quit\xf3 al usuario del turno...","Turno",{duration:3e3})):this._snackBar.open(`ERROR: ${t.mensaje}`,"Turno",{duration:3e3})})},this.updateTableDataSource=()=>this.dataSource=new v.a(this.detallesTurno),this.getNow=()=>Be().format(Oe.a.dbDateTimeFormat)}ngOnInit(){this.esMovil=this.ls.get(Oe.a.usrTokenVar).enmovil||!1,this.resetTurno(),this.loadTiposTurno(),this.loadTiposUsuario(),this.loadUsuarios()}};Sa.ctorParameters=()=>[{type:w.a},{type:Ae.a},{type:He},{type:wa},{type:ka},{type:Pe.a},{type:O.b}],n.b([Object(i.Input)()],Sa.prototype,"turno",void 0),n.b([Object(i.Output)()],Sa.prototype,"turnoSavedEv",void 0),Sa=n.b([Object(i.Component)({selector:"app-form-turno",template:n.c(a("Rflk")).default,styles:[n.c(a("16Tw")).default]})],Sa);let Ea=class{constructor(){this.params={},this.data=[]}ngOnInit(){}};n.b([Object(i.Input)()],Ea.prototype,"params",void 0),n.b([Object(i.Input)()],Ea.prototype,"data",void 0),Ea=n.b([Object(i.Component)({selector:"app-por-categoria",template:n.c(a("rfCi")).default,styles:[n.c(a("/1Jv")).default]})],Ea);let Oa=class{constructor(){this.params={},this.data=[]}ngOnInit(){}};n.b([Object(i.Input)()],Oa.prototype,"params",void 0),n.b([Object(i.Input)()],Oa.prototype,"data",void 0),Oa=n.b([Object(i.Component)({selector:"app-por-articulo",template:n.c(a("TaTT")).default,styles:[n.c(a("hiO9")).default]})],Oa);let Aa=class{constructor(t){this.turnoSrvc=t,this.getTurnoEv=new i.EventEmitter,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadTurnos=()=>{this.turnoSrvc.get().subscribe(t=>{t&&t.length>0&&(this.lstTurnos=t,this.applyFilter())})},this.getTurno=t=>{this.getTurnoEv.emit(t)},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.loadTurnos()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(Oe.b)(this.lstTurnos,this.txtFiltro);this.length=t.length,this.lstTurnosPaged=Object(Oe.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstTurnos.length,this.lstTurnosPaged=Object(Oe.c)(this.lstTurnos,this.pageSize,this.pageIndex+1)}};Aa.ctorParameters=()=>[{type:He}],n.b([Object(i.Output)()],Aa.prototype,"getTurnoEv",void 0),Aa=n.b([Object(i.Component)({selector:"app-lista-turno-tipo",template:n.c(a("mk46")).default,styles:[n.c(a("zG7m")).default]})],Aa);let Ia=class{constructor(t,e){this._snackBar=t,this.turnoSrvc=e,this.turnoSavedEv=new i.EventEmitter,this.resetTurno=()=>this.turno={turno_tipo:null,descripcion:null,activo:1},this.onSubmit=()=>{this.turnoSrvc.save(this.turno).subscribe(t=>{t.exito?(this.turnoSavedEv.emit(),this.resetTurno(),this._snackBar.open("Tipo de Turno agregado...","Turno",{duration:3e3})):this._snackBar.open(`ERROR: ${t.mensaje}`,"Turno",{duration:3e3})})}}ngOnInit(){}};Ia.ctorParameters=()=>[{type:w.a},{type:He}],n.b([Object(i.Input)()],Ia.prototype,"turno",void 0),n.b([Object(i.Output)()],Ia.prototype,"turnoSavedEv",void 0),Ia=n.b([Object(i.Component)({selector:"app-form-turno-tipo",template:n.c(a("Zxss")).default,styles:[n.c(a("cqsm")).default]})],Ia);let Ta=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="propina",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}get(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/buscar?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}save(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/guardar${t.propina_distribucion?"/"+t.propina_distribucion:""}`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};Ta.ctorParameters=()=>[{type:o.a},{type:Ae.a}],Ta=n.b([Object(i.Injectable)({providedIn:"root"})],Ta);let Pa=class{constructor(t,e,a){this._snackBar=t,this.propinaSrvc=e,this.usuarioSrvc=a,this.propinaSavedEv=new i.EventEmitter,this.usuarios=[],this.loadUsuario=()=>{this.usuarioSrvc.get().subscribe(t=>{this.usuarios=t})},this.resetPropina=()=>this.propina={propina_distribucion:null,usuario_tipo:null,porcentaje:null,anulado:null},this.onSubmit=()=>{this.propinaSrvc.save(this.propina).subscribe(t=>{t.exito?(this.propinaSavedEv.emit(),this.resetPropina(),this._snackBar.open("Propina agregada...","Distribucion de propinas",{duration:3e3})):this._snackBar.open(`ERROR: ${t.mensaje}`,"Distribucion de propinas",{duration:3e3})})}}ngOnInit(){this.loadUsuario()}};Pa.ctorParameters=()=>[{type:w.a},{type:Ta},{type:ka}],n.b([Object(i.Input)()],Pa.prototype,"propina",void 0),n.b([Object(i.Output)()],Pa.prototype,"propinaSavedEv",void 0),Pa=n.b([Object(i.Component)({selector:"app-form-propina",template:n.c(a("PmOz")).default,styles:[n.c(a("G629")).default]})],Pa);let ja=class{constructor(t){this.propinaSrvc=t,this.displayedColumns=["propina"],this.getPropinaEv=new i.EventEmitter,this.loadPropinas=()=>{this.propinaSrvc.get().subscribe(t=>{t&&t.length>0&&(this.lstPropinas=t,this.dataSource=new v.a(this.lstPropinas),this.dataSource.paginator=this.paginator)})},this.getPropina=t=>{this.getPropinaEv.emit(t)}}ngOnInit(){this.loadPropinas()}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}};ja.ctorParameters=()=>[{type:Ta}],n.b([Object(i.Output)()],ja.prototype,"getPropinaEv",void 0),n.b([Object(i.ViewChild)(E.a,{static:!0})],ja.prototype,"paginator",void 0),ja=n.b([Object(i.Component)({selector:"app-lista-propina",template:n.c(a("kqV0")).default,styles:[n.c(a("inSe")).default]})],ja);let Ra=class{constructor(t,e){this.http=t,this.ls=e,this.moduleUrl="cajacorte",this.usrToken=null,this.srvcErrHndl=new Re.a,this.usrToken=this.ls.get(Oe.a.usrTokenVar)?this.ls.get(Oe.a.usrTokenVar).token:null}buscar(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/buscar?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}getCajaCorteTipo(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlCatalogos}/get_caja_corte_tipo?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}getCajaCorteNominacion(t={}){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.get(`${Oe.a.urlCatalogos}/get_caja_corte_nominacion?${Ve.stringify(t)}`,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}guardar(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/guardar`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}anularCorte(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/anular_caja`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}anularDetalle(t){const e={headers:new o.c({Authorization:this.usrToken})};return this.http.post(`${Oe.a.urlAppRestaurante}/${this.moduleUrl}/anular_caja_detalle`,t,e).pipe(Object(Me.a)(Oe.a.reintentos),Object(Fe.a)(this.srvcErrHndl.errorHandler))}};Ra.ctorParameters=()=>[{type:o.a},{type:Ae.a}],Ra=n.b([Object(i.Injectable)({providedIn:"root"})],Ra);let Ma=class{constructor(t,e){this.ccorteSrvc=t,this._snackBar=e,this.displayedColumns=["ccGeneral"],this.getCajacorteEv=new i.EventEmitter,this.getCajascortes=()=>{this.ccorteSrvc.buscar().subscribe(t=>{this.listacc=t,this.dataSource=new v.a(this.listacc),this.dataSource.paginator=this.paginator})},this.anularCaja=t=>{confirm("\xbfSi anula este corte, se anular\xe1 tambi\xe9n las nominaciones.?")&&this.ccorteSrvc.anularCorte(t).subscribe(t=>{t.exito&&this.getCajascortes(),this._snackBar.open(`${t.mensaje}`,"Corte de caja",{duration:3e3})})},this.getCajacorte=t=>{this.getCajacorteEv.emit(t)}}ngOnInit(){this.getCajascortes()}filtrar(t){this.dataSource.filter=t.trim().toLowerCase()}};Ma.ctorParameters=()=>[{type:Ra},{type:w.a}],n.b([Object(i.Output)()],Ma.prototype,"getCajacorteEv",void 0),n.b([Object(i.ViewChild)(E.a,{static:!0})],Ma.prototype,"paginator",void 0),Ma=n.b([Object(i.Component)({selector:"app-cajacorte-lista",template:n.c(a("zBqX")).default,styles:[n.c(a("HNm3")).default]})],Ma);let Fa=class{constructor(t,e){this._snackBar=t,this.cajacorteSrvc=e,this.cajacorteSavedEv=new i.EventEmitter,this.ccorteTipo=[],this.ccorteNomi=[],this.detalle={caja_corte_detalle:0,caja_corte:0,cantidad:0,total:0,anulado:0,caja_corte_nominacion:0,nombre:null},this.getCajaCorteTipo=()=>{this.cajacorteSrvc.getCajaCorteTipo().subscribe(t=>{this.ccorteTipo=t})},this.getCajaCorteNominacion=()=>{this.cajacorteSrvc.getCajaCorteNominacion().subscribe(t=>{this.ccorteNomi=t})},this.setTotal=()=>{if(this.detalle.caja_corte_nominacion){let t=this.ccorteNomi.filter(t=>t.caja_corte_nominacion==this.detalle.caja_corte_nominacion)[0];1==t.calcula?this.detalle.total=this.detalle.cantidad*t.valor:this.detalle.total=this.detalle.cantidad}},this.setNamenomi=()=>{let t=this.ccorteNomi.filter(t=>t.caja_corte_nominacion==this.detalle.caja_corte_nominacion)[0];console.log(t,this.detalle.caja_corte_nominacion),this.detalle.nombre=t.nombre},this.setNameTipo=()=>{let t=this.ccorteTipo.filter(t=>t.caja_corte_tipo==this.ccorte.caja_corte_tipo)[0];console.log(t,this.ccorte.caja_corte_tipo),this.ccorte.descripcion=t.descripcion},this.reseteGeneral=()=>this.ccorte={caja_corte:0,creacion:null,usuario:0,turno:0,confirmado:null,anulado:0,caja_corte_tipo:0,descripcion:null,detalle:[]},this.resetDetalle=()=>this.detalle={caja_corte_detalle:0,caja_corte:0,cantidad:0,total:0,anulado:0,caja_corte_nominacion:0,nombre:null},this.agregarDetalle=()=>{this.detalle.caja_corte_nominacion&&this.detalle.cantidad&&this.detalle.total?(this.ccorte.detalle.push(this.detalle),this.resetDetalle()):this._snackBar.open("Complete los datos de nominaciones","Corte de caja",{duration:3e3})},this.guardar=()=>{if(confirm("\xbfEst\xe1 seguro?")){if(0==this.ccorte.detalle.length)return this._snackBar.open("Por favor agregue las nominaciones","Corte de caja",{duration:3e3}),!1;if(!this.ccorte.caja_corte_tipo)return this._snackBar.open("Seleccione el tipo de corte de caja.","Corte de caja",{duration:3e3}),!1;this.cajacorteSrvc.guardar(this.ccorte).subscribe(t=>{t.exito&&(this.cajacorteSavedEv.emit(),this.reseteGeneral()),this._snackBar.open(`${t.mensaje}`,"Corte de caja",{duration:3e3})})}},this.anularCajaDetalle=t=>{if(confirm("\xbfEst\xe1 seguro.?"))if(t.caja_corte_detalle)this.cajacorteSrvc.anularDetalle(t).subscribe(e=>{if(e.exito){let e=this.ccorte.detalle.indexOf(t);this.ccorte.detalle.splice(e,1)}this._snackBar.open(`${e.mensaje}`,"Corte de caja",{duration:3e3})});else{let e=this.ccorte.detalle.indexOf(t);this.ccorte.detalle.splice(e,1)}}}ngOnInit(){this.getCajaCorteTipo(),this.getCajaCorteNominacion()}};Fa.ctorParameters=()=>[{type:w.a},{type:Ra}],n.b([Object(i.Input)()],Fa.prototype,"ccorte",void 0),n.b([Object(i.Output)()],Fa.prototype,"cajacorteSavedEv",void 0),Fa=n.b([Object(i.Component)({selector:"app-cajacorte-form",template:n.c(a("NyI3")).default,styles:[n.c(a("nEkW")).default]})],Fa),a.d(e,"RestauranteModule",(function(){return Va}));let Va=class{};Va=n.b([Object(i.NgModule)({declarations:[Le,ha,je,ga,fa,ua,_a,Ca,Ee,Te,$e,xa,Sa,Da,We,Ea,Oa,qe,Ze,Qe,ta,ea,Aa,Ia,aa,na,Pa,ja,sa,oa,Ma,Fa,ba,pa,ya,ra],entryComponents:[je,ua,Te,Da,ba,pa,ya],imports:[s.CommonModule,ca,o.b,r.FormsModule,l.a,c.WmsModule,d.PosModule,h.a,u.a,p.a,m.c,g.b,b.a,f.a,_.a,v.b,y.a,D.a,C.b,w.b,x.a,k.a,S.a,E.b,O.c,Ce.a,A.a,_t,V.m,we.a,De,xe.NgVirtualKeyboardModule],providers:[V.m]})],Va)},kNVz:function(t,e,a){"use strict";a.r(e),e.default=""},kqV0:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field>\n            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar...">\n        </mat-form-field>\n        <table mat-table [dataSource]="dataSource">\n            <ng-container matColumnDef="propina">\n                \x3c!--<th mat-header-cell *matHeaderCellDef> No. </th>--\x3e\n                <td mat-cell *matCellDef="let element" (click)="getPropina(element)">\n                    <mat-list>\n                        <mat-list-item>\n                            <mat-icon mat-list-icon>line_weight</mat-icon>\n                            <h5 mat-line>{{element.porcentaje}}%</h5>\n                            <span mat-line>{{element.usuario_tipo.descripcion}}</span>\n                            <button mat-icon-button type="button" color="accent">\n                                <mat-icon>arrow_right_alt</mat-icon>\n                            </button>\n                        </mat-list-item>\n                    </mat-list>\n                </td>\n            </ng-container>\n            \x3c!--<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>--\x3e\n            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n        </table>\n        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>\n    </mat-card-content>\n</mat-card>'},l4QZ:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-title>\n        <h4>\xc1rea</h4>\n    </mat-card-title>\n    <mat-card-content>\n        <form #frmEntidad="ngForm" (ngSubmit)="frmEntidad.form.valid && onSubmit()" novalidate>\n            <mat-form-field class="fullWidth" *ngIf="esMovil">\n                <input type="text" matInput placeholder="Nombre" name="nombre" [(ngModel)]="entidad.nombre" required>\n            </mat-form-field>\n            <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric"\n                    ng-virtual-keyboard-placeholder="Nombre" placeholder="Nombre" name="nombre"\n                    [(ngModel)]="entidad.nombre" required>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <mat-label>\xc1rea padre</mat-label>\n                <mat-select name="area_padre" [(ngModel)]="entidad.area_padre">\n                    <mat-option *ngFor="let ar of lstAreas" [value]="ar.area">\n                        {{ar.nombre}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field class="fullWidth">\n                <mat-label>Impresora</mat-label>\n                <mat-select name="impresora" [(ngModel)]="entidad.impresora" required>\n                    <mat-option *ngFor="let imp of impresoras" [value]="imp.impresora">\n                        {{imp.nombre}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <h5>Mesas en el \xe1rea: {{entidad.mesas.length}}</h5>\n            <div align="end">\n                <button mat-raised-button type="submit" color="accent" class="btnAccion" [disabled]="!frmEntidad.form.valid">\n                    Guardar\n                </button>\n                <button mat-raised-button type="button" color="accent" class="btnAccion" (click)="openDesigner()" *ngIf="entidad.area">\n                    Dise\xf1ar\n                </button>\n                <button mat-raised-button type="button" color="accent" (click)="resetEntidad()" *ngIf="entidad.area">\n                    Nuevo\n                </button>\n            </div>\n        </form>\n    </mat-card-content>\n</mat-card>'},lfgn:function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Contrase\xf1a del gerente de turno</h1>\n<mat-dialog-content>\n    <form #frmValidarPwdGerenteTurno="ngForm" (ngSubmit)="frmValidarPwdGerenteTurno.form.valid" novalidate>\n        <mat-form-field class="fullWidth">\n            <input type="password" matInput placeholder="Contrase\xf1a del gerente de turno" name="pwd" [(ngModel)]="data.pwd" required>\n        </mat-form-field>\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="secondary" class="btnAccion">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="terminar()" [disabled]="!frmValidarPwdGerenteTurno.form.valid" color="accent">\n        Eliminar producto\n    </button>\n</mat-dialog-actions>'},mCR8:function(t,e,a){"use strict";a.r(e),e.default='<div fxLayout="row" fxLayout.xs="column">\n    <div fxFlex="50%" fxFelx.xs="100%" fxLayoutAlign="center start">\n        <span class="bld" style="font-size: 16pt; margin-left: 10px;">\n            {{mesaEnUso.mesa.area.nombre}} - Mesa{{mesaEnUso.mesa.numero}} - Comanda {{mesaEnUso.comanda}}\n        </span>\n    </div>\n    <div fxFlex="50%" fxFelx.xs="100%" fxLayoutAlign="end start">\n        <button mat-raised-button type="button" color="accent" style="margin-left: 8px;"\n            (click)="closeSideNavEv.emit()">\n            Cerrar Panel\n        </button>\n    </div>\n</div>\n\x3c!--\n<div fxLayout="row wrap" fxLayoutGap="8px grid" fxLayoutAlign="center center">\n    <div class="bordeTest" fxFlex="20%" fxFlex.xs="100%" fxFlex.sm="25%" fxFlex.md="25%" fxLayoutAlign="center center" *ngFor="let cta of mesaEnUso.cuentas">\n        <button mat-raised-button type="button" color="accent" [disabled]="+cta.cerrada == 1" (click)="setSelectedCuenta(cta.numero)">\n            {{cta.nombre}}\n        </button>\n    </div>\n</div>\n--\x3e\n<div class="divFullSize">    \n    <div class="row">\n        <div class="col m12 s12" align="center" style="padding: 0 !important;">\n            <button mat-raised-button type="button" color="accent" class="btnAccion"\n                *ngFor="let cta of mesaEnUso.cuentas" [disabled]="+cta.cerrada == 1"\n                (click)="setSelectedCuenta(cta.numero)">\n                {{cta.nombre}}\n            </button>\n        </div>\n    </div>    \n    <div class="row">\n        <div class="col m6 s12" align="center" style="padding: 0 !important;">\n            <span class="bld">Productos</span><br />\n            <button mat-raised-button class="btnAccion" color="accent" *ngFor="let c of categorias"\n                (click)="clickOnCategoria(c)" [disabled]="bloqueoBotones">\n                {{c.descripcion}}\n            </button>\n        </div>\n        <div class="col m6 s12" align="center" style="padding: 0 !important;">\n            <span class="bld" *ngIf="cuentaActiva.nombre">Cuenta de {{cuentaActiva.nombre}}</span>\n            <span class="bld" *ngIf="!cuentaActiva.nombre">Por favor seleccione una cuenta. Gracias.</span>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col m6 s12 mat-elevation-z3 colProductos">\n            \x3c!--<app-lista-producto (productoClickedEv)="addProductoSelected($event)"></app-lista-producto>--\x3e\n            <app-lista-producto-alt #appLstProdAlt (productoClickedEv)="addProductoSelected($event)"\n                (categoriasFilledEv)="setListaCategorias($event)" [bloqueoBotones]="bloqueoBotones">\n            </app-lista-producto-alt>\n        </div>\n        <div class="col m6 s12 mat-elevation-z3 colProductos">\n            <app-lista-productos-comanda [listaProductos]="lstProductosDeCuenta" [noCuenta]="+cuentaActiva.numero"\n                [IdComanda]="mesaEnUso.comanda" [IdCuenta]="cuentaActiva.cuenta" [bloqueoBotones]="bloqueoBotones" [mesaEnUso]="mesaEnUso"\n                (productoRemovedEv)="updProductosCuenta($event)"></app-lista-productos-comanda>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col m12 s12" align="center">\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="printComanda()" [disabled]="!cuentaActiva.nombre || bloqueoBotones">\n                Comanda\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="printCuenta()" [disabled]="!cuentaActiva.nombre || bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Cuenta\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="unirCuentas()" [disabled]="mesaEnUso.cuentas.length < 2 || bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Unir cuentas\n            </button>            \n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="cobrarCuenta()"\n                [disabled]="!cuentaActiva.nombre || (esCajero(mesaEnUso.turno_rol) < 0) || bloqueoBotones">\n                Cobrar cuenta\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccion btnAccionComanda"\n                (click)="trasladoMesa()" [disabled]="bloqueoBotones" *ngIf="+mesaEnUso.mesa.esmostrador === 0">\n                Trasladar\n            </button>\n            <button mat-raised-button type="button" color="accent" class="btnAccionComanda" (click)="cerrarMesa()"\n                *ngIf="lstProductosSeleccionados.length <= 0">\n                Cerrar {{+mesaEnUso.mesa.esmostrador === 0 ? \'Mesa\' : \'Mostrador\'}}\n            </button>\n        </div>\n    </div>\n</div>'},mRlv:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..." [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item matRipple *ngFor="let element of lstEntidadesPaged" (click)="getEntidad(element.area)">\n                <mat-icon mat-list-icon>settings</mat-icon>\n                <h5 mat-line>{{element.nombre}}</h5>\n            </mat-list-item>            \n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>'},mk46:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-content>\n        <mat-form-field class="fullWidth">\n            <input matInput (keyup)="applyFilter()" placeholder="Buscar..."  [(ngModel)]="txtFiltro" [ngModelOptions]="{standalone: true}">\n        </mat-form-field>\n        <mat-nav-list>\n            <mat-list-item *ngFor="let element of lstTurnosPaged" (click)="getTurno(element)">\n                <mat-icon mat-list-icon>line_weight</mat-icon>\n                <h5 mat-line>{{element.descripcion}}</h5>                \n            </mat-list-item>\n        </mat-nav-list>\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)" showFirstLastButtons>\n        </mat-paginator>\n    </mat-card-content>\n</mat-card>'},nEkW:function(t,e,a){"use strict";a.r(e),e.default=".example-container .mat-form-field + .mat-form-field {\n  margin-left: 8px;\n}\n\nmat-grid-tile {\n  text-align: left;\n}\n\n.anulacion {\n\tcursor: pointer;\n}"},nTCp:function(t,e,a){"use strict";a.r(e),e.default='<mat-sidenav-container class="matSideNavContainer">\n    <mat-sidenav #rightSidenav mode="over" [(opened)]="openedRightPanel" (closedStart)="cerrandoRightSideNav()" position="end" disableClose>        \n        <app-tran-comanda #snTranComanda [mesaEnUso]="mesaSeleccionada" (mesaSavedEv)="actualizar()" (closeSideNavEv)="toggleRightSidenav($event)"></app-tran-comanda>\n    </mat-sidenav>\n    <mat-sidenav-content>\n        <mat-tab-group dynamicHeight backgroundColor="primary">\n            <mat-tab #tabArea *ngFor="let tabA of lstTabsAreas" label="{{tabA.nombre}}">\n                <div #matTabArea class="divAreaMesa" (window:resize)="onResize($event)">\n                    <app-mesa *ngFor="let m of tabA.mesas" [configuracion]="m" (onClickMesa)="onClickMesa($event)" [isDisabled]="cargando"></app-mesa>\n                </div>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-sidenav-content>\n</mat-sidenav-container>'},p5ks:function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Trasladar a otra mesa</h1>\n<div mat-dialog-content>\n    <form #frmTrasladarMesa="ngForm" novalidate>\n        <mat-form-field class="fullWidth">\n            <mat-label>Trasladar a mesa:</mat-label>\n            <mat-select name="destino" [(ngModel)]="destino" required>\n                <mat-option *ngFor="let mDispon of mesasDisponibles" [value]="mDispon">\n                    {{mDispon.area.nombre}} - {{mDispon.numero}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </form>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="cancelar()" color="warn">\n        Cancelar\n    </button>\n    <button mat-raised-button type="button" color="accent" (click)="trasladar()" [disabled]="!frmTrasladarMesa.form.valid">\n        Trasladar\n    </button>\n</div>\n'},r7HG:function(t,e,a){"use strict";a.r(e),e.default='<div #divMesa cdkDrag (cdkDragEnded)="dragEnded($event)" cdkDragBoundary=".areaPosicionamiento" [cdkDragDisabled]="dontAllowDrag" class="divMesa mat-elevation-z6" \n    [ngClass]="{\'disponible\': +configuracion.estatus == 1 && +configuracion.debaja === 0, \'ocupada\': +configuracion.estatus == 2 && +configuracion.debaja === 0, \'debaja\': +configuracion.debaja === 1}"\n    (click)="clickMesa()"\n    [style.width.px]="getAncho()" \n    [style.height.px]="getAlto()" \n    [style.left.%]="configuracion.posx" \n    [style.top.%]="configuracion.posy"\n    [attr.disabled]="isDisabled ? true : null"\n    [style.backgroundImage]="\'url(\'+ urlImage +\')\'">\n    <span>{{configuracion.numero}}</span>\n</div>'},rfCi:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n    <mat-card-header>\n        <mat-card-title>Reporte de ventas</mat-card-title>\n        <mat-card-subtitle>\n            Por categor\xeda<br />\n            Del {{params.fdel | date:\'dd/MM/yyyy\'}} al {{params.fal | date:\'dd/MM/yyyy\'}}\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n        <table class="tbl">\n            <thead>\n                <tr>\n                    <th class="brdTSingleBSingle">Descripci\xf3n</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Cantidad</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Porcentaje</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Precio unitario</th>\n                    <th class="rtxt numWidth brdTSingleBSingle">Total</th>\n                </tr>\n            </thead>\n            <tbody>\n                <ng-container *ngFor="let cat of data">\n                    <ng-container *ngIf="cat.subcategoria.length > 0">\n                        <tr>\n                            <th colspan="5">{{cat.descripcion}}</th>\n                        </tr>\n                        \x3c!-- Inicio de contenedor de subcategorias --\x3e\n                        <ng-container *ngFor="let subcat of cat.subcategoria">\n                            <ng-container *ngIf="subcat.articulos.length > 0">\n                                <tr>\n                                    <th class="tab" colspan="5">{{subcat.descripcion}}</th>\n                                </tr>\n                                \x3c!-- Inicio de contenedor de art\xedculos --\x3e\n                                <ng-container *ngFor="let art of subcat.articulos">\n                                    <tr>\n                                        <td class="doubleTab brdBSingle">{{art.descripcion}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.cantidad | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.porcentaje | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.precio_unitario | number:\'1.2-2\'}}</td>\n                                        <td class="rtxt numWidth brdBSingle">{{art.total | number:\'1.2-2\'}}</td>\n                                    </tr>\n                                </ng-container>\n                                \x3c!-- Fin de contenedor de art\xedculos --\x3e\n                                <tr>\n                                    <th class="rtxt" colspan="4">Total de subcategor\xeda:</th>\n                                    <th class="rtxt brdTSingleBDouble numWidth">{{subcat.total | number:\'1.2-2\'}}</th>\n                                </tr>\n                            </ng-container>\n                        </ng-container>\n                        \x3c!-- Fin de contenedor de subcategorias --\x3e\n                    </ng-container>\n                </ng-container>\n            </tbody>\n        </table>\n    </mat-card-content>\n    \x3c!--\n    <mat-card-footer>\n    </mat-card-footer>\n    --\x3e\n</mat-card>'},t8Kt:function(t,e,a){"use strict";a.r(e),e.default=""},tGvL:function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Abrir mesa</h1>\n<mat-dialog-content>\n    <form #frmAbrirMesa="ngForm" (ngSubmit)="frmAbrirMesa.form.valid" novalidate>\n            <mat-form-field class="separatorMargin">\n            <mat-label>Mesero</mat-label>\n            <mat-select name="mesero" [(ngModel)]="data.mesero">\n                <mat-option *ngFor="let usr of lstMeseros" [value]="usr.usuario.usuario">\n                    {{usr.usuario.nombres}} {{usr.usuario.apellidos}}\n                </mat-option>\n            </mat-select>\n            </mat-form-field>\n            <mat-form-field class="separatorMargin" *ngIf="!esMovil">\n            <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="numeric"\n                ng-virtual-keyboard-placeholder="# Comensales" placeholder="# Comensales" name="comensales"\n                [(ngModel)]="data.comensales" required>\n            </mat-form-field>\n                    <mat-form-field class="separatorMargin" *ngIf="esMovil">\n                <input type="text" matInput placeholder="# Comensales" name="comensales" [(ngModel)]="data.comensales"\n                    required>\n            </mat-form-field>\n            <mat-checkbox name="esEvento" class="separatorMargin" [(ngModel)]="+data.esEvento">\xbfEs evento?</mat-checkbox>\n            <mat-checkbox name="dividirCuentasPorSillas" class="separatorMargin" [(ngModel)]="+data.dividirCuentasPorSillas" [disabled]="+data.comensales <= 1">\xbfDividir cuentas?</mat-checkbox>\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions align="end">\n    <button mat-raised-button (click)="terminar()" color="secondary" class="btnAccion">\n        Cancelar\n    </button>\n    <button mat-raised-button (click)="terminar(data)" [disabled]="!frmAbrirMesa.form.valid" color="accent">\n        Abrir mesa\n    </button>\n</mat-dialog-actions>'},uuZA:function(t,e,a){"use strict";a.r(e),e.default="table {\r\n    width: 100%;\r\n}\r\n\r\ntr.example-detail-row {\r\n    height: 0;\r\n}\r\n\r\ntr.example-element-row:not(.example-expanded-row):hover {\r\n    background: #777;\r\n}\r\n\r\ntr.example-element-row:not(.example-expanded-row):active {\r\n    background: #efefef;\r\n}\r\n\r\n.tamanioAmigable {\r\n  padding: 5px;\r\n  width: 10% !important;  \r\n  min-height: 55px;  \r\n}\r\n\r\n.btnCelSize { \r\n    min-width: 55px;   \r\n    width: 100%;\r\n}\r\n\r\n.example-element-row td {\r\n    border-bottom-width: 0;\r\n}\r\n\r\n.example-element-detail {\r\n    overflow: hidden;\r\n    display: flex;\r\n    /*\r\n    border-radius: 10px;\r\n    border: solid 1px lightgray;\r\n    */\r\n}\r\n\r\n.example-element-diagram {\r\n    min-width: 80px;\r\n    border: 2px solid black;\r\n    padding: 8px;\r\n    font-weight: lighter;\r\n    margin: 8px 0;\r\n    height: 104px;\r\n}\r\n\r\n.example-element-symbol {\r\n    font-weight: bold;\r\n    font-size: 40px;\r\n    line-height: normal;\r\n}\r\n\r\n.example-element-description {\r\n    padding: 16px;\r\n}\r\n\r\n.example-element-description-attribution {\r\n    opacity: 0.5;\r\n}"},vJMn:function(t,e,a){"use strict";a.r(e),e.default=".divFullSize {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n}\n\n.col {\n    padding-top: 1px;\n    padding-bottom: 1px;\n}\n\n.btnAccionComanda {\n    width: 135px;\n}\n\n.colProductos {\n    overflow-y: auto;\n    height: 400px !important;\n}"},"w/l6":function(t,e,a){"use strict";a.r(e),e.default=".divContenedor {\r\n    margin-left: 5px !important;\r\n}\r\n\r\n.bordeRght {\r\n    border-right: solid 1.5px black;    \r\n}\r\n\r\n.bordeLft {\r\n    border-left: solid 1.5px black;    \r\n}"},zBqX:function(t,e,a){"use strict";a.r(e),e.default='<mat-card class="mat-elevation-z4 fullWidth">\n  <mat-card-content>\n    <mat-form-field>\n\t    <input matInput (keyup)="filtrar($event.target.value)" placeholder="Buscar...">\n\t</mat-form-field>\n\t<table mat-table [dataSource]="dataSource">\n        <ng-container matColumnDef="ccGeneral">\n            <td mat-cell *matCellDef="let element">\n                <mat-list>\n                    <mat-list-item>\n                        <mat-icon class="anulaicon" (click)="anularCaja(element)" mat-list-icon>close</mat-icon>\n                        <h5 mat-line>{{ element.descripcion }}</h5>\n                        <span mat-line>{{ element.creacion }}</span>\n                        <span mat-line>Total: {{ element.total }}</span>\n                        <button mat-icon-button type="button" color="accent" (click)="getCajacorte(element)">\n                            <mat-icon>arrow_right_alt</mat-icon>\n                        </button>\n                    </mat-list-item>\n                </mat-list>\n            </td>\n        </ng-container>\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n    </table>\n    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>\n  </mat-card-content>\n</mat-card>\n'},zG7m:function(t,e,a){"use strict";a.r(e),e.default=""},"zI+U":function(t,e,a){"use strict";a.r(e),e.default='<div class="diseniador">\n    <div style="height: 55px;" align="center">\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addTable()">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mesa\n        </button>\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addMostrador()">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mostrador\n        </button>\n        <button mat-raised-button type="button" class="btnAccion" color="accent" (click)="addMostrador(true)">\n            <mat-icon class="btnIconSize">add</mat-icon>&nbsp;Mostrador vertical\n        </button>\n        <button mat-raised-button type="button" color="accent" (click)="terminar()">\n            Terminar\n        </button>\n    </div>\n    <div style="height: 5px; width: 100%;"></div>\n    <div id="divAreaPosicionamiento" class="areaPosicionamiento">\n        <app-mesa *ngFor="let m of mesas" [configuracion]="m" (onClickMesa)="onClickMesa($event)" [dontAllowDrag]="false" (contextmenu)="onContextMenu($event, m)"></app-mesa>\n    </div>\n    \x3c!-- Inicio del menu contextual --\x3e\n    <div style="visibility: hidden; position: fixed;" [style.left]="contextMenuPosition.x" [style.top]="contextMenuPosition.y" [matMenuTriggerFor]="contextMenu"></div>\n    <mat-menu #contextMenu="matMenu">\n        <ng-template matMenuContent let-item="item">\n            <span mat-menu-item class="mesaTitle" disableRipple="true">Mesa #{{item.numero}} ({{item.mesa}})</span>\n            <mat-divider></mat-divider>\n            <button mat-menu-item (click)="configurarMesa(item)" *ngIf="+item.esmostrador === 1 && +item.debaja === 0">\n                <mat-icon class="btnIconSize">settings</mat-icon>Configuracion\n            </button>\n            <button mat-menu-item (click)="toggleDeBaja(item)" *ngIf="+item.debaja === 0" class="customize" [disabled]="+item.estatus === 2">\n                <mat-icon class="btnIconSize">thumb_down</mat-icon>Dar de baja\n            </button>\n            <button mat-menu-item (click)="toggleDeBaja(item, 0)" *ngIf="+item.debaja === 1" class="customizeUp" [disabled]="+item.estatus === 2">\n                <mat-icon class="btnIconSize">thumb_up</mat-icon>Habilitar\n            </button>\n        </ng-template>\n    </mat-menu>\n    \x3c!-- Fin del menu contextual --\x3e\n</div>'},zlRV:function(t,e,a){"use strict";a.r(e),e.default='<h1 mat-dialog-title>Ingreso de datos de cuentas</h1>\n<div mat-dialog-content>\n    <table #tblCuentas mat-table [dataSource]="dataSource" class="fullWidth">\n        <ng-container matColumnDef="numero">\n            <th mat-header-cell *matHeaderCellDef>No.</th>\n            <td mat-cell *matCellDef="let element">\n                <span>{{element.numero}}</span>\n            </td>\n        </ng-container>\n        <ng-container matColumnDef="nombre">\n            <th mat-header-cell *matHeaderCellDef>Nombre</th>\n            <td mat-cell *matCellDef="let element">\n                <mat-form-field class="fullWidth" *ngIf="esMovil">\n                    <input type="text" matInput name="nombre" [(ngModel)]="element.nombre" required>\n                    <button type="button" mat-button matSuffix mat-icon-button (click)="eliminarFila(element)">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n                <mat-form-field class="fullWidth" *ngIf="!esMovil">\n                    <input type="text" matInput ng-virtual-keyboard ng-virtual-keyboard-layout="alphanumeric" ng-virtual-keyboard-placeholder="Nombre" name="nombre" [(ngModel)]="element.nombre" required>\n                    <button type="button" mat-button matSuffix mat-icon-button (click)="eliminarFila(element)">\n                        <mat-icon class="iconFontSize">close</mat-icon>\n                    </button>\n                </mat-form-field>\n            </td>\n        </ng-container>        \n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n    </table>\n</div>\n<div mat-dialog-actions align="end">\n    <button mat-raised-button (click)="agregarFila()" color="accent" [disabled]="this.data.cuentas.length === +this.data.comensales">\n        Agregar\n    </button>\n    <button mat-raised-button (click)="terminar()" color="accent" [disabled]="this.data.cuentas.length !== +this.data.comensales">\n        Terminar        \n    </button>\n</div>'},"zmM/":function(t,e,a){"use strict";a.r(e),e.default='<div class="row">\n    <div class="col m5 s12">\n        <app-lista-propina #lstPropina (getPropinaEv)="setPropina($event)"></app-lista-propina>\n    </div>\n    <div class="col m7 s12">\n        <app-form-propina #frmPropina [propina]="propina" (propinaSavedEv)="refreshPropinaList()"></app-form-propina>\n    </div>\n</div>'}}]);