(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3e6T":function(t,e,o){"use strict";o.d(e,"a",function(){return s});var n=o("sKxO"),r=o("R5jZ"),a=o("un/a"),c=o("JIr8"),i=o("Qyje"),l=o("fXoL"),d=o("tk/3");let s=(()=>{class t{constructor(t){this.http=t,this.srvcErrHndl=new r.a}get(t={}){return this.http.get(`${n.a.urlCatalogos}/get_tipo_movimiento?${i.stringify(t)}`).pipe(Object(a.a)(n.a.reintentos),Object(c.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(l.Xb(d.b))},t.\u0275prov=l.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Wc/8":function(t,e,o){"use strict";o.r(e),o.d(e,"OrdenCompraModule",function(){return Ft});var n=o("ofXK"),r=o("tk/3"),a=o("3Pt+"),c=o("PCNd"),i=o("MutI"),l=o("NFeN"),d=o("kmnG"),s=o("qFsG"),m=o("Wp6s"),b=o("f0Cb"),p=o("wZkO"),u=o("+0xr"),f=o("d3UM"),C=o("bSwM"),h=o("bTqV"),g=o("dNgK"),v=o("/t3+"),O=o("STbY"),S=o("zkoq"),T=o("M9IT"),_=o("0IaG"),D=o("XhcP"),w=o("8yBR"),M=o("tyNb"),I=o("0T/Q"),F=o("sKxO"),y=o("fXoL"),k=o("FY0D"),x=o("R5jZ"),$=o("un/a"),E=o("JIr8"),z=o("Qyje");let N=(()=>{class t{constructor(t){this.http=t,this.ordenCompraUrl="compra",this.srvcErrHndl=new x.a}get(t={}){return this.http.get(`${F.a.urlWms}/${this.ordenCompraUrl}/buscar?${z.stringify(t)}`).pipe(Object($.a)(F.a.reintentos),Object(E.a)(this.srvcErrHndl.errorHandler))}save(t){return this.http.post(`${F.a.urlWms}/${this.ordenCompraUrl}/guardar${+t.orden_compra>0?"/"+t.orden_compra:""}`,t).pipe(Object($.a)(F.a.reintentos),Object(E.a)(this.srvcErrHndl.errorHandler))}getDetalle(t,e={}){return this.http.get(`${F.a.urlWms}/${this.ordenCompraUrl}/buscar_detalle/${t}?${z.stringify(e)}`).pipe(Object($.a)(F.a.reintentos),Object(E.a)(this.srvcErrHndl.errorHandler))}saveDetalle(t){return this.http.post(`${F.a.urlWms}/${this.ordenCompraUrl}/guardar_detalle/${t.orden_compra}${+t.orden_compra_detalle>0?"/"+t.orden_compra_detalle:""}`,t).pipe(Object($.a)(F.a.reintentos),Object(E.a)(this.srvcErrHndl.errorHandler))}}return t.\u0275fac=function(e){return new(e||t)(y.Xb(r.b))},t.\u0275prov=y.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var j=o("FKr1");function U(t,e){if(1&t){const t=y.Ub();y.Tb(0,"mat-list-item",5),y.bc("click",function(){y.wc(t);const o=e.$implicit;return y.fc().getOrdenCompra(o)}),y.Tb(1,"mat-icon",6),y.Dc(2,"description"),y.Sb(),y.Tb(3,"h5",7),y.Dc(4),y.Sb(),y.Ob(5,"br"),y.Tb(6,"p",7),y.Dc(7),y.gc(8,"date"),y.Sb(),y.Sb()}if(2&t){const t=e.$implicit;y.Cb(4),y.Fc("No. ",t.orden_compra,""),y.Cb(3),y.Fc(" Fecha: ",y.ic(8,2,t.fecha,"dd/MM/yyyy")," ")}}const H=function(){return{standalone:!0}};let P=(()=>{class t{constructor(t){this.ordenCompraSrvc=t,this.getOrdenCompraEv=new y.o,this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15],this.pageIndex=0,this.txtFiltro="",this.loadOrdenesCompra=()=>{this.ordenCompraSrvc.get().subscribe(t=>{t&&t.length>0&&(this.lstOrdenesCompra=t,this.applyFilter())})},this.getOrdenCompra=t=>{this.getOrdenCompraEv.emit({orden_compra:t.orden_compra,proveedor:t.proveedor||0,fecha:t.fecha,usuario:t.usuario||0,notas:t.notas,estatus_movimiento:t.estatus_movimiento||1})},this.pageChange=t=>{this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.applyFilter()}}ngOnInit(){this.loadOrdenesCompra()}applyFilter(){if(this.txtFiltro.length>0){const t=Object(F.b)(this.lstOrdenesCompra,this.txtFiltro);this.length=t.length,this.lstOrdenesCompraPaged=Object(F.c)(t,this.pageSize,this.pageIndex+1)}else this.length=this.lstOrdenesCompra.length,this.lstOrdenesCompraPaged=Object(F.c)(this.lstOrdenesCompra,this.pageSize,this.pageIndex+1)}}return t.\u0275fac=function(e){return new(e||t)(y.Nb(N))},t.\u0275cmp=y.Hb({type:t,selectors:[["app-lista-orden-compra"]],outputs:{getOrdenCompraEv:"getOrdenCompraEv"},decls:7,vars:7,consts:[[1,"mat-elevation-z4","fullWidth"],[1,"fullWidth"],["matInput","","placeholder","Buscar...",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[3,"click"],["mat-list-icon",""],["mat-line",""]],template:function(t,e){1&t&&(y.Tb(0,"mat-card",0),y.Tb(1,"mat-card-content"),y.Tb(2,"mat-form-field",1),y.Tb(3,"input",2),y.bc("keyup",function(){return e.applyFilter()})("ngModelChange",function(t){return e.txtFiltro=t}),y.Sb(),y.Sb(),y.Tb(4,"mat-nav-list"),y.Cc(5,U,9,5,"mat-list-item",3),y.Sb(),y.Tb(6,"mat-paginator",4),y.bc("page",function(t){return e.pageChange(t)}),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Cb(3),y.lc("ngModel",e.txtFiltro)("ngModelOptions",y.nc(6,H)),y.Cb(2),y.lc("ngForOf",e.lstOrdenesCompraPaged),y.Cb(1),y.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[m.a,m.c,d.b,s.b,a.c,a.k,a.n,i.e,n.l,T.a,i.c,l.a,i.b,j.h],pipes:[n.e],styles:[".fullWidth[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%!important}"]}),t})();var R=o("50cD"),W=o("NGYs"),A=o("3e6T"),Q=o("u5dX");function G(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",5),y.bc("click",function(){return y.wc(t),y.fc().showOrdenCompraForm=!0}),y.Tb(1,"mat-icon",6),y.Dc(2,"expand_more"),y.Sb(),y.Sb()}}function q(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",5),y.bc("click",function(){return y.wc(t),y.fc().showOrdenCompraForm=!1}),y.Tb(1,"mat-icon",6),y.Dc(2,"expand_less"),y.Sb(),y.Sb()}}function B(t,e){if(1&t&&(y.Tb(0,"mat-option",19),y.Dc(1),y.Sb()),2&t){const t=e.$implicit;y.lc("value",t.proveedor),y.Cb(1),y.Gc(" (",t.nit,") ",t.razon_social," ")}}function K(t,e){if(1&t){const t=y.Ub();y.Tb(0,"mat-form-field",9),y.Tb(1,"input",20),y.bc("ngModelChange",function(e){return y.wc(t),y.fc(2).ordenCompra.notas=e}),y.Sb(),y.Sb()}if(2&t){const t=y.fc(2);y.Cb(1),y.lc("ngModel",t.ordenCompra.notas)}}function L(t,e){if(1&t&&(y.Tb(0,"mat-option",19),y.Dc(1),y.Sb()),2&t){const t=e.$implicit;y.lc("value",t.tipo_movimiento),y.Cb(1),y.Fc(" ",t.descripcion," ")}}function X(t,e){if(1&t&&(y.Tb(0,"mat-option",19),y.Dc(1),y.Sb()),2&t){const t=e.$implicit;y.lc("value",t.bodega),y.Cb(1),y.Fc(" ",t.descripcion," ")}}const J=function(){return[2,3]};function V(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",21),y.bc("click",function(){return y.wc(t),y.fc(2).generarIngreso()}),y.Dc(1," Generar ingreso "),y.Sb()}if(2&t){y.fc();const t=y.tc(1),e=y.fc();y.lc("disabled",!t.form.valid||y.nc(1,J).indexOf(+e.ordenCompra.estatus_movimiento)>=0||!e.ordenCompra.bodega||!e.ordenCompra.tipo_movimiento)}}function Y(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",22),y.bc("click",function(){return y.wc(t),y.fc(2).resetOrdenCompra()}),y.Dc(1," Nueva "),y.Sb()}}function Z(t,e){if(1&t){const t=y.Ub();y.Tb(0,"form",7,8),y.bc("ngSubmit",function(){y.wc(t);const e=y.tc(1),o=y.fc();return e.form.valid&&o.onSubmit()}),y.Tb(2,"mat-form-field",9),y.Tb(3,"mat-label"),y.Dc(4,"Proveedor"),y.Sb(),y.Tb(5,"mat-select",10),y.bc("ngModelChange",function(e){return y.wc(t),y.fc().ordenCompra.proveedor=e}),y.Cc(6,B,2,3,"mat-option",11),y.Sb(),y.Sb(),y.Cc(7,K,2,1,"mat-form-field",12),y.Tb(8,"mat-form-field",9),y.Tb(9,"mat-label"),y.Dc(10,"Tipo de movimiento"),y.Sb(),y.Tb(11,"mat-select",13),y.bc("ngModelChange",function(e){return y.wc(t),y.fc().ordenCompra.tipo_movimiento=e}),y.Cc(12,L,2,2,"mat-option",11),y.Sb(),y.Sb(),y.Tb(13,"mat-form-field",9),y.Tb(14,"mat-label"),y.Dc(15,"Bodega"),y.Sb(),y.Tb(16,"mat-select",14),y.bc("ngModelChange",function(e){return y.wc(t),y.fc().ordenCompra.bodega=e}),y.Cc(17,X,2,2,"mat-option",11),y.Sb(),y.Sb(),y.Tb(18,"div",15),y.Tb(19,"button",16),y.Dc(20," Guardar "),y.Sb(),y.Cc(21,V,2,2,"button",17),y.Cc(22,Y,2,0,"button",18),y.Sb(),y.Sb()}if(2&t){const t=y.tc(1),e=y.fc();y.Cb(5),y.lc("ngModel",e.ordenCompra.proveedor),y.Cb(1),y.lc("ngForOf",e.proveedores),y.Cb(1),y.lc("ngIf",e.esMovil),y.Cb(4),y.lc("ngModel",e.ordenCompra.tipo_movimiento),y.Cb(1),y.lc("ngForOf",e.tiposMovimiento),y.Cb(4),y.lc("ngModel",e.ordenCompra.bodega),y.Cb(1),y.lc("ngForOf",e.bodegas),y.Cb(2),y.lc("disabled",!t.form.valid||y.nc(10,J).indexOf(+e.ordenCompra.estatus_movimiento)>=0),y.Cb(2),y.lc("ngIf",e.ordenCompra.orden_compra&&e.detallesOrdenCompra.length>0),y.Cb(1),y.lc("ngIf",e.ordenCompra.orden_compra)}}function tt(t,e){1&t&&y.Ob(0,"hr")}function et(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",5),y.bc("click",function(){return y.wc(t),y.fc(2).showDetalleOrdenCompraForm=!0}),y.Tb(1,"mat-icon",6),y.Dc(2,"expand_more"),y.Sb(),y.Sb()}}function ot(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",5),y.bc("click",function(){return y.wc(t),y.fc(2).showDetalleOrdenCompraForm=!1}),y.Tb(1,"mat-icon",6),y.Dc(2,"expand_less"),y.Sb(),y.Sb()}}function nt(t,e){if(1&t&&(y.Tb(0,"mat-option",19),y.Dc(1),y.Sb()),2&t){const t=e.$implicit;y.lc("value",t.articulo),y.Cb(1),y.Fc(" ",t.descripcion," ")}}function rt(t,e){if(1&t){const t=y.Ub();y.Tb(0,"mat-form-field",9),y.Tb(1,"input",26),y.bc("ngModelChange",function(e){return y.wc(t),y.fc(3).detalleOrdenCompra.cantidad=e})("change",function(){y.wc(t);const e=y.fc(3);return e.detalleOrdenCompra.total=+e.detalleOrdenCompra.monto*+e.detalleOrdenCompra.cantidad}),y.Sb(),y.Sb()}if(2&t){const t=y.fc(3);y.Cb(1),y.lc("ngModel",t.detalleOrdenCompra.cantidad)}}function at(t,e){if(1&t){const t=y.Ub();y.Tb(0,"mat-form-field",9),y.Tb(1,"input",27),y.bc("ngModelChange",function(e){return y.wc(t),y.fc(3).detalleOrdenCompra.monto=e})("change",function(){y.wc(t);const e=y.fc(3);return e.detalleOrdenCompra.total=+e.detalleOrdenCompra.monto*+e.detalleOrdenCompra.cantidad}),y.Sb(),y.Sb()}if(2&t){const t=y.fc(3);y.Cb(1),y.lc("ngModel",t.detalleOrdenCompra.monto)}}function ct(t,e){if(1&t){const t=y.Ub();y.Tb(0,"button",22),y.bc("click",function(){return y.wc(t),y.fc(3).resetDetalleOrdenCompra()}),y.Dc(1," Nuevo "),y.Sb()}}function it(t,e){if(1&t){const t=y.Ub();y.Tb(0,"form",7,24),y.bc("ngSubmit",function(){y.wc(t);const e=y.tc(1),o=y.fc(2);return e.form.valid&&o.onSubmitDetail()}),y.Tb(2,"mat-form-field",9),y.Tb(3,"mat-label"),y.Dc(4,"Art\xedculo"),y.Sb(),y.Tb(5,"mat-select",25),y.bc("ngModelChange",function(e){return y.wc(t),y.fc(2).detalleOrdenCompra.articulo=e}),y.Cc(6,nt,2,2,"mat-option",11),y.Sb(),y.Sb(),y.Cc(7,rt,2,1,"mat-form-field",12),y.Cc(8,at,2,1,"mat-form-field",12),y.Tb(9,"div",15),y.Tb(10,"button",16),y.Dc(11," Guardar "),y.Sb(),y.Cc(12,ct,2,0,"button",18),y.Sb(),y.Sb()}if(2&t){const t=y.tc(1),e=y.fc(2);y.Cb(5),y.lc("ngModel",e.detalleOrdenCompra.articulo),y.Cb(1),y.lc("ngForOf",e.articulos),y.Cb(1),y.lc("ngIf",e.esMovil),y.Cb(1),y.lc("ngIf",e.esMovil),y.Cb(2),y.lc("disabled",!t.form.valid||y.nc(6,J).indexOf(+e.ordenCompra.estatus_movimiento)>=0),y.Cb(2),y.lc("ngIf",e.detalleOrdenCompra.orden_compra_detalle)}}function lt(t,e){1&t&&y.Ob(0,"hr")}function dt(t,e){1&t&&(y.Tb(0,"th",40),y.Dc(1,"Art\xedculo"),y.Sb())}function st(t,e){if(1&t&&(y.Tb(0,"td",41),y.Dc(1),y.Sb()),2&t){const t=e.$implicit;y.Cb(1),y.Ec(t.articulo.descripcion)}}function mt(t,e){1&t&&(y.Tb(0,"th",42),y.Dc(1,"Cantidad"),y.Sb())}function bt(t,e){if(1&t&&(y.Tb(0,"td",43),y.Dc(1),y.gc(2,"number"),y.Sb()),2&t){const t=e.$implicit;y.Cb(1),y.Ec(y.ic(2,1,t.cantidad,"1.2-2"))}}function pt(t,e){1&t&&(y.Tb(0,"th",42),y.Dc(1,"Monto"),y.Sb())}function ut(t,e){if(1&t&&(y.Tb(0,"td",43),y.Dc(1),y.gc(2,"number"),y.Sb()),2&t){const t=e.$implicit;y.Cb(1),y.Ec(y.ic(2,1,t.monto,"1.2-2"))}}function ft(t,e){1&t&&(y.Tb(0,"th",42),y.Dc(1,"Total"),y.Sb())}function Ct(t,e){if(1&t&&(y.Tb(0,"td",43),y.Dc(1),y.gc(2,"number"),y.Sb()),2&t){const t=e.$implicit;y.Cb(1),y.Ec(y.ic(2,1,t.total,"1.2-2"))}}function ht(t,e){1&t&&(y.Tb(0,"th",40),y.Dc(1,"\xa0"),y.Sb())}function gt(t,e){if(1&t){const t=y.Ub();y.Tb(0,"td",41),y.Tb(1,"button",44),y.bc("click",function(){y.wc(t);const o=e.$implicit;return y.fc(3).getDetalleOrdenCompra(o.orden_compra,o.orden_compra_detalle)}),y.Dc(2," Editar "),y.Sb(),y.Sb()}if(2&t){const t=y.fc(3);y.Cb(1),y.lc("disabled",y.nc(1,J).indexOf(+t.ordenCompra.estatus_movimiento)>=0)}}function vt(t,e){1&t&&y.Ob(0,"tr",45)}function Ot(t,e){1&t&&y.Ob(0,"tr",46)}function St(t,e){if(1&t&&(y.Tb(0,"table",28),y.Rb(1,29),y.Cc(2,dt,2,0,"th",30),y.Cc(3,st,2,1,"td",31),y.Qb(),y.Rb(4,32),y.Cc(5,mt,2,0,"th",33),y.Cc(6,bt,3,4,"td",34),y.Qb(),y.Rb(7,35),y.Cc(8,pt,2,0,"th",33),y.Cc(9,ut,3,4,"td",34),y.Qb(),y.Rb(10,36),y.Cc(11,ft,2,0,"th",33),y.Cc(12,Ct,3,4,"td",34),y.Qb(),y.Rb(13,37),y.Cc(14,ht,2,0,"th",30),y.Cc(15,gt,3,2,"td",31),y.Qb(),y.Cc(16,vt,1,0,"tr",38),y.Cc(17,Ot,1,0,"tr",39),y.Sb()),2&t){const t=y.fc(2);y.lc("dataSource",t.dataSource),y.Cb(16),y.lc("matHeaderRowDef",t.displayedColumns),y.Cb(1),y.lc("matRowDefColumns",t.displayedColumns)}}function Tt(t,e){if(1&t&&(y.Tb(0,"mat-card",0),y.Tb(1,"mat-card-title"),y.Tb(2,"h4"),y.Dc(3),y.Cc(4,et,3,0,"button",1),y.Cc(5,ot,3,0,"button",1),y.Sb(),y.Sb(),y.Tb(6,"mat-card-content"),y.Cc(7,it,13,7,"form",2),y.Cc(8,lt,1,0,"hr",3),y.Cc(9,St,18,3,"table",23),y.Sb(),y.Sb()),2&t){const t=y.fc();y.Cb(3),y.Fc(" Detalle de orden de compra No. ",t.ordenCompra.orden_compra," "),y.Cb(1),y.lc("ngIf",!t.showDetalleOrdenCompraForm),y.Cb(1),y.lc("ngIf",t.showDetalleOrdenCompraForm),y.Cb(2),y.lc("ngIf",t.showDetalleOrdenCompraForm),y.Cb(1),y.lc("ngIf",t.detallesOrdenCompra.length>0),y.Cb(1),y.lc("ngIf",t.detallesOrdenCompra.length>0)}}let _t=(()=>{class t{constructor(t,e,o,n,r,a,c){this._snackBar=t,this.ls=e,this.ordenCompraSrvc=o,this.proveedorSrvc=n,this.articuloSrvc=r,this.tipoMovimientoSrvc=a,this.bodegaSrvc=c,this.ordenCompraSavedEv=new y.o,this.showOrdenCompraForm=!0,this.showDetalleOrdenCompraForm=!0,this.detallesOrdenCompra=[],this.displayedColumns=["articulo","cantidad","monto","total","editItem"],this.proveedores=[],this.articulos=[],this.tiposMovimiento=[],this.bodegas=[],this.esMovil=!1,this.loadProveedores=()=>{this.proveedorSrvc.get().subscribe(t=>{t&&(this.proveedores=t)})},this.loadTiposMovimiento=()=>{this.tipoMovimientoSrvc.get().subscribe(t=>{t&&(this.tiposMovimiento=t)})},this.loadBodegas=()=>{this.bodegaSrvc.get().subscribe(t=>{t&&(this.bodegas=t)})},this.resetOrdenCompra=()=>{this.ordenCompra={orden_compra:null,proveedor:null,usuario:this.ls.get(F.a.usrTokenVar).idusr||0,notas:null,estatus_movimiento:1,bodega:null,tipo_movimiento:null},this.resetDetalleOrdenCompra()},this.onSubmit=()=>{this.ordenCompraSrvc.save(this.ordenCompra).subscribe(t=>{t.exito&&(this.ordenCompraSavedEv.emit(),this.resetOrdenCompra(),this.ordenCompra={orden_compra:+t.compra.orden_compra,proveedor:t.compra.proveedor,fecha:t.compra.fecha,usuario:t.compra.usuario,notas:t.compra.notas,estatus_movimiento:1},this.loadDetalleOrdenCompra(this.ordenCompra.orden_compra))})},this.loadArticulos=()=>{this.articuloSrvc.getArticulos().subscribe(t=>{t&&(this.articulos=t)})},this.resetDetalleOrdenCompra=()=>this.detalleOrdenCompra={orden_compra_detalle:null,orden_compra:this.ordenCompra.orden_compra?this.ordenCompra.orden_compra:null,articulo:null,cantidad:null,monto:null,total:null},this.loadDetalleOrdenCompra=(t=+this.ordenCompra.orden_compra)=>{this.ordenCompraSrvc.getDetalle(t,{orden_compra:t}).subscribe(t=>{t&&(this.detallesOrdenCompra=t,this.updateTableDataSource())})},this.getDetalleOrdenCompra=(t=+this.ordenCompra.orden_compra,e)=>{this.ordenCompraSrvc.getDetalle(t,{orden_compra_detalle:e}).subscribe(t=>{t&&(this.detalleOrdenCompra={orden_compra_detalle:t[0].orden_compra_detalle,orden_compra:t[0].orden_compra,articulo:t[0].articulo.articulo,cantidad:+t[0].cantidad,monto:+t[0].monto,total:+t[0].total},this.showDetalleOrdenCompraForm=!0)})},this.onSubmitDetail=()=>{this.detalleOrdenCompra.orden_compra=this.ordenCompra.orden_compra,this.ordenCompraSrvc.saveDetalle(this.detalleOrdenCompra).subscribe(t=>{t&&(this.loadDetalleOrdenCompra(),this.resetDetalleOrdenCompra())})},this.updateTableDataSource=()=>this.dataSource=new u.k(this.detallesOrdenCompra),this.generarIngreso=()=>{this.ordenCompra.estatus_movimiento=2,this.onSubmit()}}ngOnInit(){this.esMovil=this.ls.get(F.a.usrTokenVar).enmovil||!1,this.resetOrdenCompra(),this.loadProveedores(),this.loadArticulos(),this.loadBodegas(),this.loadTiposMovimiento()}}return t.\u0275fac=function(e){return new(e||t)(y.Nb(g.a),y.Nb(k.a),y.Nb(N),y.Nb(R.a),y.Nb(W.a),y.Nb(A.a),y.Nb(Q.a))},t.\u0275cmp=y.Hb({type:t,selectors:[["app-form-orden-compra"]],inputs:{ordenCompra:"ordenCompra"},outputs:{ordenCompraSavedEv:"ordenCompraSavedEv"},decls:10,vars:6,consts:[[1,"mat-elevation-z4","fullWidth"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["class","mat-elevation-z4 fullWidth",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click"],[1,"iconFontSize"],["novalidate","",3,"ngSubmit"],["frmOrdenCompra","ngForm"],[1,"fullWidth"],["name","proveedor","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","fullWidth",4,"ngIf"],["name","tipo_movimiento",3,"ngModel","ngModelChange"],["name","bodega",3,"ngModel","ngModelChange"],["align","end"],["mat-raised-button","","type","submit","color","accent",1,"btnAccion",3,"disabled"],["mat-raised-button","","type","button","color","accent","class","btnAccion",3,"disabled","click",4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click",4,"ngIf"],[3,"value"],["matInput","","placeholder","Notas","name","notas",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","accent",1,"btnAccion",3,"disabled","click"],["mat-raised-button","","type","button","color","accent",3,"click"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["frmDetalleOrdenCompra","ngForm"],["name","articulo","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cantidad","name","cantidad","required","",3,"ngModel","ngModelChange","change"],["matInput","","placeholder","Monto","name","monto","required","",3,"ngModel","ngModelChange","change"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","articulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-wrap",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","monto"],["matColumnDef","total"],["matColumnDef","editItem"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"text-wrap"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Tb(0,"mat-card",0),y.Tb(1,"mat-card-title"),y.Tb(2,"h4"),y.Dc(3),y.Cc(4,G,3,0,"button",1),y.Cc(5,q,3,0,"button",1),y.Sb(),y.Sb(),y.Tb(6,"mat-card-content"),y.Cc(7,Z,23,11,"form",2),y.Sb(),y.Sb(),y.Cc(8,tt,1,0,"hr",3),y.Cc(9,Tt,10,6,"mat-card",4)),2&t&&(y.Cb(3),y.Fc(" Orden de compra",e.ordenCompra.orden_compra?" No. "+e.ordenCompra.orden_compra:""," "),y.Cb(1),y.lc("ngIf",!e.showOrdenCompraForm),y.Cb(1),y.lc("ngIf",e.showOrdenCompraForm),y.Cb(2),y.lc("ngIf",e.showOrdenCompraForm),y.Cb(1),y.lc("ngIf",e.ordenCompra.orden_compra),y.Cb(1),y.lc("ngIf",e.ordenCompra.orden_compra))},directives:[m.a,m.h,n.m,m.c,h.a,l.a,a.r,a.l,a.m,d.b,d.e,f.a,a.p,a.k,a.n,n.l,j.k,s.b,a.c,u.j,u.c,u.e,u.b,u.g,u.i,u.d,u.a,u.f,u.h],pipes:[n.f],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.iconFontSize[_ngcontent-%COMP%]{font-size:24pt}"]}),t})();const Dt=["lstOrdenCompra"],wt=["frmOrdenCompra"],Mt=[{path:"ordcomp",component:(()=>{class t{constructor(t){this.ls=t,this.setOrdenCompra=t=>{this.ordenCompra=t,this.frmOrdenCompra.loadDetalleOrdenCompra(+this.ordenCompra.orden_compra)},this.refreshOrdenCompraList=()=>{this.lstOrdenCompraComponent.loadOrdenesCompra()},this.ordenCompra={orden_compra:null,proveedor:null,usuario:this.ls.get(F.a.usrTokenVar).idusr||0,notas:null,estatus_movimiento:1,bodega:null,tipo_movimiento:null}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(y.Nb(k.a))},t.\u0275cmp=y.Hb({type:t,selectors:[["app-orden-compra"]],viewQuery:function(t,e){if(1&t&&(y.Ic(Dt,1),y.Ic(wt,1)),2&t){let t;y.sc(t=y.cc())&&(e.lstOrdenCompraComponent=t.first),y.sc(t=y.cc())&&(e.frmOrdenCompra=t.first)}},decls:7,vars:1,consts:[[1,"row"],[1,"col","m5","s12"],[3,"getOrdenCompraEv"],["lstOrdenCompra",""],[1,"col","m7","s12"],[3,"ordenCompra","ordenCompraSavedEv"],["frmOrdenCompra",""]],template:function(t,e){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"app-lista-orden-compra",2,3),y.bc("getOrdenCompraEv",function(t){return e.setOrdenCompra(t)}),y.Sb(),y.Sb(),y.Tb(4,"div",4),y.Tb(5,"app-form-orden-compra",5,6),y.bc("ordenCompraSavedEv",function(){return e.refreshOrdenCompraList()}),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Cb(5),y.lc("ordenCompra",e.ordenCompra))},directives:[P,_t],styles:[""]}),t})(),canActivate:[I.a]},{path:"**",redirectTo:"/admin/dashboard",pathMatch:"full"}];let It=(()=>{class t{}return t.\u0275mod=y.Lb({type:t}),t.\u0275inj=y.Kb({factory:function(e){return new(e||t)},imports:[[M.d.forChild(Mt)],M.d]}),t})(),Ft=(()=>{class t{}return t.\u0275mod=y.Lb({type:t}),t.\u0275inj=y.Kb({factory:function(e){return new(e||t)},imports:[[n.c,It,c.a,r.c,a.e,i.d,l.b,d.d,s.c,m.f,b.b,p.c,u.l,f.b,C.b,h.b,g.b,v.b,O.d,S.b,T.b,_.e,D.d,w.c]]}),t})()}}]);